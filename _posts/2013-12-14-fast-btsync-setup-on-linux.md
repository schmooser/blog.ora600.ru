---
layout: post
title: Быстрая настройка BTSync на Linux
lang: ru
category: btsync
---

1. Качаем [BTSync], распаковываем и копируем исполняемый файл `btsync`
куда-нибудь в `$PATH`.

2. Если хотим расшарить папку, то генерируем секретный ключ:

        btsync --generate-secret
    
    Результатом будет ключ вида `ABVERK6XBMBG7PJPLXTJJGFLZVBS2TM67` (начинается
на A). Запоминаем!

3. Если хотим создать readonly-ключ и выдать его кому-нибудь, то из read-write
ключа получаем его так:

        btsync --get-ro-secret ABVERK6XBMBG7PJPLXTJJGFLZVBS2TM67
    
    Результатом будет ключ вида `BEJ5VRAFKFEARZ6LCAR2OTNHGRRM4X3ER` (начинается
на B). Сообщаем этот ключ readonly-стороне.
   
3. Делаем дамп пример конфигурационного файла:

        btsync --dump-sample-config > btsync.conf

4. Мне веб-интерфейс не нужен, поэтому я комментирую строку `listen ...` в
блоке `webui` и прописываю нужные расшаренные папки в блоке `shared_folders`.
ВНИМАНИЕ!!! По-умолчанию этот блок в примере конфига закомментирован, но начало
и конец комментария выставлены неудачно и если у вас редактор без подсветки
синтаксиса JSON, то этого легко не заметить. В таком случае btsync откажется
запускаться. На это напарывался я и еще несколько человек независимо от меня.
Нужно убедиться, что блок `shared_folders` действительно раскомментирован.

    В shared_folders прописываем путь к папке и ключ. Ключ берем или из п.2 или
полученный от кого-нибудь для синхронизации.
    
5. Запускаем btsync

        btsync --config btsync.conf
    
    и идем пить чай.

Собственно, все настолько просто (все вышеизложенное понимается за секунду
смотря на `btsync --help`) что и описывать, наверное, не стоило. Дойдут руки --
напишу как общаться с BTSync через API.

[BTSync]: http://www.bittorrent.com/sync/downloads

