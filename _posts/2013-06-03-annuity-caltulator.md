---

layout: post  
lang: ru  
title: Аннуитетный калькулятор  
category: python  

---

Написал на Питоне коротенький аннуитетный калькулятор, рассчитывающий размер платежа, начисленный проценты и общую сумму переплаты. 

Оказалось, что если взять кредит на 3 года и погашать досрочно суммами, равными аннуитетному платежу для срока кредита 1 год, то переплата процентов будет в точности равна переплате, если просто взять кредит на 1 год.

Калькулятор:

    # -*- encoding: utf-8 -*-

    PCT = 14.99/100
    YEARS = 2
    m = 12  # number of payments in year

    SUM = 100000

    K = (PCT/m)/(1-(1+(PCT/m))**(-1*YEARS*m))  # annuity quotient

    def iterate():
      global SUM, K, YEARS, m
      remainder = SUM
      totals = {'percents': 0, 'payments': 0}
      print('{:<10}\t{:<10}\t{:<10}\t{:<10}\t{:<10}'.format('MONTH', 'PERCENT', 'PAYMENT',
                                                            'REMAINDER', 'EXTRA'))
      for i in range(YEARS*m):
        percent = remainder*PCT/m
        payment = K*SUM
        extra = 0
        remainder = max(0, remainder + percent - payment - extra)
        totals['percents'] += percent
        totals['payments'] += payment
        print('{:<10}\t{:<10.2f}\t{:<10.2f}\t{:<10.2f}\t{:<10.2f}'.format(i+1, percent, payment,
                                                                          remainder, extra))
        if remainder == 0: break
      print('-'*80)
      print('{:<10}\t{:<10.2f}\t{:<10.2f}'.format('TOTAL', totals['percents'],
                                                  totals['payments']))

    iterate()

Пример расчета:

    MONTH       PERCENT   	PAYMENT   	REMAINDER 	EXTRA     
    1         	1249.17   	4848.19   	96400.98  	0.00      
    2         	1204.21   	4848.19   	92757.00  	0.00      
    3         	1158.69   	4848.19   	89067.50  	0.00      
    4         	1112.60   	4848.19   	85331.91  	0.00      
    5         	1065.94   	4848.19   	81549.66  	0.00      
    6         	1018.69   	4848.19   	77720.16  	0.00      
    7         	970.85    	4848.19   	73842.82  	0.00      
    8         	922.42    	4848.19   	69917.05  	0.00      
    9         	873.38    	4848.19   	65942.24  	0.00      
    10        	823.73    	4848.19   	61917.78  	0.00      
    11        	773.46    	4848.19   	57843.05  	0.00      
    12        	722.56    	4848.19   	53717.41  	0.00      
    13        	671.02    	4848.19   	49540.24  	0.00      
    14        	618.84    	4848.19   	45310.90  	0.00      
    15        	566.01    	4848.19   	41028.71  	0.00      
    16        	512.52    	4848.19   	36693.04  	0.00      
    17        	458.36    	4848.19   	32303.21  	0.00      
    18        	403.52    	4848.19   	27858.54  	0.00      
    19        	348.00    	4848.19   	23358.35  	0.00      
    20        	291.78    	4848.19   	18801.95  	0.00      
    21        	234.87    	4848.19   	14188.62  	0.00      
    22        	177.24    	4848.19   	9517.67   	0.00      
    23        	118.89    	4848.19   	4788.37   	0.00      
    24        	59.81     	4848.19   	0.00      	0.00      
    --------------------------------------------------------------------------------
    TOTAL     	16356.55  	116356.55 


