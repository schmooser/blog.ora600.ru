---

layout: post
title: Жизнь с IPv6 
lang: ru
tags: [ipv4, ipv6, networking, selectel]

---

Недавно [Селектел](http://selectel.ru) ввел плату за IPv4, что-то около 72 рублей в месяц. Не много, чтобы отказываться, но у меня есть одна выключенная машина, жрущая за диски 1 рубль в день (30 рублей в месяц). Поэтому, я решил отказаться от IPv4 для этой машины. Теперь у нее гордый длинный адрес IPv6. Начал думать, что можно с ним сделать. Оказалось, что прописывать IP-адрес в DNS надо через запись типа AAAA вместо записи типа A. Также, меня это удивило больше всего, в адресе IPv6 не 6 байт, как я думал исходя из названия, а 16. Таким образом это 32 шестнадцатеричных числа, при записи их объединяют в 8 групп по 4 числа. Подробнее в [Википедии](http://ru.wikipedia.org/wiki/IPv6). Пинговать сервер с адресом IPv6 надо командой `ping6`, обычный `ping` ее не понимает.  

Чтобы посмотреть корректность определения адреса IPv6 в DNS надо использовать следующий синтаксис nslookup:

    $nslookup
    >set q=all
    >host

Прописал IPv6 адрес машины в DNS, попробую поработать с ним, опишу позже здесь, как все проходит.

- - - 

А происходит страшное. После [миграции]({% post_url 2013-04-22-migration-from-e2-to-jekyll %}), машина, на которой крутился старый блог стала мне не нужна и я постепенно забрал оттуда все остальное, отключил у нее IPv4 и выключил ее.

Сегодня я захотел пописать пост про Oracle, для этого мне нужен работающий инстанс. Он как раз стоит на машине в Селектеле с IPv6. Включил ее, прописал в DNS ее адрес, пытаюсь зайти – и не получается. Все утилиты говорят `no route to host` а `nslookup` говорит, что такой опции `set q=all` нет. В общем, потыкавшись немного я пока решил забить на IPv6.
