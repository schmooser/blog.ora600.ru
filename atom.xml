<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

 <title>Блог Павла Попова</title>
 <link href="/atom.xml" rel="self"/>
 <link href="/"/>
 <updated>2014-08-05T00:28:46+04:00</updated>
 <id></id>
 <author>
   <name>Павел Попов</name>
   <email>schmooser@gmail.com</email>
 </author>

 
 <entry>
   <title>Сравнение расходов по периодам используя IPython</title>
   <link href="/ledger-ipython/"/>
   <updated>2014-08-04T00:00:00+04:00</updated>
   <id>/ledger-ipython</id>
   <content type="html">&lt;p&gt;В &lt;a href=&quot;/ledger/&quot;&gt;ledger&lt;/a&gt;, где я веду бухгалтерию, можно вывести отчет за период. Например, у
меня определены следующие команды в &lt;code&gt;.zshrc&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;alias equity=&quot;ledger balance Assets Liabilities $@&quot;
alias expenses=&quot;ledger balance Expenses -p &#39;this month&#39; --start-of-week=1 $@&quot;
alias netincome=&quot;ledger balance --collapse --invert Income Expenses --start-of-week=1 -p &#39;this month&#39; $@&quot;
alias income=&quot;ledger balance Income --invert --start-of-week=1 -p &#39;this month&#39; $@&quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Иногда хочется сравнить периоды между собой, и как построить подобный отчет
с помощью ledger я не знаю. Поэтому, я решил написать немного кода, который бы
сравнивал это за меня. Сначала я решил это написать на языке &lt;a href=&quot;http://clojure.org&quot;&gt;clojure&lt;/a&gt;, который
я сейчас изучаю, в качестве тестового примера. Писал дня 2, в итоге написал
загрузку данных из CSV-файлов (по одному на каждый месяц) и их соединение (full
outer join). Осталось только написать вывод в файл. Кода получилось много, но с
синтаксисом clojure я разобрался. Дальше я продолжать не стал, потому что решать
такую задачу не изучив все возможности языка — пустая трата времени, будешь
реализовывать ненужные алгоритмы.&lt;/p&gt;

&lt;p&gt;А сегодня я вспомнил про &lt;a href=&quot;http://ipython.org&quot;&gt;IPython&lt;/a&gt;, интерактивную среду для Python с уклоном в
статистическую обработку данных и представление информации. Скачал, установил,
весь день разбирался как реализовать то, что мне нужно. Сначала написал долго
пытался разобраться с magic функциями IPython (которые не питоновские функции а
функции оболочки IPython). Пытался через &lt;code&gt;%alias&lt;/code&gt; создать а-ля функцию, которая
будет по месяцу выгружать отчет из ledger. Оказалось, что IPython как-то очень
странно работает с параметрами.&lt;/p&gt;

&lt;p&gt;Вот пример:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;In [1]: %alias e echo one \&quot;%s\&quot; two \&quot;%s\&quot; three \&quot;%s\&quot;

In [2]: e a b c
one &quot;a&quot; two &quot;b&quot; three &quot;c&quot;

In [3]: e &quot;a b c&quot; b c
one &quot;a&quot; two &quot;b&quot; three &quot;c&quot; b c

In [4]: e &quot;its a kind of magic&quot;
one &quot;its&quot; two &quot;a&quot; three &quot;kind&quot; of magic
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Вообще не понимаю, как такое происходит и как передать в параметр к
magic-функции строку, содержащую пробел.&lt;/p&gt;

&lt;p&gt;В итоге, я отказался от использования magic-функций и вызываю в цикле выполнение
команды, записанной в строковую переменную.&lt;/p&gt;

&lt;p&gt;Я, по аналогии с clojure, сначала реализовал собственную фукнцию соединения двух
словарей а когда начал читать о выводе данных в табличном виде, наткнулся на
библиотеку &lt;a href=&quot;http://pandas.pydata.org&quot;&gt;pandas&lt;/a&gt;, которая выводит данные в табличном виде. Также у этой
библиотеки есть функции соединения датасетов на подобие джойнов в SQL. Моя
задача это по сути FULL OUTER JOIN всех анализируемых датасетов.&lt;/p&gt;

&lt;p&gt;В итоге, помимо сравнения месяцев, я туда добавил и столбец с бюджетом на месяц
а также суммарную информацию с начала года.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://iseetheline.ru/assets/ledger-ipython.html&quot;&gt;Пример&lt;/a&gt; ноутбука IPython, в котором реализован данный функционал.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Почему минута делится на 60 секунд, час на 60 минут, а в сутках только 24 часа?</title>
   <link href="/why-hour-divided-into-60-minutes/"/>
   <updated>2014-07-20T00:00:00+04:00</updated>
   <id>/why-hour-divided-into-60-minutes</id>
   <content type="html">&lt;p&gt;Мы повсеместно используем десятичную систему счисления. Однако, для подсчета
времени почему-то используется очень странная система, когда сутки делятся
на 24 часа, час делится на 60 минут, а минуты делятся на 60 секунд. В данной
статье рассматривается история появления подобной системы счисления.&lt;/p&gt;

&lt;!--more--&gt;

&lt;blockquote&gt;
  &lt;p&gt;Перевод статьи &lt;a href=&quot;http://www.scientificamerican.com/article/experts-time-division-days-hours-minutes/&quot;&gt;Why is a minute divided into 60 seconds, an hour into 60
minutes, yet there are only 24 hours in a
day?&lt;/a&gt;
в журнале Scientific American. Авторские права принадлежат Scientific
American.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;В современном мире самая популярная система счисления – десятичная
(основание - 10), которая по всей видимости изначально возникла потому, что
людям проще считать, используя их пальцы. Цивилизации, которые первыми
разделили день на части, однако, использовали другие системы счисления,
например двенадцетиричную (основание - 12) и шестидесятеричную (основание -
60).&lt;/p&gt;

&lt;p&gt;Благодаря документальным доказательствам того, что египтяне использовали
солнечные часы, большинство историков считают именно их первой цивилизацией,
разделившей день на меньшие части. Первые солнечные часы были просто
палками, вставленными в землю, которые показывали время по длине и
направлению отбрасываемой тени. Но уже в 15 веке до нашей эры египтяне
разработали более совершенные солнечные часы. Т-образный стержень ставился в
землю и калибровался таким образом, чтобы делить интервал между восходом
солнца и закатом на 12 частей. Это деление отражает использование египтянами
двенадцатиричной системы счисления – особенность числа 12 обычно относят
либо к факту что это целое число лунных циклов в году либо к соотносят к
числу пальцевых соединений на руке (три соединения между четырьмя пальцами,
исключая большие пальцы) - так можно считать до 12 большим пальцем. Эти
солнечные часы нового поколения скорее всего и сформировали период времени,
который мы сейчас называем часом. Хотя в сутках было приблизительно равное
количество часов, их длина варьировалась в течение года, когда летние часы
были существенно длиннее зимних часов.&lt;/p&gt;

&lt;p&gt;Без искусственного освещения люди этого периода времени рассматривали
светлое и темное время суток как две противоположные сущности а не как части
одного и того же дня. Без помощи солнечных часов разделить темное время
суток между закатом и рассветом было более трудной задачей нежели деление
светлой части. Однако, уже в эпоху когда человечество только начало
использовать солнечные часы, египетские астрономы уже наблюдали 36 звезд,
которые делили небосвод на равные части. Наступление ночи можно фиксировать
с появлением 18 из этих звезд, три из которых относились к каждому из двух
периодов заката, когда звезды тяжело рассмотреть. Период полной темноты
отмечался оставшимися 12 звездами, также деля ночь на 12 частей (еще одна
отсылка к двенадцатеричной системе). Во время Нового Царства (1550-1070 гг.
до н.э.) эта система измерения была упрощена до использования набора из 24
звезд, 12 из которых отмечали наступление ночи. Также использовались водяные
часы (клепсидра) для фиксирования времени в течение ночи - они, по всей
видимости, были самыми точными устройствами определения времени в древние
времена. Подобное часовое устройство – пример которых был найден в Храме
Амона в Карнаке, датирующееся 1400 г. до н.э. – представляло из себя сосуд с
наклонными внутренними стенками в который наливалась вода а на стенках были
риски, делящие ночь на 12 частей для разных месяцев.&lt;/p&gt;

&lt;p&gt;Разделив светлую и темную часть суток на 12 частей получили концепцию
24-часового дня. Однако, идея что час должен быть фиксированным периодом не
появлялась вплоть до Эллинистического периода, когда греческие астрономы
начали использовать подобную систему для их теоретических расчетов. Гиппарх,
чьи работы датируются между 147 и 127 гг. до н.э., предложил деление дня на
24 равных часа, 12 часов в светлой части и 12 часов в темной, которые
наблюдаются в дни равноденствия. Несмотря на предложение, люди продолжили
использовать часы, которые меняли длительность в зависимости от сезона еще
много столетий. (Часы с фиксированной длительностью стали популярны только
после появления механических часов в Европе в 14 веке.)&lt;/p&gt;

&lt;p&gt;Гиппарх и другие греческие астрономы применяли астрономические методы
которые были до этого разработаны вавилонянами, цивилизация которых
развивалась в Месопотамии. Вавилоняне использовали астрономические расчеты в
шестидесятеричной системе (основание - 60), которую они унаследовали от
шумеров, которые в свою очередь разработали ее около 2000 до н.э. Хотя
доподлинно неизвестно почему 60 было выбрано в качестве основания, это число
очень удобно для выражения дробей, т.к. 60 это наименьшее число, которое
нацело делится на первые 6 натуральных чисел (1..6) а также делится на 10,
12, 15, 20 и 30.&lt;/p&gt;

&lt;p&gt;Хотя шестидесятеричная система в обычных расчетах больше не используется,
для расчета уголв, географических координат и времени используется именно
она до сих пор. Фактически, круговая сущность часов и сферическая сущность
нашей планеты обязаны своим измерениям системе счисления, которой 4000 лет и
которая досталась нам от Вавилона.&lt;/p&gt;

&lt;p&gt;Греческий астроном Эратосфен (жил около 276-194 гг. до н.э.) использовал
шестидесятеричную систему для деления окружности на 60 частей для того,
чтобы разработать географическую систему координат, с горизонтальными
линиями широты проходящими через известные места на Земле в его время.
Столетие спустя, Гиппарх нормализовал линии широты так, чтобы они охватывали
360 градусов от севера к югу, от полюса до полюса. Клавдий Птолемей, в
трактате &lt;em&gt;Almagest&lt;/em&gt; (около 150 до н.э.), расширил метод Гиппарха, разделив
каждый из 360 градусов широты и долготы на еще меньшие части. Каждый градус
был разделен на 60 частей, каждая из которых снова была разделена на 60 еще
более мелких частей. Первое деление, &lt;em&gt;partes minutae primae&lt;/em&gt;, или “первая
минута”, стала известна как просто минута. Второе деление, &lt;em&gt;partes minutae
secundae&lt;/em&gt;, или “вторая минута,” стала известна просто как секунда.&lt;/p&gt;

&lt;p&gt;Минуты и секунды, однако, не использовались для ежедневного учета времени
еще много столетий после &lt;em&gt;Almagest&lt;/em&gt;. Часы отображали часы, разделенные на
половины, трети, четверти и, иногда, даже на 12 частей, но никогда не
делился на 60 частей. Фактически, час не воспринимали как длительность 60
минут. Отсутствовала практическая нужда для общества рассматривать минуты до
появления первых механических часов, которые показывали минуты, около конца
16 века. Даже сегодня, множество часов и наручных часов имеют разрешение в
одну минуту и не показывают секунды.&lt;/p&gt;

&lt;p&gt;Благодаря древним цивилизациям, которые определили и сохранили деления
времени, современное общество все еще рассматривает день как 24 часа, час
как 60 минут и минуту как 60 секунд. Достижения в науке счета времени,
однако, изменили принцип, по которому эти величины определяются. Секунды
были получены разбиением астрономических события на части, и Международная
система единиц (СИ) одно время определяла секунду как часть среднего
солнечного дня, а позже - как часть тропического года. Это определение было
изменено в 1967 году, когда секунда была переопределена как длительность
9,192,631,770 переходов между уровнями в атоме цезия. Это определение
открыло эру атомных часов и системы Всемирного координированного времени
(UTC).&lt;/p&gt;

&lt;p&gt;Интересно, что для того, чтобы атомное время соответствовало
астрономическому времени, к UTC надо периодически добавлять високосные
секунды. Таким образом, не все минуты содержат 60 секунд. Очень редкие
минуты, появляющиеся примерно 8 раз за десять лет, на самом деле содержат 61
секунду.&lt;/p&gt;

&lt;p&gt;Ссылки:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;em&gt;Time’s Pendulum.&lt;/em&gt; Jo Ellen Barnett. Plenum Press, 1998.&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;A History of Mathematics.&lt;/em&gt; Florian Cajori. MacMillan and Co., 1894.&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;History of the Hour.&lt;/em&gt; Gerhard Dohrn-van Rossum. University of Chicago Press, 1996.&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Что выгоднее – снимать квартиру или брать ипотеку?</title>
   <link href="/rent-or-buy/"/>
   <updated>2014-06-28T00:00:00+04:00</updated>
   <id>/rent-or-buy</id>
   <content type="html">&lt;p&gt;Думаю, этим вопросом задаются все люди у которых еще не решен квартирный вопрос.
С одной стороны – ипотека с бешеным процентом, с другой – цены на аренду жилья
тоже растут.&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;На сайте The New York Times опубликован &lt;a href=&quot;http://www.nytimes.com/interactive/2014/upshot/buy-rent-calculator.html&quot;&gt;интерактивный калькулятор&lt;/a&gt;, который
отвечает на этот вопрос. Учитываются многие параметры, включая депозит, уровень
инфляции и процентные ставки по депозитам. Помимо цены дома, естесственно.&lt;/p&gt;

&lt;p&gt;У меня получилось, что ипотека выгоднее, даже с учетом московских цен на
квартиры, огромную процентную ставку по ипотеке (по-умолчанию – 3.5%, в России
– от 12%).&lt;/p&gt;

&lt;p&gt;Параметры, которые я использовал при подсчете:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Цена дома – $250,000&lt;/li&gt;
  &lt;li&gt;Живем в доме 30 лет&lt;/li&gt;
  &lt;li&gt;Ипотека – 12% годовых на 20 лет&lt;/li&gt;
  &lt;li&gt;Цена дома растет на 5% в год&lt;/li&gt;
  &lt;li&gt;Аренда растет на 10% в год&lt;/li&gt;
  &lt;li&gt;Инфляция – 10%&lt;/li&gt;
  &lt;li&gt;Депозит можно положить под 6%&lt;/li&gt;
  &lt;li&gt;Остальные параметры – разумные&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Получилось, что квартиру за 8.5 миллионов рублей выгоднее купить если цена
аренды такой квартиры будет больше чем 23000 рублей.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2014/06/28/rent-or-buy/screenshot.png&quot; alt=&quot;rent-or-buy&quot; /&gt;&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Ledger – персональная бухгалтерия</title>
   <link href="/ledger/"/>
   <updated>2014-04-12T00:00:00+04:00</updated>
   <id>/ledger</id>
   <content type="html">&lt;p&gt;Я начал вести домашнюю бухгалтерию с лета 2010 года. В то время мои доходы и
расходы были практически одинаковы, и для больших трат мне приходилось копить.
Поэтому, необходимо было как-то контролировать доходы и расходы.&lt;/p&gt;

&lt;p&gt;Домашняя бухгалтерия помогает понять, на что тратятся деньги, какой текущий
остаток на счетах и показывает какие планируются траты. Когда у вас несколько
счетов в разных банках, да это еще и в разных валютах, понять сколько денег
в наличии довольно тяжело.&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;Первым сервисом, который я попробовал был сервис &lt;a href=&quot;http://www.4konverta.com&quot;&gt;“Четыре конверта”&lt;/a&gt;. Там
выстроена целая методика ведения бюджета и экономии денег, основанная на
выделении квоты на недели (4 недели в месяце). Попользовавшись пару месяцев я ее
бросил. Мне не понравился такой подход. К тому же у системы не было
никакого интересного функционала, это просто сайт. Выгрузить данные, сравнить
периоды по тратам, запланировать бюджет нельзя.&lt;/p&gt;

&lt;p&gt;Следующая система ведения домашней бухгалтерии, которой я пользовался долгое
время (4 года) — &lt;a href=&quot;http://zenmoney.ru&quot;&gt;ZenMoney&lt;/a&gt;. В этой системе есть практически все, что мне
нужно — поддержка нескольких счетов в разных валютах, переводы между счетами,
планируемые транзакции, бюджет. Критичная проблема сервиса для меня всего одна
— частые ошибки, когда начинает расходиться баланс или, например, внезапно
возникают давно покрытые долги. В таких случаях приходится писать в саппорт
сервиса, и если раньше они достаточно оперативно исправляли ошибки, то начиная с
2014-го года они перестали это делать в принципе. Мой баг, когда на странице
“Обзор” долгов нет, а на странице транзакций висят записи о долгах. После таких
ошибок желание пользоваться сервисом пропало и я начал задумываться о написании
своей собственной системы видения домашней бухгалтерии, благо что многие ведут
ее в таблицах в Google Docs.&lt;/p&gt;

&lt;p&gt;И тут я совершенно случайно наткнулся на &lt;a href=&quot;http://ledger-cli.org&quot;&gt;ledger&lt;/a&gt;. Тема всплыла на HackerNews
и оказалось, что это очень продвинутая система, работающая из командной строки с
журналом транзакций. При этом журнал транзакций это обычный текстовый файл в
human-readable формате.&lt;/p&gt;

&lt;p&gt;Вот пример транзакции:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;2014/05/12 комментарий
    Expenses:Проезд:Метро  1200
    Assets:Кошелек
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;В транзакции указано, что перевели 1200 чего-то (в моем случае – рублей) на
счет Expenses:Проезд:Метро со счета Assets:Кошелек. На самом деле, у
Assets:Кошелек стоит -1200, но ledger понимает это в неявном виде. Двоеточие
является разделителем иерархии счетов.&lt;/p&gt;

&lt;p&gt;Сам ledger в журнал транзакций никаких изменений не вносит, его задача –
прочитать файл, построить баланс по всем счетам и вывести отчет пользователю.&lt;/p&gt;

&lt;p&gt;Ledger это система видения бухгалтерии по принципам бухгалтерского учета, т.е. с
двойной записью. Основой являются транзакции (или проводки в
банковских терминах), переводящие деньги с одного счета на другой. При этом
деньги ни откуда не появляются и никуда не исчезают. Все счета принято делить на 5
категорий — Expenses (расходы), Assets (активы), Liabilities (обязательства –
кредиты, например), Income (доходы) и Equity (капитал). Это устоявшаяся бухгалтерская
терминология, слагаемые подчиняются основному правилу бухучета. Подробнее в
Википедии — &lt;a href=&quot;http://en.wikipedia.org/wiki/Accounting_equation&quot;&gt;Accounting Equation&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;При этом, у счетов типа Income в суммах будет стоять минус, что отражает
уменьшение денег у источника дохода, когда он платит вам.&lt;/p&gt;

&lt;p&gt;Создаем запись с начальным остатком, например такую&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;; OPENING
2014/05/01 * Opening balances
    Liabilities:Alfa Bank:кредитная карта     -12,345.0
    Liabilities:HomeCredit:кредитная карта    -44,422.0
    Assets:Alfa Bank:текущий счет              124,344.10
    Assets:Alfa Bank:Блиц-доход                39,500.05
    Assets:Alfa Bank:Блиц-доход              € 1,500.12
    Assets:Alfa Bank:Блиц-доход              $ 8,124.44
    Assets:Alfa Bank:текущий счет            € 400.44
    Assets:HomeCredit:вклад                    11180.66
    Equity:Opening Balances
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ledger сам понимает, что валюты разные и учитывает их отдельно. Результатом
работы команды &lt;code&gt;ledger -f data.journal balance&lt;/code&gt; будет:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;          175,024.81
        EUR 1,900.56
        USD 8,124.44  Assets
          163,844.15
        EUR 1,900.56
        USD 8,124.44    Alfa Bank
          124,344.10
          EUR 400.44      current
           39,500.05
        EUR 1,500.12
        USD 8,124.44      deposit
           11,180.66    HomeCredit:deposit
         -118,257.81
       EUR -1,900.56
       USD -8,124.44  Equity:Opening Balances
          -56,767.00  Liabilities
          -12,345.00    Alfa Bank:credit card
          -44,422.00    HomeCredit:credit card
--------------------
                   0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Счета, разделенные &lt;code&gt;:&lt;/code&gt;, ledger понимает как иерархические и строит по
ним дерево. Баланс сходится в 0. Можно выводить только нужные
категории. Например, чтобы оценить текущий баланс нужно вывести категории Assets
и Liabilities:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;C:\Users\rbd\ledger&amp;gt;hledger -f data.journal balance Assets Liabilities
         175,024.81
       EUR 1,900.56
       USD 8,124.44  Assets
         163,844.15
       EUR 1,900.56
       USD 8,124.44    Alfa Bank
         124,344.10
         EUR 400.44      current
          39,500.05
       EUR 1,500.12
       USD 8,124.44      deposit
          11,180.66    HomeCredit:deposit
         -56,767.00  Liabilities
         -12,345.00    Alfa Bank:credit card
         -44,422.00    HomeCredit:credit card
-------------------
         118,257.81
       EUR 1,900.56
       USD 8,124.44
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;(суммы выше полностью вымышленные)&lt;/p&gt;

&lt;p&gt;Помимо самого ledger есть много проектов, вдохновленных оригинальным
приложением. Самым значительным можно считать &lt;a href=&quot;http://hledger.org&quot;&gt;hledger&lt;/a&gt;, написанный на
Haskell.  Hledger совместим по формату журнала с ledger, но не поддерживает
некоторый синтаксис. Различия можно почитать на странице проекта. Для
большинства режимов использования они идентичны. В комплекте с hledger
поставляется компонент hledger-web, позволяющий поднять веб-сервер со страницей
управления журналом и получения различной аналитики и графики из браузера.&lt;/p&gt;

&lt;p&gt;Под Windows, ledger и hledger не могут отображать юникод. Hledger даже
отказывается понимать русский текст в журнале, поэтому в примере выше я писал
все на английском. Под OSX и Linux все в порядке, можно использовать юникодные
символы, включая новомодный знак рубля.&lt;/p&gt;

&lt;p&gt;Самая большая проблема при работе с ledger – ввод данных. Я решил эту проблему
следующим образом: под OS X я веду журнал в nvAlt, который синхронизуется с
Simplenote, на айфоне я использую приложение Simplenote для добавления новых
транзакций в журнал. Обновлять журнал я стараюсь регулярно, чем реже обновляешь,
тем больше вероятность забыть о чем-нибудь.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Machine Learning</title>
   <link href="/machine-learning/"/>
   <updated>2014-03-08T00:00:00+04:00</updated>
   <id>/machine-learning</id>
   <content type="html">&lt;p&gt;Записался на курс &lt;a href=&quot;https://www.coursera.org/course/ml&quot;&gt;Machine Learning&lt;/a&gt; на Coursera. Попробую целиком
прослушать и сдать экзамен.&lt;/p&gt;

&lt;p&gt;Здесь буду записывать очень краткие конспекты лекций.&lt;/p&gt;

&lt;!--more--&gt;

&lt;h2 id=&quot;week-1&quot;&gt;Week 1&lt;/h2&gt;

&lt;p&gt;Определение ML:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;A computer program is said to learn from experience E, with respect to some
task T, and some performance measure P, if its performance on T as measured
by P improves with experience E.&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;Tom Mitchell&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Задачи, решаемые ML:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Data mining во всех его проявлениях – обработка медицинских данных, данных
соцсетей, предпочтения в интернет-магазинах, контекстная реклама&lt;/li&gt;
  &lt;li&gt;Приложения, которые невозможно написать – автономный вертолет, распознование
символов, Natural Language Processing, компьютерное зрение.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Два типа ML:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Supervised learning&lt;/li&gt;
  &lt;li&gt;Unsupervised learning&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;supervised-learning&quot;&gt;Supervised Learning&lt;/h3&gt;

&lt;p&gt;Supervised Learning – это когда у нас есть набор данных E, по которым
&lt;em&gt;известен&lt;/em&gt; результат решения задачи T. Стоит задача для &lt;em&gt;новых&lt;/em&gt; данных получить
результат.&lt;/p&gt;

&lt;p&gt;Примеры:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Регрессия – есть факты по стоимости квадратного метра жилья в зависимости от
площади. Требуется для нового значения площади определить стоимость.&lt;/li&gt;
  &lt;li&gt;Спам-фильтр – обучаем машину вручную отмечая спам-письма, дальше она сама
учится помечать спам&lt;/li&gt;
  &lt;li&gt;Медицинские данные (например, по факту злокачественной раковой опухоли груди)
– знаем, факты, когда для определенного объема опухоли и возраста пациента
опухоль была злокачественной или нет, задача - для нового пациента определить
тип опухоли&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Первый пример – Regression Problem, два последних примера – пример
Classification Problem. В Classification Problem стоит задача по &lt;em&gt;в принципе
бесконечному&lt;/em&gt; количеству результатов проклассифицировать данные по какому-то
принципу.&lt;/p&gt;

&lt;h3 id=&quot;unsupervised-learning&quot;&gt;Unsupervised Learning&lt;/h3&gt;

&lt;p&gt;Unsupervised Learning – принцип тот же, что и в Supervised Learning, только
результата “правильных” значений нет. Пример задач – разбиение данных на
группы, выделение фрагментов.&lt;/p&gt;

&lt;p&gt;Человек визуально эту задачу решает очень хорошо – мозг настроен на выделение
паттернов. Задача – научить этому машину.&lt;/p&gt;

&lt;p&gt;Примеры:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Сегментация клиентов бизнеса по группам&lt;/li&gt;
  &lt;li&gt;Анализ данных соц. сетей&lt;/li&gt;
  &lt;li&gt;Группировка разных новостей из разных источников в топики – Google News&lt;/li&gt;
  &lt;li&gt;Геном человека – нужно выделить группы генов, которые есть у разных типов
людей&lt;/li&gt;
  &lt;li&gt;Астрономические данные – выделение туманностей и галактик&lt;/li&gt;
  &lt;li&gt;Разделение дорожек в аудио данных&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;training-set&quot;&gt;Training Set&lt;/h3&gt;

&lt;p&gt;В случае Supervised Learning исходный набор данных с решенной задачей
называется Training Set. В самом простом случае регрессии это двумерный набор
данных \((x, y)\).&lt;/p&gt;

&lt;p&gt;Training Set подается в Learning Algorithm и на выходе получается гипотеза
(Hypothesis) h. Эта “гипотеза” и есть обученный алгоритм, что если мы на вход
подадим какое-то новое \(x’\), отсутствующее в Training Set, то получим
результат работы нашей модели.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;h :: x -&amp;gt; y
map h [x] = [y]
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;week-2&quot;&gt;Week 2&lt;/h2&gt;

&lt;h3 id=&quot;section&quot;&gt;Регрессия&lt;/h3&gt;

&lt;p&gt;Самый простой случай решения задачи регрессии – линейная регрессия. В этом
случае функцией \(h\) является прямая.&lt;/p&gt;

&lt;div&gt;

\[ h(x) = \theta_{0} + \theta_{1} x \]

&lt;/div&gt;

&lt;p&gt;В этом случае, задача сводится к поиску оптимальных коэффициентов прямой.&lt;/p&gt;

&lt;p&gt;Задача имеет \(n\) features (параметров, но это слово уже занято для
\(\theta_j\)) и \(m\) наборов данных в тренировочном наборе.&lt;/p&gt;

&lt;p&gt;Конструируют некоторую функцию веса ошибки \(J(\Theta)\) от вектора
параметров размерностью \(n+1\):&lt;/p&gt;

&lt;div&gt;

\[\Theta = [\theta_0, \theta_1, ..., \theta_n] \]

&lt;/div&gt;

&lt;p&gt;Обычно это среднеквадратичное отклонение:&lt;/p&gt;

&lt;div&gt;

\[ J(\Theta) = \frac{1}{2m} \sum_{i=0}^m \left(h_{\theta}(x^{(i)}) - y^{(i)}\right)^2 \]

&lt;/div&gt;

&lt;p&gt;Т.к. параметров, определяющих алгоритм может быть множество (в качестве примера
– зависимость стоимости дома от площади, этажа, года постройки, количества
спален), удобно пользоваться аппаратом линейной алгебры – исходные наборы
представляются в виде матрицы \(X\), а параметры регрессии – в виде вектора
\(\Theta\). Тогда, положив \(x_0 = 1\), конкретное значение получается в
виде:&lt;/p&gt;

&lt;div&gt;

\[ h_\theta(x) = \Theta^T x \]

&lt;/div&gt;

&lt;p&gt;Задачей является поиск таких параметров \(\Theta\), для которых вес ошибки
будет минимальным.&lt;/p&gt;

&lt;p&gt;Минимум функции веса ошибки \(J(\Theta)\) ищут с помощью градиентного спуска
или с помощью явного аналитического решения с помощью линейной алгебры.&lt;/p&gt;

&lt;h3 id=&quot;gradient-descent&quot;&gt;Градиентный спуск (Gradient descent)&lt;/h3&gt;

&lt;p&gt;Выбираем некое начальное значение параметров. Одновременно вычисляем новые
значения для всех \(\theta_j\):&lt;/p&gt;

&lt;div&gt;

\[ \theta_j = \theta_j - \alpha \frac{\partial}{\partial \theta_j} J(\Theta) \]

&lt;/div&gt;

&lt;p&gt;до тех пор, пока изменение \(J(\Theta)\) не упадет до малого значения (обычно
– 0.001).&lt;/p&gt;

&lt;p&gt;Здесь \(\alpha\) – параметр скорости обучения. Если его взять слишком
большим, то спуск пропустит локальный минимум и функция веса ошибки будет
расходящейся. Если его взять слишком маленьким, то спуск будет очень медленным.
Оптимально начинать с некотого начального значения, например, 0.01, и строить
зависимость функции ошибки от количества итерация. Дальше подбирать параметры
исходя от вида графика этой функции. Расходится – уменьшаем (удобно – в 3
раза), сходится медленно – увеличиваем.&lt;/p&gt;

&lt;p&gt;Чтобы была скорость работы градиентного спуска была оптимальной,
рекомендуется провести нормализацию и усреднение значений features, чтобы все
они находились в интервале \(-1 &amp;lt;= x &amp;lt;= 1\). Для нормализации значений
используется формула:&lt;/p&gt;

&lt;div&gt;

\[ x_j^{(i)} = \frac{x_j^{(i)} - \mu^{(i)}}{ \sigma^{(i)} } \]

&lt;/div&gt;

&lt;p&gt;Здесь \(\mu^{(i)}\) – среднее по всем \(x^{(i)}\), \(\sigma^{(i)}\) –
стандартное отклонение по всем \(x^{(i)}\). В дальнейшем, при задании
расчетных значений их также необходимо нормализовывать по такой же формуле. При
этом результирующие значения \( y \) не надо нормализовать.&lt;/p&gt;

&lt;p&gt;В случае линейной регрессии можно аналитически вычислить частные производные
функции ошибки по параметру и использовать результат в явном виде, чтобы не
производить численный расчет производной.&lt;/p&gt;

&lt;div&gt;

\[ \theta_j = \theta_j - \alpha \frac{1}{m} \sum_{i=0}^{m} \left ( h_\theta (x^{(i)}) - y^{(i)} \right ) x_j^{(i)} \]

&lt;/div&gt;

&lt;h3 id=&quot;section-1&quot;&gt;Решение в аналитическом виде&lt;/h3&gt;

&lt;p&gt;Глобальный минимум для функции ошибки \(J(\Theta)\) – точка, в которой все
частичные производные по компонентам \(\Theta\) равны нулю. Исходя из этого,
можно аналитически вычислить оптимальное значение \(\Theta\). Для случая
линейной регрессии получается следующая формула:&lt;/p&gt;

&lt;div&gt;

\[ \Theta = (X^T X)^{-1}X^Ty \]

&lt;/div&gt;

&lt;p&gt;Здесь \(X\) – матрица размера \(m \times n+1 \) с исходными данными из
обучающего набора, \(y\) – вектор с результатами обучающего набора.&lt;/p&gt;

&lt;p&gt;Сложность расчета здесь в вычислении компонента \((X^T X)^{-1}\). Также может
оказаться, что для этой матрицы нет обратной. Такое обычно случается если среди
features есть линейно зависимые друг от друга (например, площадь дома в
квадратных футах и площать дома в квадратных метрах). В этом случае надо
исключить одну из таких features.&lt;/p&gt;

&lt;p&gt;В случае решения в аналитическом виде нет необходимости проводить нормализацию и
усреднение данных из обучающего набора.&lt;/p&gt;

&lt;p&gt;С современными мощностями можно использовать решение в аналитическом виде вплоть
до 10000 features и строк в обучающем наборе. При большем количестве имеет смысл
использовать градиентный спуск. При этом количество строк в обучающем наборе
оказывается неважным – перемножение \(X^T X\) это перемножение матриц
размерностей \( n \times m \) и \( m \times n \), так что в результате
получается матрица размера \( n \times n \), для которой необходимо вычислить
обратную матрицу.&lt;/p&gt;

&lt;h3 id=&quot;matlab&quot;&gt;Эксперименты с MATLAB&lt;/h3&gt;

&lt;p&gt;После выполнения задания по 1-2 неделям я поигрался с MATLAB для лучшего
понимания материала. Результаты работы скрипта можно посмотреть
&lt;a href=&quot;/pages/ml/linear_regression/regression.html&quot;&gt;здесь&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;week-3&quot;&gt;Week 3&lt;/h2&gt;

&lt;h3 id=&quot;section-2&quot;&gt;Логистическая регрессия&lt;/h3&gt;

&lt;p&gt;Применяется в classification problems (классификация фактов к одному из двух
классов). Примеры - пометка почты как спам, определение злокачественности
опухоли. Для начала рассмотрим бинарную классификацию, а потом расширим на
multiclass classification.&lt;/p&gt;

&lt;p&gt;В бинарной классификации значения результата \( y \in (0,1) \). Линейная
регрессия в данном случае не очень подходит, т.к. есть сильная зависимость от
значений в training set и значение функции может быть гораздо больше 1.&lt;/p&gt;

&lt;p&gt;Удобно использовать в качестве гипотезы логистическую регрессию:&lt;/p&gt;

&lt;div&gt;

\[ h_{\theta}(x) = g(\Theta^T x) \]
\[ g(z) = \frac{1}{1-e^{-z}} \]

&lt;/div&gt;

&lt;p&gt;В этом случае \( 0 &amp;lt;= h_{\theta}(x) &amp;lt;= 1 \), и мы можем рассматривать значение
функции \( h \) в качестве вероятности положительного результата. Если \(
h_{\theta}(x) &amp;gt;= 0.5 \), то \( y = 1 \), иначе \( y = 0 \).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/ml/sigmoid.png&quot; alt=&quot;sigmoid function&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Видно, что \( y = 1 \) когда \( h_{\theta}(x) &amp;gt;= 0.5, g(z) &amp;gt;= 0.5 \), т.е.
когда \( \Theta^T x &amp;gt; 0 \). Граница \( \Theta^T x = 0 \) является decision
boundary. По одну сторону от этой границы располагаются разные классы решения.&lt;/p&gt;

&lt;p&gt;Граница решения это свойство не training set но функции гипотезы - \(
h_{\theta}(x) \). В общем случае граница не обязательно прямая (с линейными
членами \( x^{(i)} \), можно добавить различные квадратичные члены в
hypothesis function, например чтобы получить границу в виде окружности:&lt;/p&gt;

&lt;div&gt;

\[ h_{\theta}(x) = g(\theta_0 + \theta_1 x_1 + \theta_2 x_2 + \theta_3 x_1^2 +\theta_4 x_2^2) \]

&lt;/div&gt;

&lt;p&gt;Если выбрать&lt;/p&gt;

&lt;div&gt;

\[ \Theta =
    \begin{bmatrix}
    -1\\
    0\\
    0\\
    1\\
    1
    \end{bmatrix}
 \]

&lt;/div&gt;

&lt;p&gt;то границей будет окружность \( x_1^2+x_2^2 = 1 \).&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Лучшие альбомы 2013-го года</title>
   <link href="/2013-best-albums/"/>
   <updated>2013-12-28T00:00:00+04:00</updated>
   <id>/2013-best-albums</id>
   <content type="html">&lt;p&gt;&lt;img src=&quot;/assets/2013/music/cover.jpg&quot; alt=&quot;cover&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Этот год можно смело называть годом новой музыки и покупок на iTunes Music
Store. Я купил наверное 15-20 альбомов, как и тех, что много слушал раньше
(Massive Attack, Placebo), так и новых (Regina Spektor, Gatsby Soundtrack).&lt;/p&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;delta-machine&quot;&gt;Delta Machine&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2013/music/delta_machine.png&quot; alt=&quot;delta_machine&quot; /&gt;&lt;/p&gt;

&lt;p&gt;В марте вышел новый альбом Depeche Mode. Последние 20 лет они выпускают по
одному альбому раз в 4 года. Этот альбом неожиданно порадовал после SOTU, к
которому у меня довольно прохладное отношение. После первого прослушивания в
поезде Милан-Флоренция меня сразу зацепило несколько песен, остальные
понравились позже. Особенно крутая песня – Goodbye, ее даже выбрали в качестве
саундтрека к трейлеру 3-го сезона Лютера.&lt;/p&gt;

&lt;p&gt;7/10&lt;/p&gt;

&lt;h3 id=&quot;reflektor&quot;&gt;Reflektor&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2013/music/reflektor.png&quot; alt=&quot;reflektor&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Про Arcade Fire я узнал из статьи на Ленте “Не надо рая. Arcade Fire выпустили
свой лучший альбом”. Посмотрел пару клипов, послушал превью первых двух песен в
iTunes Store и сразу купил. Отличный альбом, без каких либо всплесков и
падений, особенно нравятся песни We exist и Porno.&lt;/p&gt;

&lt;p&gt;9/10&lt;/p&gt;

&lt;h3 id=&quot;loud-like-love&quot;&gt;Loud Like Love&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2013/music/loud_like_love.png&quot; alt=&quot;loud_like_love&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Placebo записали очередной альбом. Каждый следующий оказывается примитивнее и
площе предыдущего. Следующий не буду покупать.&lt;/p&gt;

&lt;p&gt;Единственное что хорошее в этом альбоме – обложка.&lt;/p&gt;

&lt;p&gt;4/10&lt;/p&gt;

&lt;h3 id=&quot;the-next-day&quot;&gt;The Next Day&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2013/music/the_next_day.png&quot; alt=&quot;the_next_day&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Этим альбомом я открыл для себя Дэвида Боуи. Потрясающе. Все 17 песен слушаются
как на одном дыхании. Особенно нравятся The Stars (Are Out Tonight), Love Is
Lost и How Does the Grass Grow?&lt;/p&gt;

&lt;p&gt;8/10&lt;/p&gt;

&lt;h3 id=&quot;cockroach&quot;&gt;Cockroach&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2013/music/cockroach.png&quot; alt=&quot;cockroach&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Неожиданным открытием декабря 2013-го года стал альбом Cockroach шведа Jay-Jay
Johanson. Я увидел его на стенде с предпрослушивания в Республике, наряду с
SOS-матросу Мумий Тролля, альбомом группы Travis и парой еще каких-то
электронных альбомов.&lt;/p&gt;

&lt;p&gt;Крайне интересный, меланхоличный альбом, временами переходящий в трип-хоп. В
некоторых композициях отчетливо слышится музыка Portishead (например, в Orient
Express), хотя такого плотного обволакивающего звука, конечно, нет.&lt;/p&gt;

&lt;p&gt;К сожалению, альбом оправдывает свое название, Таракан – большинство песен
посвящено неразделенной любви мужчины к женщине, страданиям и прочей подобной
не особо интересной мне теме. Так что, если не вслушиваться и  не переводить
тексты, то можно слушать с большим удовольствием.&lt;/p&gt;

&lt;p&gt;Послушал превьюшки других альбомов Johansona на iTunes, включая сборник лучших
песен за много лет – нелюбимая попса и не имеет ну ничего общего с Cockroach
ни по стилистике оформления альбомов ни по звучанию.&lt;/p&gt;

&lt;p&gt;8/10&lt;/p&gt;

&lt;h3 id=&quot;am&quot;&gt;AM&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2013/music/am.png&quot; alt=&quot;am&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Таня посоветовала мне этот новый альбом Arctic Monkeys. Хороший такой пост-рок.
Это самый “тяжелый” из альбомов, которые я слушал в этом году. К моему
удивлению, я еще могу слушать подобную музыку и она мне даже нравится. Весь
альбом выдержан в едином стиле, слушается как одна большая композиция. Я люблю
такие альбомы, у меня как раз примерно 45 минут времени уходит на commute и я
успеваю послушать один альбом.&lt;/p&gt;

&lt;p&gt;8/10&lt;/p&gt;

&lt;h3 id=&quot;modern-vampires-of-the-city&quot;&gt;Modern Vampires of the City&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2013/music/modern_vampires_of_the_city.png&quot; alt=&quot;modern_vampires_of_the_city&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Уже в декабре, читая обзоры лучших альбомов 2013-го я узнал про группу Vampire
Weekend и их новый альбом Modern Vampires of the City. Во многих рейтингах он
прочно занял место альбома года. Чтобы не быть невеждой я решил купить его.&lt;/p&gt;

&lt;p&gt;Хорошая музыка, но не более того. Ничего волшебно-восхитительного, цепляющего и
уносящего вдаль в альбоме нет. Ya Hey действительно прекрасна, и текстом и
ритмом и клипом. Но именно после этой песни все остальные кажутся не очень
интересными.&lt;/p&gt;

&lt;p&gt;7/10&lt;/p&gt;

&lt;h3 id=&quot;random-access-memories&quot;&gt;Random Access Memories&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2013/music/random_access_memories.png&quot; alt=&quot;random_access_memories&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Лучший альбом года для меня. Daft Punk выпустили потрясающий альбом, каждая
песня из которого мне нравится. Особенно Giorgio by Moroder, Get Lucky и
Contact.&lt;/p&gt;

&lt;p&gt;10/10&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;На следующий год в планах послушать всю дискографию Arctic Monkeys, Arcade
Fire, Jay-Jay Johanson и Vampire Weekend.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Функция split на Haskell</title>
   <link href="/split-function-in-haskell/"/>
   <updated>2013-12-18T00:00:00+04:00</updated>
   <id>/split-function-in-haskell</id>
   <content type="html">&lt;p&gt;Пишу первую функцию на Haskell – &lt;code&gt;split&lt;/code&gt;, разбивающую строку на массив из строк.&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;В проекте &lt;a href=&quot;https://github.com/schmooser/OraVCS&quot;&gt;OraVCS&lt;/a&gt; для создания пользователя используется стандартное выражение:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;CREATE USER &amp;lt;username&amp;gt; IDENTIFIED BY &amp;lt;password&amp;gt; ...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Имя пользователя и пароль задаются в параметрическом файле в строке соединения, которая имеет вид&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;username&amp;gt;/&amp;lt;password&amp;gt;@&amp;lt;database&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;где &lt;code&gt;&amp;lt;database&amp;gt;&lt;/code&gt; – TNS-идентификатор инстанса или вид&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;username&amp;gt;/&amp;lt;password&amp;gt;@[//]&amp;lt;host&amp;gt;[:&amp;lt;port&amp;gt;][/&amp;lt;service&amp;gt;]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;в случае ипользования &lt;a href=&quot;http://www.orafaq.com/wiki/EZCONNECT&quot;&gt;EZConnect&lt;/a&gt;-формата.&lt;/p&gt;

&lt;p&gt;Для получения username и password из строки соединения &lt;code&gt;es&lt;/code&gt; сейчас используется простой регэксп:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;username, password = re.split(&#39;\W+&#39;, es)[0:2]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Данный регэксп сработает некорректно, если в пароле или имени вдруг окажется символы, трактуемые как граница слова, например $%^&amp;amp;*()_+, а они, в пароле вполне допустимы. &lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; es = &#39;user_name/pa$$wor*d@db&#39;
&amp;gt;&amp;gt;&amp;gt; re.split(&#39;\W+&#39;, es)
[&#39;user_name&#39;, &#39;pa&#39;, &#39;wor&#39;, &#39;d&#39;, &#39;db&#39;]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Поэтому, данный кусок надо как-то переписать. Например, так:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; username = es.split(&#39;/&#39;)[0]
&amp;gt;&amp;gt;&amp;gt; password = es.split(&#39;/&#39;)[1].split(&#39;@&#39;)[0]
&amp;gt;&amp;gt;&amp;gt; username, password
(&#39;user_name&#39;, &#39;pa$$wor*d&#39;)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Но, определение пароля какое-то не очень красивое. Гораздо лучше было бы написать что-нибудь вроде&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;username, password = split(s=es, dlm=&#39;/@&#39;)[0:2]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;где функция &lt;code&gt;split&lt;/code&gt; разбивает строку на массив элементов с разделителями, перечисленными в &lt;code&gt;dlm&lt;/code&gt;. Такую функцию на питоне написать довольно легко:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;def split(s, dlm):
    acc, elm = [], &#39;&#39;
    for c in list(s):
        if c in dlm and elm != &#39;&#39;:
            acc.append(elm)
            elm = &#39;&#39;
        else:
            elm += c
    return acc

es = &#39;user_name/pa$$wor*d@db&#39;
username, password = split(s=es, dlm=&#39;/@&#39;)[0:2]
assert (username, password) == (&#39;user_name&#39;, &#39;pa$$wor*d&#39;)    
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Но я захотел написать ее в функциональном стиле. Т.к. питон это не чисто-функциональный язык и некоторых вещей в нем нет, я решил сначала написать эту функцию на Haskell.&lt;/p&gt;

&lt;p&gt;Понятно, что наверное в Haskell она уже реализована в каком-нибудь Data.List, но я решил ее написать самостоятельно не заглядывая в гугл. Сигнатура функции должна быть такой:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;split :: [Char] -&amp;gt; [Char] -&amp;gt; [[Char]]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Т.е. на вход массив символов (строка) и массив символов (разделитель), на выход - массив массивов символов (массив строк).&lt;/p&gt;

&lt;p&gt;Подумав пару часов, я написал следующие функции:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;in&#39; :: Char -&amp;gt; [Char] -&amp;gt; Bool
in&#39; _ [] = False
in&#39; c (x:xs) = x == c || c `in&#39;` xs

type Delimiter = String 
type Accumulator = [String] 

rsplit :: String -&amp;gt; Delimiter -&amp;gt; Accumulator -&amp;gt; [String]
rsplit [] _ acc = acc
rsplit (x:xs) dlm acc
    | x `in&#39;` dlm = sp ([]:acc)
    | null acc    = sp ([x]:[])
    | otherwise   = sp $ (x:head acc):tail acc
    where sp  = rsplit xs dlm

split :: String -&amp;gt; Delimiter -&amp;gt; [String]
split x dlm = map reverse $ reverse $ rsplit x dlm []
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Функция &lt;code&gt;in&#39;&lt;/code&gt; возвращает True если символ входит в строку. Вся логика в функции &lt;code&gt;rsplit&lt;/code&gt;, она то и возвращает разделенную строку, правда и элементы и строки в обратном порядке, поэтому есть еще функция &lt;code&gt;split&lt;/code&gt;, оборачивающая результат работы &lt;code&gt;rsplit&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Логика работы функции &lt;code&gt;rsplit&lt;/code&gt; следующая: на вход - строка, строка с разделителями и аккумулятор, на выход - результат (массив из строк). &lt;/p&gt;

&lt;p&gt;Аккумулятор это тот же массив из строк, в котором будет накапливаться результат и когда обработали все символы аккумулятор возвращается в виде результата. Именно это и записано в строке:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    rsplit [] _ acc = acc
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Далее, анализируем строку посимвольно (&lt;code&gt;rsplit (x:xs) dlm acc&lt;/code&gt;):&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Если текущий символ &lt;code&gt;x&lt;/code&gt; входит в разделитель, то мы дошли до разделителя. В аккумулятор добавляем новый пустой элемент и рекурсивно вызываем саму функцию на оставшихся символах. Это строка&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;| x `in&#39;` dlm = sp ([]:acc)
&lt;/code&gt;&lt;/pre&gt;

    &lt;p&gt;За &lt;code&gt;sp&lt;/code&gt; обозначено частичное применение функции двумя параметрами без аккумулятора: &lt;code&gt;sp  = rsplit xs dlm&lt;/code&gt;. Над этим куском я думал больше всего.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Если аккумулятор пустой, то добавляем текущий символ в новый элемент аккумулятора и рекурсивно  вызываем функцию на оставшихся символах с новым аккумулятором:&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;| null acc    = sp ([x]:[])
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;В остальных случаях, то есть шаг не первый и текущий символ не разделитель, мы берем первый элемент аккумулятора, добавляем к нему символ, конструируем новый аккумулятор с добавленным символом и рекурсивно  вызываем функцию на оставшихся символах с новым аккумулятором:&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;| otherwise   = sp $ (x:head acc):tail acc
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Получилось довольно изящно. Конечно, путем поиска в гугле, я сразу нашел подобный вопрос на &lt;a href=&quot;http://stackoverflow.com/questions/4978578/how-to-split-a-string-in-haskell&quot;&gt;StackOverflow&lt;/a&gt;. Там решения очень изящные (переработанные версии функции &lt;code&gt;words&lt;/code&gt;, разделяющей строку на слова), но мне было приятно самому написать свою первую серьезную функцию на Haskell.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Установка Oracle копированием</title>
   <link href="/install-oracle-via-copy/"/>
   <updated>2013-12-14T00:00:00+04:00</updated>
   <id>/install-oracle-via-copy</id>
   <content type="html">&lt;p&gt;Оракл можно установить простым копированием нужных файлов в нужные места и
прописыванием соответствующих переменных среды. Я описываю процесс установки
Oracle XE 11g простым копированием файлов, настройку среды окружения,
восстановления дубликата БД из бэкапа и запуск листенера.&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;Допустим, у нас есть работающий сервер X с установленной Oracle XE 11g и мы
хотим скопировать Oracle на другой сервер Y, который бежит под той же ОС что и
X.&lt;/p&gt;

&lt;h2 id=&quot;section&quot;&gt;Создаем пользователей&lt;/h2&gt;

&lt;p&gt;На сервере Y выполняем:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo su
# useradd oracle  # добавляем пользователя oracle
# groupadd dba  # добавляем группу dba
# cat /etc/passwd  # пользователи
# cat /etc/group  # группы
# usermod -G dba oracle  # добавляем oracle в группу dba
# yum install libaio bc flex  # устанавливаем необходимые пакеты
# su oracle
$ cd ~
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;section-1&quot;&gt;Копируем исполняемые файлы&lt;/h2&gt;

&lt;p&gt;Копируем каталог &lt;code&gt;$HOME/product&lt;/code&gt; пользователя &lt;code&gt;oracle&lt;/code&gt; с сервера X на сервер Y
(я сжал директорию &lt;code&gt;product&lt;/code&gt; tarом и перелил по sftp).&lt;/p&gt;

&lt;h2 id=&quot;section-2&quot;&gt;Настраиваем среду&lt;/h2&gt;

&lt;p&gt;В &lt;code&gt;.bashrc&lt;/code&gt; добавляем следующие строки:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;export ORACLE_HOME=/home/oracle/product/11.2.0/xe
export ORACLE_SID=XE
export NLS_LANG=`$ORACLE_HOME/bin/nls_lang.sh`
export PATH=$ORACLE_HOME/bin:$PATH
export LD_LIBRARY_PATH=$ORACLE_HOME/lib:/usr/lib:/usr/lib64
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;После этого, мы должны спокойно войти в &lt;code&gt;sqlplus&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[oracle@ora600 ~]$ sqlplus /nolog

SQL*Plus: Release 11.2.0.2.0 Production on Сб Дек 14 08:03:40 2013

Copyright (c) 1982, 2011, Oracle.  All rights reserved.

SQL&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;swap-file&quot;&gt;Создаем swap-file&lt;/h2&gt;

&lt;p&gt;Я &lt;a href=&quot;#&quot;&gt;подробно описывал&lt;/a&gt; как создать swap-file. Создаем 2ГБ файл
подкачки.&lt;/p&gt;

&lt;h2 id=&quot;pfile&quot;&gt;PFILE&lt;/h2&gt;

&lt;p&gt;Создаем параметрический файл pfile с параметрами сервера. Мой минимальный файл
&lt;code&gt;xe_init.ora&lt;/code&gt; для пятидолларового дроплета на &lt;a href=&quot;http://digitalocean.com&quot;&gt;DigitalOcean&lt;/a&gt; выглядит так:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DB_NAME=XE
CONTROL_FILES=&#39;/home/oracle/oradata/XE/control.dbf&#39;
DB_FILE_NAME_CONVERT=(/u01/app/oracle/,/home/oracle/)
LOG_FILE_NAME_CONVERT=(/u01/app/oracle/,/home/oracle/)
AUDIT_FILE_DEST=&#39;/home/oracle/admin/XE/adump&#39;
COMPATIBLE=&#39;11.2.0.0.0&#39;
DB_RECOVERY_FILE_DEST=&#39;/home/oracle/fast_recovery_area&#39;
DB_RECOVERY_FILE_DEST_SIZE=11811160064
DIAGNOSTIC_DEST=&#39;/home/oracle&#39;
DISPATCHERS=&#39;(PROTOCOL=TCP) (SERVICE=XEXDB)&#39;
EVENT=&#39;31156 trace name context forever, level 0x400&#39;
JOB_QUEUE_PROCESSES=4
MEMORY_MAX_TARGET=268435456
MEMORY_TARGET=268435456
OPEN_CURSORS=300
REMOTE_LOGIN_PASSWORDFILE=&#39;EXCLUSIVE&#39;
SESSIONS=20
SHARED_POOL_SIZE=12582912
SHARED_SERVERS=0
UNDO_MANAGEMENT=&#39;AUTO&#39;
UNDO_TABLESPACE=&#39;UNDOTBS1&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Указанное в &lt;code&gt;MEMORY_TARGET&lt;/code&gt; и &lt;code&gt;MEMORY_MAX_TARGET&lt;/code&gt; количество памяти должно быть
меньше чем доступно shared memory. Если нужно – увеличьте размер shared-memory,
я &lt;a href=&quot;#&quot;&gt;писал&lt;/a&gt; о том, как это можно сделать. Если памяти будет недостаточно, то
Oracle будет падать в процессе запуска с ошибкой &lt;code&gt;ORA-00845: MEMORY_TARGET not
supported on this system&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&quot;section-3&quot;&gt;Директории&lt;/h2&gt;

&lt;p&gt;Создайте директории, указанные в PFILE в параметрах &lt;code&gt;DB_RECOVERY_FILE_DEST&lt;/code&gt; и
&lt;code&gt;AUDIT_FILE_DEST&lt;/code&gt;, а также директории, в которых будут лежать контрол-файлы.&lt;/p&gt;

&lt;h2 id=&quot;section-4&quot;&gt;Запуск экземпляра&lt;/h2&gt;

&lt;p&gt;Теперь уже можно запустить экземпляр Oracle без БД:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[oracle@ora600 ~]$ sqlplus / as sysdba

SQL*Plus: Release 11.2.0.2.0 Production on Сб Дек 14 08:41:10 2013

Copyright (c) 1982, 2011, Oracle.  All rights reserved.

Connected to an idle instance.

SQL&amp;gt; startup nomount pfile=xe_init.ora
ORACLE instance started.

Total System Global Area  267227136 bytes
Fixed Size                2225640 bytes
Variable Size             197134872 bytes
Database Buffers          62914560 bytes
Redo Buffers              4952064 bytes
SQL&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;После того, как убедились, что экземпляр поднимается, его можно остановить
(&lt;code&gt;SHUTDOWN IMMEDIATE&lt;/code&gt;).&lt;/p&gt;

&lt;h2 id=&quot;section-5&quot;&gt;Восстановление БД из бэкапа&lt;/h2&gt;

&lt;p&gt;Допустим, у вас есть бэкап какой-то базы, созданный RMAN, лежащий на другом
сервере (откуда копировали директорию &lt;code&gt;product&lt;/code&gt;). В этом случае, добавляем в
pfile строки:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DB_FILE_NAME_CONVERT=&#39;/u01/app/oracle/&#39;,&#39;/home/oracle/&#39;
LOG_FILE_NAME_CONVERT=&#39;/u01/app/oracle/&#39;,&#39;/home/oracle/&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;где прописываем старые и новые пути датафайлов и лог-файлов. Копируем бэкапы и
архивные логи из &lt;code&gt;fast_recovery_area&lt;/code&gt; сервера X на сервер Y, например в папку
&lt;code&gt;fre&lt;/code&gt;. У меня дерево папок в &lt;code&gt;fre&lt;/code&gt; выглядело так:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[oracle@ora600 ~]$ tree fre
fre
├── archivelog
│   ├── 2013_12_08
│   │   └── o1_mf_1_328_9b82qh0f_.arc
│   ├── 2013_12_09
│   │   └── o1_mf_1_329_9b9vthqf_.arc
│   ├── 2013_12_10
│   │   ├── o1_mf_1_330_9bdhcjpz_.arc
│   │   └── o1_mf_1_331_9bfhdr0h_.arc
│   ├── 2013_12_11
│   │   ├── o1_mf_1_332_9bh4nrz7_.arc
│   │   └── o1_mf_1_333_9bkcc3w9_.arc
│   ├── 2013_12_12
│   │   ├── o1_mf_1_334_9bks20lr_.arc
│   │   └── o1_mf_1_335_9bmnhljr_.arc
│   ├── 2013_12_13
│   │   └── o1_mf_1_336_9bnfh5h2_.arc
│   └── 2013_12_14
│       ├── o1_mf_1_337_9bq0vl1o_.arc
│       └── o1_mf_1_338_9bqwz6rm_.arc
├── autobackup
│   └── 2013_12_14
│       └── o1_mf_s_834158063_9brf1hjw_.bkp
└── backupset
    ├── 2013_12_08
    │   └── o1_mf_nnnd0_XE_INCR_9b7b3m9p_.bkp
    ├── 2013_12_09
    │   └── o1_mf_nnnd1_XE_INCR_9b9yhmh3_.bkp
    ├── 2013_12_10
    │   └── o1_mf_nnnd1_XE_INCR_9bdlvm5q_.bkp
    ├── 2013_12_11
    │   └── o1_mf_nnnd1_XE_INCR_9bh77mx4_.bkp
    ├── 2013_12_12
    │   └── o1_mf_nnnd1_XE_INCR_9bkvmmw8_.bkp
    ├── 2013_12_13
    │   └── o1_mf_nnnd1_XE_INCR_9bnhznqs_.bkp
    └── 2013_12_14
        ├── o1_mf_ncsn1_XE_INCR_9bq4d4m1_.bkp
        └── o1_mf_nnnd1_XE_INCR_9bq4cmsm_.bkp

18 directories, 20 files
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Особо надо обратить внимание, чтобы на исходной БД (в терминологии RMAN –
TARGET) был включен автобэкап контрол-файла. Если нет – то RMAN не сможет его
найти и восстановить БД.&lt;/p&gt;

&lt;p&gt;Теперь создаем SPFILE из PFILE и снова запускаем инстанс:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[oracle@ora600 ~]$ sqlplus / as sysdba

SQL*Plus: Release 11.2.0.2.0 Production on Сб Дек 14 10:51:44 2013

Copyright (c) 1982, 2011, Oracle.  All rights reserved.

Connected to an idle instance.

SQL&amp;gt; create spfile from pfile=&#39;/home/oracle/xe_init.ora&#39;;

File created.

SQL&amp;gt; startup nomount;
ORACLE instance started.

Total System Global Area  267227136 bytes
Fixed Size                2225640 bytes
Variable Size             197134872 bytes
Database Buffers          62914560 bytes
Redo Buffers              4952064 bytes
SQL&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;На этом этапе мы можем подсоединиться к БД с помощью RMAN и провести
восстановление БД. Документация по такому процессу &lt;a href=&quot;http://docs.oracle.com/cd/E11882_01/backup.112/e10642/rcmdupdb.htm#BRADV420&quot;&gt;здесь&lt;/a&gt;.
Есть еще полезная информация на &lt;a href=&quot;http://www.oracle-base.com/articles/11g/duplicate-database-using-rman-11gr2.php&quot;&gt;oracle-base&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;В моем случае меня интересует стратегия “Duplication without a target database
connection and without a recovery catalog. RMAN obtains metadata about where
backups and copies reside from BACKUP LOCATION.”, когда я никак не подсоединен
к исходной базе.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://docs.oracle.com/cd/E11882_01/backup.112/e10642/img/bradv048.gif&quot; alt=&quot;rman&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Дублируем БД:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[oracle@ora600 ~]$ rman auxiliary /

Recovery Manager: Release 11.2.0.2.0 - Production on Сб Дек 14 10:57:05 2013

Copyright (c) 1982, 2009, Oracle and/or its affiliates.  All rights reserved.

connected to auxiliary database: XE (not mounted)

RMAN&amp;gt; DUPLICATE DATABASE TO xe BACKUP LOCATION &#39;/home/oracle/fre&#39;;

... ... ...

contents of Memory Script:
{
     Alter clone database open resetlogs;
}
executing Memory Script

database opened
Finished Duplicate Db at 14.12.13

RMAN&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;RMAN проверит бэкапы, перестартует инстанс и начнет восстановление БД из бэкапа.&lt;/p&gt;

&lt;p&gt;После этого получается готовая БД.&lt;/p&gt;

&lt;h2 id=&quot;section-6&quot;&gt;Настройка листенера&lt;/h2&gt;

&lt;p&gt;Настроить листенер вообще очень просто: правим &lt;code&gt;listener.ora&lt;/code&gt; в
&lt;code&gt;$ORACLE_HOME/network/admin&lt;/code&gt; - прописываем актуальное имя хоста (его надо не
забыть указать в &lt;code&gt;/etc/hosts&lt;/code&gt;) и стартуем листенер:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ lsnrctl start
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Посмотреть статус можно командой&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ lsnrctl status
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Хорошая статья по листенеру на &lt;a href=&quot;http://www.orafaq.com/wiki/Lsnrctl&quot;&gt;orafaq-listener&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Важно следить за тем, чтобы соответствующие порты были открыты в файрволле. Про
мою настройку iptables я уже &lt;a href=&quot;#&quot;&gt;писал&lt;/a&gt;, но напишу еще один отдельный
пост.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Быстрая настройка BTSync на Linux</title>
   <link href="/fast-btsync-setup-on-linux/"/>
   <updated>2013-12-14T00:00:00+04:00</updated>
   <id>/fast-btsync-setup-on-linux</id>
   <content type="html">&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Качаем &lt;a href=&quot;http://www.bittorrent.com/sync/downloads&quot;&gt;BTSync&lt;/a&gt;, распаковываем и копируем исполняемый файл &lt;code&gt;btsync&lt;/code&gt;
куда-нибудь в &lt;code&gt;$PATH&lt;/code&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Если хотим расшарить папку, то генерируем секретный ключ:&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; btsync --generate-secret
&lt;/code&gt;&lt;/pre&gt;

    &lt;p&gt;Результатом будет ключ вида &lt;code&gt;ABVERK6XBMBG7PJPLXTJJGFLZVBS2TM67&lt;/code&gt; (начинается
на A). Запоминаем!&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Если хотим создать readonly-ключ и выдать его кому-нибудь, то из read-write
ключа получаем его так:&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; btsync --get-ro-secret ABVERK6XBMBG7PJPLXTJJGFLZVBS2TM67
&lt;/code&gt;&lt;/pre&gt;

    &lt;p&gt;Результатом будет ключ вида &lt;code&gt;BEJ5VRAFKFEARZ6LCAR2OTNHGRRM4X3ER&lt;/code&gt; (начинается
на B). Сообщаем этот ключ readonly-стороне.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Делаем дамп пример конфигурационного файла:&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; btsync --dump-sample-config &amp;gt; btsync.conf
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Мне веб-интерфейс не нужен, поэтому я комментирую строку &lt;code&gt;listen ...&lt;/code&gt; в
блоке &lt;code&gt;webui&lt;/code&gt; и прописываю нужные расшаренные папки в блоке &lt;code&gt;shared_folders&lt;/code&gt;.
ВНИМАНИЕ!!! По-умолчанию этот блок в примере конфига закомментирован, но начало
и конец комментария выставлены неудачно и если у вас редактор без подсветки
синтаксиса JSON, то этого легко не заметить. В таком случае btsync откажется
запускаться. На это напарывался я и еще несколько человек независимо от меня.
Нужно убедиться, что блок &lt;code&gt;shared_folders&lt;/code&gt; действительно раскомментирован.&lt;/p&gt;

    &lt;p&gt;В shared_folders прописываем путь к папке и ключ. Ключ берем или из п.2 или
полученный от кого-нибудь для синхронизации.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Запускаем btsync&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; btsync --config btsync.conf
&lt;/code&gt;&lt;/pre&gt;

    &lt;p&gt;и идем пить чай.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Собственно, все настолько просто (все вышеизложенное понимается за секунду
смотря на &lt;code&gt;btsync --help&lt;/code&gt;) что и описывать, наверное, не стоило. Дойдут руки –
напишу как общаться с BTSync через API.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Таймлайн моей жизни на javascript</title>
   <link href="/life-timeline/"/>
   <updated>2013-12-12T00:00:00+04:00</updated>
   <id>/life-timeline</id>
   <content type="html">&lt;p&gt;На &lt;a href=&quot;https://news.ycombinator.com/item?id=6833565&quot;&gt;HackerNews&lt;/a&gt; нашел занятный проект – &lt;a href=&quot;https://github.com/cheeaun/life&quot;&gt;Life&lt;/a&gt; – крошечный javascript, который превращает список событий в красивый таймлайн. Форкнул и внес свою жизнь на таймлайн, получилось занятно – &lt;a href=&quot;http://iseetheline.ru/life/&quot;&gt;My Life&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Теперь хочу немного дописать его - развернуть таймлайн в обратную сторону, чтобы современные события были слева (их много), а рождение и детский сад были далеко справа; добавить типы событий (отпуска одним цветом, профессиональная деятельность - другим); сделать русскую версию.&lt;/p&gt;

&lt;p&gt;По хорошему, из этого может получиться отличное CV. Вот кстати, еще есть занятное &lt;a href=&quot;https://github.com/kaeluka/cv&quot;&gt;CV&lt;/a&gt; в PDF, его можно немного модифицировать, русифицировать и рассылать в виде резюме.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Запуск HackerNews на своем сайте</title>
   <link href="/running-hackernews-on-your-domain/"/>
   <updated>2013-12-11T00:00:00+04:00</updated>
   <id>/running-hackernews-on-your-domain</id>
   <content type="html">&lt;p&gt;Оказывается, движок форума &lt;a href=&quot;http://news.ycombinator.com&quot;&gt;HackerNews&lt;/a&gt; это open-source проект и такой же движок можно развернуть на своем сервере. Я обнаружил это наткнувшись на статью &lt;a href=&quot;http://www.righto.com/2009/06/how-does-newsyc-ranking-work.html&quot;&gt;Ken Shirriff’s blog: Inside the news.yc ranking formula&lt;/a&gt;, в которой детально описывается формула, как рассчитывается вес статьи и ее позиция в выдаче на форуме.&lt;/p&gt;

&lt;p&gt;Итак, HackerNews бежит на движке, написанном на языке &lt;a href=&quot;http://arclanguage.org/&quot;&gt;Arc&lt;/a&gt; (&lt;a href=&quot;http://en.wikipedia.org/wiki/Arc_(programming_language)‎&quot;&gt;wiki&lt;/a&gt;). Это диалект Лиспа, написанный Полом Грэмом, основателем &lt;a href=&quot;http://ycombinator.com&quot;&gt;YCombinator&lt;/a&gt;, венчурного фонда для первоначального финансирования стартапов, для решения различных прикладных задач. Такое ощущение, что сейчас на этом языке решена ровно одна задача – форум HackerNews компании YCombinator.&lt;/p&gt;

&lt;p&gt;Ссылок на скачивание arc в явном виде нигде нет, на &lt;a href=&quot;arclanguage.org/install&quot;&gt;arclanguage.org/install&lt;/a&gt;, как оказалось, лежит очень старая и неактуальная информация по установке. Более актуальная информация лежит на сервере &lt;a href=&quot;http://tryarc.org&quot;&gt;TryArc&lt;/a&gt; (там же можно попробовать пописать на Arc прямо в браузере).&lt;/p&gt;

&lt;p&gt;Итак, чтобы установить движок HackerNews на свой сервер, надо:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Установить Arc. Подробное описание установки есть &lt;a href=&quot;https://sites.google.com/site/arclanguagewiki/getting-started/install-arc&quot;&gt;тут&lt;/a&gt;. Перед установкой потребуется установить &lt;a href=&quot;http://racket-lang.org/&quot;&gt;Racket&lt;/a&gt; (из бинарников Ракета понадобится только MzScheme), затем сам Arc. Я устанавливал pure Arc, скачав его тут: &lt;a href=&quot;http://ycombinator.com/arc/arc3.1.tar&quot;&gt;http://ycombinator.com/arc/arc3.1.tar&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Распаковать Arc, инструкция по установке и запуска движка лежит внутри дистрибутива в файле &lt;code&gt;how-to-run-news&lt;/code&gt;. Выполнив написанное в нем, получим работающий движок на своем сайте.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Если потребуется дополнительная информация, то лучше всего ее искать на форуме &lt;a href=&quot;http://arclanguage.com/forum&quot;&gt;arclanguage&lt;/a&gt; гуглом поиском по сайту (добавлять к поисковому запросу &lt;code&gt;site:arclanguage.com&lt;/code&gt;). Именно таким образом я нашел как поднять форум на произвольном порту (прописать нужный порт на 82-й строке в файле &lt;code&gt;news.arc&lt;/code&gt;) и &lt;a href=&quot;http://www.arclanguage.com/item?id=11021&quot;&gt;как запустить форум в бэкграунде&lt;/a&gt;, чтобы он продолжал работать после закрытия терминальной сессии (с помощью screen, про screen я напишу отдельный пост).&lt;/p&gt;

&lt;p&gt;На этом движке я запустил форум для новостей СУБД: &lt;a href=&quot;http://ora600.ru&quot;&gt;ora600.ru&lt;/a&gt;, добро пожаловать. В следующем посте я расскажу, как я настроил nginx для проксирования двух форумов на arc, одного сервиса на flask и одного сайта на apache на один 80-й порт одного сервера, это оказалось крайне простым делом.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Порядок портов в Expression Informatica PowerCenter</title>
   <link href="/informatica-order-of-ports-in-expression/"/>
   <updated>2013-11-25T00:00:00+04:00</updated>
   <id>/informatica-order-of-ports-in-expression</id>
   <content type="html">&lt;p&gt;Оказывается, порядок портов в expression в Informatica PowerCenter имеет значение. Например, если сделать так:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Номер порта	Имя	Значение
1		v_A	v_B
2		v_B	&amp;lt;вызов лукапа&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;то значение &lt;code&gt;v_A&lt;/code&gt; будет определяться от лукапа, выполненного по данным от предыдущей строки.&lt;/p&gt;

&lt;p&gt;Пруф из хелпа:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Port order. The Integration Service evaluates ports by dependency. The order  of the ports in a transformation must match the order of evaluation: input  ports, variable ports, output ports.&lt;/p&gt;
&lt;/blockquote&gt;
</content>
 </entry>
 
 <entry>
   <title>MongoDB на OpenVZ</title>
   <link href="/mongo-on-openvz/"/>
   <updated>2013-11-24T00:00:00+04:00</updated>
   <id>/mongo-on-openvz</id>
   <content type="html">&lt;p&gt;Для проекта &lt;a href=&quot;https://github.com/schmooser/instaflickr&quot;&gt;instaflickr&lt;/a&gt; решил установить на своем виртуальном хостинге 
&lt;a href=&quot;http://www.mongodb.org&quot;&gt;MongoDB&lt;/a&gt;. Установить просто через &lt;code&gt;yum install mongodb&lt;/code&gt; не получилось –
установился пакет &lt;code&gt;mongodb.x86_64&lt;/code&gt;, но при этом серверного процесса &lt;code&gt;mongod&lt;/code&gt; 
в системе не оказалось, только клиент &lt;code&gt;mongo&lt;/code&gt;. Пришлось установить, как описано
в &lt;a href=&quot;http://docs.mongodb.org/manual/tutorial/install-mongodb-on-red-hat-centos-or-fedora-linux/&quot;&gt;официальной документации&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;Когда я запустил &lt;code&gt;mongod&lt;/code&gt; и подключился клиентом, то увидел страшное сообщение
об ошибке:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;MongoDB shell version: 2.4.8
connecting to: test
Server has startup warnings:

** WARNING: You are running in OpenVZ. This is known to be broken!!!
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Поискал в интернете, кто что пишет по этому поводу. Нашел &lt;a href=&quot;http://www.mind-flip.com/theBlog/2013/02/27/running-mongodb-in-a-virtual-environment/&quot;&gt;пост в блоге
Mind-Flip Blog&lt;/a&gt;. Оказывается, в OpenVZ есть концепция нормальной и
всплесковой (burst) оперативной памяти. Сначала гипервизор выделяет физическую
память для каждой машины, затем, если машине необходимо больше памяти,
гипервизор увеличит размер. Эта дополнительная память и называется всплесковой.
Данная техника в теории работает очень хорошо, но на практике может вызывать
проблемы в работе некоторых приложений. Когда всплесковая память забирается
гипервизором, может получиться, что в этом куске памяти были структуры,
используемые MongoDB.  В этом случае MongoDB просто падает. В 10Gen
(компания-разработчик MongoDB), видимо, нашли проблему и теперь проверяют, что
ОС бежит под OpenVZ и выдают подобное угрожающее сообщение.&lt;/p&gt;

&lt;p&gt;Так что я решил воспользоваться бесплатным планом на &lt;a href=&quot;http://mongolab.com&quot;&gt;MongoLab&lt;/a&gt;, они дают 500Мб
бесплатного места на одном инстансе MongoDB.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Параллельный запуск потока в Informatica PowerCenter</title>
   <link href="/running-workflow-in-parallel-in-informatica-powercenter/"/>
   <updated>2013-11-06T00:00:00+04:00</updated>
   <id>/running-workflow-in-parallel-in-informatica-powercenter</id>
   <content type="html">&lt;p&gt;В Informatica PowerCenter есть возможность запускать в параллельном режиме один поток (workflow) в разных инстансах. Данный метод запуска очень выгодно использовать для загрузки данных, которые хорошо партиционируются. Например, загрузку данных за месяц можно запустить параллельно в 4 потока по неделе или сделать подневную загрузку в N потоков.&lt;/p&gt;

&lt;p&gt;Количество одновременных потоков надо выбирать исходя из производительности платформы. При увеличении числа потоков сначала идет практически линейный рост производительности, затем все начинает упираться в узкое место платформы (IO, CPU, RAM, Network) и дальнейшее увеличение количества параллельных потоков только замедляет скорость работы системы.&lt;/p&gt;

&lt;p&gt;Чтобы поток мог работать в параллельном режиме, надо в настройках потока включить опцию “Configure Concurrent Execution”. В настройках Concurrent Execution лучше использовать опцию “Allow concurrent run only with unique instance name” иначе потом не разберешься какой именно параллельный запуск за какую часть работы отвечает. Нужно указать имя инстанса и параметрический файл. Обычно эти значения совпадают с таковыми у потока.&lt;/p&gt;

&lt;p&gt;Запустить поток в параллель возможно только из командной строки через &lt;code&gt;pmcmd&lt;/code&gt;. Скорее всего вам понадобится уникальный параметрический файл для каждого инстанса (например, разные периоды загрузки). В этом случае, в вашем диспетчере загрузок или управляющем механизме, который генерирует файл параметров, нужно предусмотреть процедуру сохранения файла параметров с уникальным именем.&lt;/p&gt;

&lt;p&gt;Я это делал просто – диспетчер создает параметрический файл &lt;code&gt;wf_WFNAME.param&lt;/code&gt; и командный файл для запуска потока. В командном файле сначала файл &lt;code&gt;wf_WFNAME.param&lt;/code&gt; копируется в &lt;code&gt;wf_WFNAME_xxxx.param&lt;/code&gt;, где &lt;code&gt;xxxx&lt;/code&gt; – уникальный номер запуска потока, а затем вызывается &lt;code&gt;pmcmd&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;param_dir=/informatica/pc/server/infa_shared/DEV/Param/
bin_dir=/informatica/pc/server/bin 
cp $param_dir/wf_CALC.param $param_dir/wf_CALC_1712.param

$bin_dir/pmcmd startworkflow -service SERVICE_NAME
                             -domain DOMAIN_NAME
                             -user username
                             -password pwd
                             -folder FOLDER_NAME
                             -paramfile $param_dir/wf_WFNAME_1712.param
                             -runinsname wf_WFNAME_1712
                             wf_WFNAME
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;to-do&quot;&gt;To Do&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;добавить скриншоты настроек параллельного запуска&lt;/li&gt;
  &lt;li&gt;добавить анализ скорости выполнения задачи от количества параллельных инстансов&lt;/li&gt;
  &lt;li&gt;описать работу диспетчера задач&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Установка Raspberry Pi и настройка SSH через браузер</title>
   <link href="/raspberry-pi-setup-and-ssh-through-browser/"/>
   <updated>2013-10-26T00:00:00+04:00</updated>
   <id>/raspberry-pi-setup-and-ssh-through-browser</id>
   <content type="html">&lt;p&gt;Настало время поставить что-нибудь дельное на мой Raspberry Pi Model A.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/raspberrypi/raspberry_pi_logo1.png&quot; alt=&quot;raspberry pi logo&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;wifi--&quot;&gt;ОС, WiFi и драйвера&lt;/h2&gt;

&lt;p&gt;В качестве операционной системы поставил &lt;a href=&quot;http://www.raspbian.org&quot;&gt;Raspbian&lt;/a&gt;, сеть – купил WiFi-адаптер &lt;a href=&quot;http://www.tp-linkru.com/products/details/?categoryid=243&amp;amp;model=TL-WN725N&quot;&gt;TL-WN725N&lt;/a&gt; за 310 рублей в Юлмарте.&lt;/p&gt;

&lt;p&gt;Драйвера для WiFi-адаптера ставятся простым копированием файлов в нужные директории, полное описание процесса установки есть в блоге &lt;a href=&quot;http://www.mendrugox.net/2013/08/tp-link-tl-wn725n-v2-working-on-raspberry-raspbian/&quot;&gt;mendrugox&lt;/a&gt;. Только надо внимательно следить, чтобы драйвера были скомпилированы именно под нужную версию Raspbian.&lt;/p&gt;

&lt;p&gt;Драйвер для версии &lt;code&gt;2013-09-25-wheezy-raspbian&lt;/code&gt;: &lt;a href=&quot;/assets/raspberrypi/8188eu.ko&quot;&gt;8188eu.ko&lt;/a&gt; (Compiled in 2013-10) (Working in kernel Linux raspberrypi 3.6.11+ #538 PREEMPT).&lt;/p&gt;

&lt;p&gt;Файл кидаем на SD-карточку, после чего из Raspberry находим его в каталоге &lt;code&gt;/boot&lt;/code&gt;. Копируем в&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/lib/modules/(your-kernel-version)/kernel/drivers/net/wireless
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;и запускаем:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;depmod -a
modprobe 8188eu
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;После этого должно появиться устройство &lt;code&gt;wlan0&lt;/code&gt;, с которым можно уже работать.&lt;/p&gt;

&lt;p&gt;Исходный код: &lt;a href=&quot;/assets/raspberrypi/rtl8188eu.tgz&quot;&gt;rtl8188eu.tgz&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Я не стал мучаться с настройкой WiFi через командную строку, а настроил все через графический интерфейс. Все работает и загружается при старте системы.&lt;/p&gt;

&lt;h2 id=&quot;ssh-----dns&quot;&gt;SSH через браузер и динамический DNS&lt;/h2&gt;

&lt;p&gt;Решил поставить браузерную версию ssh, чтобы можно было зайти на него с работы (любой не http(s)-трафик у нас режут).&lt;/p&gt;

&lt;p&gt;Для этого сначала поставил &lt;a href=&quot;http://nodejs.org&quot;&gt;nodejs&lt;/a&gt;, затем &lt;a href=&quot;https://github.com/chjj/tty.js/&quot;&gt;tty.js&lt;/a&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;apt-get install nodejs, npm
npm install tty.js
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;После этого его сразу можно поднимать и работать:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;nodejs tty.js --daemonize
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Конфигурационный файл по-умолчанию лежит в &lt;code&gt;~/.tty.js/config.json&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Единственное, чего я пока не понял – как сделать шелл с приглашением к логину, а то сейчас сразу открывается терминал из под пользователя, запустившего &lt;code&gt;tty.js&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Аутентификация – стандартная HTTP-authentication. Надо будет еще с HTTPS заморочиться, чтобы вообще все было хорошо.&lt;/p&gt;

&lt;p&gt;Дальше, выводим наш Raspberry в интернет.&lt;/p&gt;

&lt;p&gt;Есть сервис &lt;a href=&quot;https://pagekite.net&quot;&gt;pagekite&lt;/a&gt;, который привязывает к вашему динамическому IP доменное имя вида &lt;code&gt;username.pagekite.me&lt;/code&gt;. Бесплатный и с открытым исходным кодом, все настраивается и быстро устанавливается, можно даже привязать свой CNAME.&lt;/p&gt;

&lt;p&gt;Все настроил, теперь у меня Raspberry доступен из интернета.&lt;/p&gt;

&lt;p&gt;Правда это штука, pagekite, достаточно сильно грузит процессор – примерно 7-8% на сессию. Видимо, программно осуществляет роутинг пакетов.&lt;/p&gt;

&lt;p&gt;Надо будет приделать к нему настоящий DDNS. К сожалению, почти все хотят за это сейчас денег, причем немаленьких. Есть наброски по использованию Yandex Public DNS и прописыванием адреса через API. Сделаю – напишу.&lt;/p&gt;

&lt;h2 id=&quot;section&quot;&gt;Скриншоты&lt;/h2&gt;

&lt;div class=&quot;photos&quot;&gt;
  &lt;img src=&quot;/assets/raspberrypi/screenshot-1.png&quot; data-caption=&quot;Nyancat в терминале, pagekite жрет 25% процессора&quot; /&gt;
  &lt;img src=&quot;/assets/raspberrypi/screenshot-2.png&quot; data-caption=&quot;Без нагрузки pagekite жрет 6-7% процессора&quot; /&gt;
&lt;/div&gt;

</content>
 </entry>
 
 <entry>
   <title>Перенос первого слова в параграфе в LaTeX</title>
   <link href="/first-word-hyphenation-in-latex/"/>
   <updated>2013-10-22T00:00:00+04:00</updated>
   <id>/first-word-hyphenation-in-latex</id>
   <content type="html">&lt;p&gt;При верстке таблиц в LaTeX может возникнуть еще одна проблема – если у вас в ячейке одно слово, то LaTeX не будет его переносить, даже если слово длинное и не умещается по ширине в ячейку типа &lt;code&gt;p&lt;/code&gt;. Все из-за того, что сложность алгоритма расстановки переносов в случае допущений, в числе которых и отсутствие необходимости переносить первое слово, падает с О(n&lt;sup&gt;2&lt;/sup&gt;) до O(n). Подробности &lt;a href=&quot;https://en.wikipedia.org/wiki/TeX#Hyphenation_and_justification&quot;&gt;в английской Википедии&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Но TeX можно обмануть! Нужно лишь первым символом параграфа сделать неразрывный пробел нулевой длины – &lt;code&gt;\hspace{0pt}&lt;/code&gt;. Примеры использования: &lt;a href=&quot;http://sigstp.blogspot.ru/2010/09/latex-hyphenate-single-long-words-in.html&quot;&gt;раз&lt;/a&gt;, &lt;a href=&quot;http://tex.stackexchange.com/questions/67762/hyphenation-rule-not-acted-upon&quot;&gt;два&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Вставлять каждый раз в нужное место код очень неудобно, особенно если контент приходит из вне, поэтому можно сделать это автоматически. После достаточно долгих поисков я нашел &lt;a href=&quot;http://tex.stackexchange.com/questions/78127/how-does-latex-make-line-breaking-for-word-that-can-not-fit-in-cell&quot;&gt;вот этот совет&lt;/a&gt; на TeX StackExchange – нужно в опциях табличного окружения воспользоваться синтаксисом &lt;code&gt;&amp;gt;{...}&lt;/code&gt; из пакета &lt;code&gt;array&lt;/code&gt;, например так:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;...
\usepackage{array}
...
\begin{longtable}{|&amp;gt;{\hspace{0pt}}p{0.1\textwidth} | p{0.3\textwidth}|} \hline
...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;После этого все сразу станет гораздо красивее.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Опция clip в gnuplot</title>
   <link href="/clip-option-in-gnuplot/"/>
   <updated>2013-10-22T00:00:00+04:00</updated>
   <id>/clip-option-in-gnuplot</id>
   <content type="html">&lt;p&gt;У gnuplot есть опция &lt;a href=&quot;http://gnuplot.sourceforge.net/docs_4.2/node165.html&quot;&gt;clip&lt;/a&gt;, которая начинает скрывать линии и точки на графике, если они подходят близко к осям. В моем случае, я рисовал линию между двумя точками, причем текущий &lt;code&gt;xrange&lt;/code&gt; оказывался по оси &lt;em&gt;x&lt;/em&gt; между этими точками, но не захватывал ни одну из них. В этом случае (по-умолчанию point clip is OFF) gnuplot не рисует линию. Пришлось сказать &lt;code&gt;set clip two&lt;/code&gt; и линия появилась.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Использование longtabu в LaTeX</title>
   <link href="/using-longtabu-in-latex/"/>
   <updated>2013-10-21T00:00:00+04:00</updated>
   <id>/using-longtabu-in-latex</id>
   <content type="html">&lt;p&gt;Стандартный &lt;code&gt;tabular&lt;/code&gt; не поддерживает таблицы, которые не умещаются в одну страницу.&lt;/p&gt;

&lt;p&gt;Для многостраничных таблиц есть пакет &lt;code&gt;longtable&lt;/code&gt;, он разбивает таблицу на страницы, 
причем на каждой странице может выводить свой заголовок. Доступны следующие команды:
&lt;code&gt;\endfirsthead&lt;/code&gt;, &lt;code&gt;\endhead&lt;/code&gt;, &lt;code&gt;\endlastfoot&lt;/code&gt;, &lt;code&gt;\endfoot&lt;/code&gt;.
Они определяют заголовок на первой странице таблицы и на остальных страницах таблицы.
И подвал страницы на последней и остальных страницах, соответственно.&lt;/p&gt;

&lt;p&gt;Примеры использования можно поискать в Гугле или, например, &lt;a href=&quot;http://texblog.org/2011/05/15/multi-page-tables-using-longtable/&quot;&gt;тут&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Проблемы с &lt;code&gt;longtable&lt;/code&gt; начинаются, если в таблице оказываются длинные данные. TeX 
по-умолчанию не умеет переносить содержимое ячеек на новую строчку. Чтобы активировать
перенос тип колонки должен быть не &lt;code&gt;l&lt;/code&gt;,&lt;code&gt;r&lt;/code&gt; или &lt;code&gt;c&lt;/code&gt; (выравнивание влево, вправо или по
центру) а &lt;code&gt;p&lt;/code&gt; (параграф) с указанием ширины в понятных для TeXа элементах (например, 
&lt;code&gt;p{1.1cm}&lt;/code&gt;). Тогда, определив для каждой колонки размер, соотнеся его с &lt;code&gt;\textwidth&lt;/code&gt;
можно добиться нормального расположения таблицы на странице (без сообщений в логе 
&lt;code&gt;Overfull \hbox&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;К счастью, есть более правильный способ – использование пакета &lt;a href=&quot;http://www.ctan.org/pkg/tabu&quot;&gt;&lt;code&gt;tabu&lt;/code&gt;&lt;/a&gt;. Он
добавляет к возможностям окружения &lt;code&gt;tabular&lt;/code&gt; новый тип колонок - &lt;code&gt;X&lt;/code&gt;. Это колонка,
ширина которой будет вычисляться автоматически.&lt;/p&gt;

&lt;p&gt;Пример таблицы в окружении &lt;code&gt;tabu&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;\begin{tabu} to \linewidth{lXr}

$r_1c_1$ &amp;amp; $r_1c_2$ &amp;amp; $r_1c_3$ \\
$r_2c_1$ &amp;amp; $r_2c_2$ &amp;amp; $r_2c_3$ \\
$r_3c_1$ &amp;amp; $r_3c_2$ &amp;amp; $r_3c_3$ \\

\end{tabu}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;У &lt;code&gt;X&lt;/code&gt; может быть несколько параметров - вес коэффициента ширины ячейки (число),
выравнивание по горизонтали и вертикали. Например, если нужна колонка в 2 раза шире
чем обычная и выровненная по правому краю, для нее указываем &lt;code&gt;X[2,r]&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;У пакета &lt;code&gt;tabu&lt;/code&gt; есть окружение &lt;code&gt;longtabu&lt;/code&gt;, расширяющее функционал пакета &lt;code&gt;longtable&lt;/code&gt;
колонками типа &lt;code&gt;X&lt;/code&gt;. Чтобы его использовать, надо подключить оба пакета &lt;code&gt;tabu&lt;/code&gt; и &lt;code&gt;longtable&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Команды заголовков и подвала &lt;code&gt;longtabu&lt;/code&gt; наследует от &lt;code&gt;longtable&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;У меня возникли проблемы с &lt;code&gt;longtabu&lt;/code&gt; когда у меня в заголовке были многоколоночные
ячейки (&lt;code&gt;\multicolumn&lt;/code&gt;). Для них нельзя указать тип &lt;code&gt;X&lt;/code&gt;, поэтому заголовок у меня не
попадал в основную таблицу. К сожалению, &lt;code&gt;\multicolumn&lt;/code&gt; для &lt;code&gt;tabu&lt;/code&gt; еще не реализован,
так что приходится использовать workaround через &lt;code&gt;\tabuphantomline&lt;/code&gt;, примерно так:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;\begin{longtabu} to \linewidth{|r|X[L]|r|X[L]|r|X[L]|X[R]|l|} \tabucline-

\hline
\multicolumn2{|c|}{COLUMN1} &amp;amp; \multicolumn2{c|}{COLUMN2} &amp;amp; \multicolumn4{c|}{COLUMN3} \\ \tabucline-
\tabuphantomline
\hline
\endfirsthead
...
\end{longtabu}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Здесь используется таблица с 8 колонками разного типа. Заголовки многоколоночные,
ширина получается точно такая, как у ячеек таблицы.&lt;/p&gt;

&lt;p&gt;Использование этого workaround не совсем очевидно из документации, но это работает.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Cheatsheet по CentOS</title>
   <link href="/centos-cheatsheet/"/>
   <updated>2013-08-17T00:00:00+04:00</updated>
   <id>/centos-cheatsheet</id>
   <content type="html">&lt;p&gt;Буду собирать полезные команды по CentOS в одном месте.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;chkconfig&lt;/code&gt; – команда, проверяющая автоматический запуск сервисов. &lt;code&gt;chkconfig
--list httpd&lt;/code&gt; покажет, на каких ранлевелах стартует веб-сервер (Апач) при
загрузке. Добавить сервис в автозапуск можно с помощью &lt;code&gt;chkconfig --levels
2345 httpd on&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Чтобы подключить &lt;a href=&quot;http://fedoraproject.org/wiki/EPEL&quot;&gt;EPEL&lt;/a&gt;, репозиторий с
большим количеством различных пакетов (например, &lt;code&gt;pip&lt;/code&gt; для питона), нужно
поставить rpm-пакет epel. Подробности – в &lt;a href=&quot;http://fedoraproject.org/wiki/EPEL/FAQ#How_can_I_install_the_packages_from_the_EPEL_software_repository.3F&quot;&gt;FAQ&lt;/a&gt; Epel.&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Чтобы настроить таймзону нужно скопировать в &lt;code&gt;/etc/localtime&lt;/code&gt; одну из таймзон
из &lt;code&gt;/usr/share/zoneinfo&lt;/code&gt;, например для Москвы:&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;# ln -sf /usr/share/zoneinfo/Europe/Moscow localtime
&lt;/code&gt;&lt;/pre&gt;

    &lt;p&gt;Тогда часы сразу изменятся и команда &lt;code&gt;date&lt;/code&gt; будет выдавать правильное время.&lt;/p&gt;

    &lt;p&gt;Подробности &lt;a href=&quot;http://www.cyberciti.biz/faq/howto-linux-unix-change-setup-timezone-tz-variable/&quot;&gt;тут&lt;/a&gt;.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Использование rbenv в качестве менеджера пакетов Ruby</title>
   <link href="/trying-rbenv/"/>
   <updated>2013-08-04T00:00:00+04:00</updated>
   <id>/trying-rbenv</id>
   <content type="html">&lt;p&gt;Попробовал использовать &lt;a href=&quot;https://github.com/sstephenson/rbenv&quot;&gt;rbenv&lt;/a&gt; в качестве менеджера версий &lt;a href=&quot;http://www.ruby-lang.org&quot;&gt;ruby&lt;/a&gt;. По
сравнению с &lt;a href=&quot;https://rvm.io&quot;&gt;rvm&lt;/a&gt;, который я использовал раньше, это словно глоток свежего
воздуха. Простая и понятная установка, когда сам руками клонируешь нужные
репозитории из гитхаба, 2 строчки в .rc файл и собственно все, установка
закончена. Далее выбираешь нужную версию ruby и поехали. С rvm я никак не мог
понять, в какой версии я нахожусь, что надо сделать, чтобы оно заработало.&lt;/p&gt;

&lt;p&gt;Я, конечно, не ruby-разработчик, поэтому это мои “ламерские” выводы, я обеими
системами я работал очень мало, но понятность и простота rbenv подкупают.&lt;/p&gt;

&lt;p&gt;Единственное, что не указано в документации в разделе “Установка”, а указано
гораздо ниже – после установки с помощью &lt;code&gt;$ rbenv install ruby-1.9.3-p448&lt;/code&gt;
нужно задать используемую версию руби с помощью &lt;code&gt;$ rbenv local 1.9.3-p448&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Также мне понадобилось установить пакет &lt;code&gt;zlib-devel&lt;/code&gt; для корректной работы &lt;code&gt;gem
install&lt;/code&gt;. Возникала ошибка &lt;a href=&quot;http://stackoverflow.com/questions/9727908/cannot-load-such-file-zlib-even-after-using-rvm-pkg-install-zlib&quot;&gt;Cannot load such file – zlib&lt;/a&gt;.
После установки нужно переустановить версию руби.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>12 новых функций Oracle 12c</title>
   <link href="/new-features-in-oracle-12c/"/>
   <updated>2013-07-22T00:00:00+04:00</updated>
   <id>/new-features-in-oracle-12c</id>
   <content type="html">&lt;p&gt;По мотивам этого замечательного видео Тома Кайта&lt;/p&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;//www.youtube.com/embed/ekTTXoHBmWw&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;
&lt;/iframe&gt;

&lt;p&gt;напишу, о чем Том говорит.&lt;/p&gt;

&lt;p&gt;Прежде всего, в Oracle 12c появилось более 500 новых функций, но наиболее
важными по мнению Тома являются следующие (от простых к сложным):&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Улучшенный PL/SQL внутри SQL. Теперь можно начинать SELECT с PL/SQL-кода,
который потом использовать в запросе, не создавая объект в БД.
Видимо, можно написать что-то вроде:&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; with function f(n number)
   return number as
   begin
     return 1;
   end
 select f(1) from dual;
&lt;/code&gt;&lt;/pre&gt;

    &lt;p&gt;Надо будет найти документацию по этому функционалу.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Улучшенные значения по-умолчанию. Это про автоинкрементируемые поля типа
IDENTITY, для заполнения последовательностью чисел. Теперь больше не нужно
писать триггеры, заполняющие уникальный ключ из последовательности.
Справедливости ради отмечу, что триггеры почти никто и не писал, просто в
процедуре заполнения использовалась последовательность.&lt;/p&gt;

    &lt;p&gt;Также улучшились DEFAULT-значения для колонок. Раньше, если у колонки было
DEFAULT значение, оно использовалось только если колонку не указывать в списке
колонок для вставки. Иначе, вставлялся NULL. Теперь если в колонку с DEFAULT
вставить NULL, вставится DEFAULT. Странно, мне казалось что можно явным образом
указать DEFAULT в INSERT и тогда вставится значение по-умолчанию.&lt;/p&gt;

    &lt;p&gt;Можно быстро добавить колонку с DEFAULT, даже если она NULLABLE. Раньше
такое разрешалось только для NOT NULL колонок (фактически на уровне ядра
делалось что-то типа &lt;code&gt;nvl(x, DEFAULT)&lt;/code&gt; и физического изменения данных во всей
таблице не происходило)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Увеличили максимальный размер типов VARCHAR2, NVARCHAR2 и RAW. В 12с VARCHAR2
может достигать размера в 32k, как в PL/SQL. Где-то видел, что есть настройки и
тонкости с этим, потому что длинные строки Oracle по-прежнему хранит out-of-row
в lob-сегментах. Поищу, поставлю тут ссылку.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Top N и постраничные запросы. Раньше это делалось руками через аналитические
функции, теперь добавили синтаксический сахар. Джонатан Льюис
&lt;a href=&quot;http://jonathanlewis.wordpress.com/2013/07/10/12c-first-n/&quot;&gt;писал&lt;/a&gt;, что БД
просто переписывает код в аналитические функции и исполняет. Надо быть
осторожным, а то представляю, во что могут превратятся огромные запросы. Теперь
нагнуть сервер станет гораздо проще.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Паттерны строк. Чтобы можно было находить изменения строк в соответствии с
определенными паттернами, например V или W изменения, например котировок акций.
Занятная штука для аналитики.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Улучшения партиционирования. Можно делать DDL-операции на несколько партиций
сразу. Перемещения сразу нескольких партиций на другие устройства с сохранением
ONLINE-статуса дата-файлов.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Изменяемые планы выполнения. В процессе выполнения запроса оптимизатор
определяет, если он получил на шаге другое количество строк, нежели ожидал, то
он может перестроить план на лету и использовать другой метод соединения.
Например, переключиться с NESTED LOOPS на HASH JOIN. Теперь тюнить запросы без
трейса будет наверное практически невозможно. Хотя, если их не надо будет вообще
тюнить… Мечты.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Улучшенная статистика. Новые типы гистограмм (2). Подходят для колонок с
более чем 255-ю различными значениями. Раньше, если уникальных значений больше
255, то строилась сбалансированная по весу гистограмма. У такого подхода были
проблемы с определенными наборами данных. Например, если в столбце есть много
часто встречающиеся значения и много редких значений, а в других столбцах
значения были распределены достаточно равномерно, то старые гистограммы давали
плохую оценку количества возвращаемых строк (cardinality). С новыми типами
гистограмм Oracle 12c хорошо работает с очень частыми значениями,
среднепопулярными и непопулярными значениями. Тут надо почитать подробнее, пока
в голове у меня путаница между столбцами и строками, где популярные значения, в
рамках одного столбца или в рамках нескольких?&lt;/p&gt;

    &lt;p&gt;Улучшился сбор статистики. Она теперь собирается на лету при операциях
загрузки данных в пустую таблицу (&lt;code&gt;create table as select&lt;/code&gt;, &lt;code&gt;insert /*+ append */&lt;/code&gt;,
bulk operations). А если в пустую партицию?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;UNDO во временном табличном пространстве. Раньше временные таблицы (Global
temporary table) создавались во временном табличном пространстве. Но при
операциях записи во временное табличное пространство создавались блоки в
табличном пространстве UNDO (для согласованного чтения/rollback/commit). А так
как для UNDO информация пишется в REDO-логи, то использование временных таблиц
порождало REDO. Теперь в 12c можно разместить UNDO во временном табличном
пространстве и REDO не будет продуцироваться. Теперь данные из временных таблиц
не попадут в REDO-логи и не будут заархивированы. Это экономия места и времени в
случае восстановления из бэкапа и flashback-операций.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Оптимизация данных. БД генерирует “температурные” карты данных - часто
перезаписываемые данные помечаются “горячими”, часточитаемые блоки - “теплыми”,
редкочитаемые - “холодными”. отделяются от редко используемых и от почти
неиспользуемых. Далее в стиле DDL можно указать как БД должна работать с этими
типами данных - можно установить степень сжатия в зависимости от “температуры”
блоков (теплые - сжимать, холодные - в архив). DBA может с декларативно
устанавливать политики для определения температуры блоков и описывать что с ними
делать. БД будет делать это автоматически.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Application Continuity и Transaction Guard. Смысл Transaction Guard в том,
что одна транзакция теперь пройдет как минимум один раз и только один раз.
Нельзя два раза оплатить одну и ту же покупку, например. Штука для
веб-приложений типа APEX. Поверх Transaction Guard работает Application
Continuity. Это улучшение существовавшей технологии Transparent Application
Failover (TAF). Раньше с помощью TAF можно было для транзакций только на чтение
распространить ошибку через базы данных. Например, если приложение заполняющее
БД упало, то через TAF эта информация дойдет до приложения (и БД), собирающего
отчеты, например. Проблема в том, что это работало с транзакциями “только на
чтение”. Теперь работает и с транзакциями на запись. Теперь можно поднять
упавшие транзакции и повторить все зависящие от нее транзакции даже на другой
ноде в другой БД.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Самое большое изменение – Pluggable Databases. Про эту опцию есть куча
информации, недавно был вебинар (&lt;a href=&quot;http://www.youtube.com/watch?v=KKi37EIQ5-8&amp;amp;feature=player_embedded&quot;&gt;видео с
него&lt;/a&gt;), так
что я особо не буду это описывать. Смысл в том, что если нужно на одном инстансе
поднять несколько баз данных, которые будут полностью независимы, то теперь не
нужно создавать несколько ORACLE_HOME и запускать несколько экземпляров инстанса
Oracle. Раньше нельзя было объединить БД потому что возник бы конфликт
синонимов, наименований схем и т.д. Теперь это подключается как pluggable
database, на лету создается, подключается, клонируется, отключается. Одна SGA на
инстанс, которая будет существенно меньше чем куча маленьких SGA для каждой БД.
Бэкап, установка обновлений – все на одну контэйнер-БД. Подключаемые БД
автоматически унаследуют все с БД-контейнера. Собственно эта функция и дала
Oracle 12с буковку &lt;em&gt;c&lt;/em&gt; в названии.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

</content>
 </entry>
 
 <entry>
   <title>Аннуитетный калькулятор</title>
   <link href="/annuity-calculator/"/>
   <updated>2013-06-03T00:00:00+04:00</updated>
   <id>/annuity-calculator</id>
   <content type="html">&lt;p&gt;Написал на Питоне коротенький аннуитетный калькулятор, рассчитывающий размер
платежа, начисленные проценты и общую сумму переплаты. &lt;/p&gt;

&lt;p&gt;Оказалось, что если взять кредит на 3 года и погашать досрочно суммами, равными
аннуитетному платежу для срока кредита 1 год, то переплата процентов будет в
точности равна переплате, если просто взять кредит на 1 год.&lt;/p&gt;

&lt;p&gt;Калькулятор:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# -*- encoding: utf-8 -*-

PCT = 14.99/100
YEARS = 2
m = 12  # number of payments in year

SUM = 100000

K = (PCT/m)/(1-(1+(PCT/m))**(-1*YEARS*m))  # annuity quotient

def iterate():
  global SUM, K, YEARS, m
  remainder = SUM
  extra = 0  # extra monthly payment 
  totals = {&#39;percents&#39;: 0, &#39;payments&#39;: 0}
  print(&#39;{:&amp;lt;10}\t{:&amp;lt;10}\t{:&amp;lt;10}\t{:&amp;lt;10}\t{:&amp;lt;10}&#39;.format(&#39;MONTH&#39;, &#39;PERCENT&#39;, &#39;PAYMENT&#39;,
                                                        &#39;REMAINDER&#39;, &#39;EXTRA&#39;))
  for i in range(YEARS*m):
    percent = remainder*PCT/m
    remainder += percent        
    payment = min(K*SUM + extra, remainder)
    remainder = max(0, remainder - payment)
    totals[&#39;percents&#39;] += percent
    totals[&#39;payments&#39;] += payment
    print(&#39;{:&amp;lt;10}\t{:&amp;lt;10.2f}\t{:&amp;lt;10.2f}\t{:&amp;lt;10.2f}\t{:&amp;lt;10.2f}&#39;.format(i+1, percent, payment,
                                                                      remainder, extra))
    if remainder == 0: break
  print(&#39;-&#39;*80)
  print(&#39;{:&amp;lt;10}\t{:&amp;lt;10.2f}\t{:&amp;lt;10.2f}&#39;.format(&#39;TOTAL&#39;, totals[&#39;percents&#39;],
                                              totals[&#39;payments&#39;]))

iterate()
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Пример расчета кредита в 100,000 на 2 года с процентной ставкой 14.99% годовых:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;MONTH       PERCENT   	PAYMENT   	REMAINDER 	EXTRA     
1         	1249.17   	4848.19   	96400.98  	0.00      
2         	1204.21   	4848.19   	92757.00  	0.00      
3         	1158.69   	4848.19   	89067.50  	0.00      
4         	1112.60   	4848.19   	85331.91  	0.00      
5         	1065.94   	4848.19   	81549.66  	0.00      
6         	1018.69   	4848.19   	77720.16  	0.00      
7         	970.85    	4848.19   	73842.82  	0.00      
8         	922.42    	4848.19   	69917.05  	0.00      
9         	873.38    	4848.19   	65942.24  	0.00      
10        	823.73    	4848.19   	61917.78  	0.00      
11        	773.46    	4848.19   	57843.05  	0.00      
12        	722.56    	4848.19   	53717.41  	0.00      
13        	671.02    	4848.19   	49540.24  	0.00      
14        	618.84    	4848.19   	45310.90  	0.00      
15        	566.01    	4848.19   	41028.71  	0.00      
16        	512.52    	4848.19   	36693.04  	0.00      
17        	458.36    	4848.19   	32303.21  	0.00      
18        	403.52    	4848.19   	27858.54  	0.00      
19        	348.00    	4848.19   	23358.35  	0.00      
20        	291.78    	4848.19   	18801.95  	0.00      
21        	234.87    	4848.19   	14188.62  	0.00      
22        	177.24    	4848.19   	9517.67   	0.00      
23        	118.89    	4848.19   	4788.37   	0.00      
24        	59.81     	4848.19   	0.00      	0.00      
--------------------------------------------------------------------------------
TOTAL     	16356.55  	116356.55 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Формулу для аннуитета взял в &lt;a href=&quot;http://ru.wikipedia.org/wiki/%D0%90%D0%BD%D0%BD%D1%83%D0%B8%D1%82%D0%B5%D1%82&quot;&gt;Википедии&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/schmooser/cloaked-adventure/blob/master/annuity_calc.py&quot;&gt;Исходный код&lt;/a&gt; на ГитХабе.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Экспорт из dbf в csv</title>
   <link href="/export-dbf-to-csv/"/>
   <updated>2013-05-29T00:00:00+04:00</updated>
   <id>/export-dbf-to-csv</id>
   <content type="html">&lt;p&gt;Чтобы экспортировать dbf в csv, можно использовать питоновский модуль &lt;a href=&quot;https://pypi.python.org/pypi/dbf&quot;&gt;dbf&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Иногда требуется указать явным образом кодировку, в которой хранятся данные в dbf-файле.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;import dbf

dbf_file = &#39;d:\\in.dbf&#39;
csv_file = &#39;d:\\out.csv&#39;

a = dbf.Table(dbf_file)
a.open()
a.codepage = dbf.CodePage(&#39;cp866&#39;)

dbf.export(a, filename=csv_file, encoding=&#39;cp1251&#39;, format=&#39;csv&#39;)
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;p&gt;Обнаружилась проблема, что модуль dbf для определенных типов атрибутов заменяет NULL-значения на текст None. Поискал в интернете другой модуль, нашел &lt;a href=&quot;http://dbfpy.sourceforge.net/&quot;&gt;dbfpy&lt;/a&gt;. Работает даже быстрее чем dbf. Скрипт выгрузки становится таким:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;from dbfpy import dbf
import csv

dbf_file = &#39;d:\\in.dbf&#39;
csv_file = &#39;d:\\out.csv&#39;

db = dbf.Dbf(dbf_file)
writer = csv.writer(open(csv_file, &#39;w&#39;), delimiter = &#39;\t&#39;, lineterminator=&#39;\n&#39;,
                    quotechar=&quot;&#39;&quot;, quoting=csv.QUOTE_NONE)
                
# print db.fieldNames

i = 0
for rec in db:
  row = [item for item in rec]
  writer.writerow(row)
  i += 1
  if i%100000 == 0:
    print &#39;%d rows downloaded&#39; % i

print &#39;Done: %d rows downloaded&#39; % i
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Конверсии кодировки нет, в какой был текст в исходном dbf, в таком он будет и в csv.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>1z0-047, прохождение теста  №2</title>
   <link href="/1z0-047-test-passing-2/"/>
   <updated>2013-05-20T00:00:00+04:00</updated>
   <id>/1z0-047-test-passing-2</id>
   <content type="html">&lt;p&gt;В этом году решил все-таки получить сертификаты Oracle. &lt;/p&gt;

&lt;p&gt;Вопросы после второго прохождения теста 1Z0-047.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;SEQUENCE: В каком случае используется значение из кеша, а в каком
генерируется новое значение для последовательности?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Как работает TIMESTAMP WITH LOCAL TIME ZONE?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Повторить про GROUPING при использовании ROLLUP&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Понять, что подразумевается под CORRELATED SUBQUERY, UNCORRELATED SUBQUERY 
и прочими SUBQUERY.&lt;/p&gt;

    &lt;p&gt;Ответы:&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;Single rows subquery: A subquery is called a single row subquery when the inner
query returns a single value to the main query.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Что содержится в SESSION_PRIVS?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;SYSDATE нельзя использовать в CHECK при создании констрейнта. А какие
функции можно?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Что будет с грантами на объекты, выданными через GRANT OPTION, если гранты
и выдавшего отнимаются?&lt;/p&gt;

    &lt;p&gt;Ответ: все, что выдано через GRANT OPTION тоже отменяется. Касается только
объектных привилегий. Для системных привилегий есть ADMIN OPTION.&lt;/p&gt;

    &lt;p&gt;Цитата из &lt;a href=&quot;http://docs.oracle.com/cd/B10500_01/server.920/a96521/privs.htm&quot;&gt;документации на 9-ку&lt;/a&gt;:&lt;/p&gt;

    &lt;blockquote&gt;
      &lt;p&gt;You can only revoke the privileges that you, the grantor, directly authorized, not the
grants made by other users to whom you granted the GRANT OPTION. However, there
is a cascading effect. The object privilege grants propagated using the GRANT OPTION
are revoked if a grantor’s object privilege is revoked.&lt;/p&gt;
    &lt;/blockquote&gt;

    &lt;p&gt;В &lt;a href=&quot;http://docs.oracle.com/cd/E11882_01/network.112/e16543/authorization.htm#autoId8&quot;&gt;документации на 11g&lt;/a&gt;
подобного не нашел.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Можно ли создать индекс на колонку, входящую на первом месте в композитный первичный ключ?&lt;/p&gt;

    &lt;p&gt;Ответ: можно&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; SQL&amp;gt; drop table tmp_test;

 Table dropped.

 SQL&amp;gt; create table tmp_test(a number, b number, c number, primary key (a,b));

 Table created.

 SQL&amp;gt; create index tmp_test_idx on tmp_test(a);

 Index created.  
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Когда делаем &lt;code&gt;WITH a AS (SELECT /*+ materialize */ ...&lt;/code&gt;, где сохраняется результат подзапроса?
В пользовательском temporary tablespace?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Что такое NOVALIDATE у CONSTRAINT?&lt;/p&gt;

    &lt;p&gt;Ответ: можно при создании CONSTRAINT указать NOVALIDATE, тогда уже существующие строки в таблице
не будут проверяться на соответствие условию CONTSTRAINT. Подробнее &lt;a href=&quot;http://richardfoote.wordpress.com/2008/07/28/novalidate-constraints-no-really/&quot;&gt;в этом посте&lt;/a&gt;
или на &lt;a href=&quot;http://www.sql.ru/forum/396299/ogranichenie-v-sostoyanii-enable-novalidate&quot;&gt;SQL.ru&lt;/a&gt;.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Informatica Power Center</title>
   <link href="/ipc/"/>
   <updated>2013-05-08T00:00:00+04:00</updated>
   <id>/ipc</id>
   <content type="html">&lt;p&gt;Буду в этом посте собирать различную информацию по &lt;a href=&quot;http://www.informatica.com&quot;&gt;Informatica Power Center&lt;/a&gt;, которым пользуюсь на работе.&lt;/p&gt;

&lt;p&gt;Ссылки на посты по теме IPC:&lt;/p&gt;

&lt;ul&gt;

  
    &lt;li&gt;&lt;a href=&quot;/informatica-order-of-ports-in-expression/&quot;&gt;Порядок портов в Expression Informatica PowerCenter&lt;/a&gt;&lt;/li&gt;
  

  
    &lt;li&gt;&lt;a href=&quot;/running-workflow-in-parallel-in-informatica-powercenter/&quot;&gt;Параллельный запуск потока в Informatica PowerCenter&lt;/a&gt;&lt;/li&gt;
  

  

  
    &lt;li&gt;&lt;a href=&quot;/informatica-power-center-part-1/&quot;&gt;Informatica Power Center. Часть 1. Описание системы и ее логических составляющих&lt;/a&gt;&lt;/li&gt;
  

  
    &lt;li&gt;&lt;a href=&quot;/bugs-and-stangeness-of-informatica/&quot;&gt;Баги и странности Informatica Power Center&lt;/a&gt;&lt;/li&gt;
  

&lt;/ul&gt;

&lt;h3 id=&quot;pmrootdir&quot;&gt;Узнаем текущий &lt;code&gt;$PMRootDir&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;Очень часто нужно узнать текущий &lt;code&gt;$PMRootDir&lt;/code&gt;. Проще всего это сделать так: создать workflow, в нем command task с коммандой &lt;code&gt;echo $PMRootDir &amp;gt; /dev/null&lt;/code&gt;. Запустить workflow и после выполнения посмотреть лог, там будет запись о выполнении задания с расшифрованным значением &lt;code&gt;$PMRootDir&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Таким же нехитрым образом можно узнать значения и остальных системных переменных IPC.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Тестирование постинга фотографий</title>
   <link href="/image-sharing-test/"/>
   <updated>2013-05-08T00:00:00+04:00</updated>
   <id>/image-sharing-test</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://artpolikarpov.ru&quot;&gt;Артем Поликарпов&lt;/a&gt; любезно предоставил мне
&lt;a href=&quot;http://fotoramajs.com/license/get/?domain=iseetheline.ru&quot;&gt;лицензию&lt;/a&gt; на
&lt;a href=&quot;http://fotoramajs.com/&quot;&gt;Фотораму&lt;/a&gt;. Теперь буду постить фотографии сюда.&lt;/p&gt;

&lt;p&gt;Хранить фотографии я буду на &lt;a href=&quot;http://flickr.com/photos/schmooser&quot;&gt;Фликере&lt;/a&gt;, не
зря же я за него оплачиваю pro-подписку. Теперь осталось придумать, как проще
всего получать URL-ы фотографий, потому что у Фликера с ними мутная политика,
они хотят чтобы у каждого изображения была обратная ссылка на сайт Фликера.
Они, конечно, предоставляют различные галереи изображений, но мне
не нравится результат, и к тому же они используют флеш, которого у меня почти
что уже нигде нет.&lt;/p&gt;

&lt;p&gt;Пример фотографий:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;photos&quot;&gt;
  &lt;img src=&quot;http://farm9.staticflickr.com/8258/8705257668_191a36a4bc.jpg&quot; alt=&quot;Planes #1&quot; /&gt;
  &lt;img src=&quot;http://farm9.staticflickr.com/8134/8704132697_3528f690fc.jpg&quot; alt=&quot;Planes #2&quot; /&gt;
  &lt;img src=&quot;http://farm9.staticflickr.com/8545/8705256172_152eec198f.jpg&quot; alt=&quot;Planes #3&quot; /&gt;
&lt;/span&gt;&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Просмотр fingerprint'а у RSA-ключа</title>
   <link href="/looking-fingerprint-of-rsa-key/"/>
   <updated>2013-04-06T00:00:00+04:00</updated>
   <id>/looking-fingerprint-of-rsa-key</id>
   <content type="html">&lt;p&gt;Чтобы просмотреть fingerprint ключа, надо сделать:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ssh-keygen -lf keyname
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Подробнее можно почитать &lt;a href=&quot;http://www.lysium.de/blog/index.php?/archives/186-How-to-get-ssh-server-fingerprint-information.html&quot;&gt;тут&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;UPD. Еще полезное по поводу RSA. Чтобы сервер нормально пускал через ssh помощью RSA-ключа, надо, помимо добавления публичного ключа в ~/.ssh/authorized_keys, выставить правильные права на папку .ssh и файлы в ней. Какие – зависит от типа сервера. На EC2 образе Amazon Linux у .ssh и .ssh/authorized_keys права 755 и 644, соответственно, а владелец/группа у обоих root/root. CentOS оказался более привередливым, ему пришлось выставить 644 на .ssh и 600 на .ssh/authorized_keys.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Cheatsheet по git</title>
   <link href="/git-cheatsheet/"/>
   <updated>2013-02-28T00:00:00+04:00</updated>
   <id>/git-cheatsheet</id>
   <content type="html">&lt;p&gt;Буду собирать здесь часто выполняемые действия по гиту, этакий cheatsheet.&lt;/p&gt;

&lt;p&gt;Полезные ссылки по гиту, которые я сохранил, можно посмотреть на
&lt;a href=&quot;https://pinboard.in/u:schmooser/t:git/&quot;&gt;pinboard&lt;/a&gt;.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;git checkout -b test origin/test&lt;/code&gt; – получаем удаленный бранч origin/test в  локальный test&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;git push origin :test&lt;/code&gt; – удаляем удаленный бранч test&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;git diff --name-only [SHA1|TAG1] [SHA2|TAG2]&lt;/code&gt; – посмотреть измененные файлы между коммитами&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;git show [SHA|TAG]:filename&lt;/code&gt; – показывает файл каким он был в указанном коммите&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;git branch -m oldname newname&lt;/code&gt; – переименовываем бранч oldname в newname&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;git merge -s recursive -X ours&lt;/code&gt; – мерж со стратегией “при совпадении брать  файлы из текущей ветки”. Нужно предварительно чекаутнуть ту ветку, чьи файлы нужно сохранить. Не путать со стратегией &lt;code&gt;git merge -s ours&lt;/code&gt;. Эта просто берет текущую ветку за основу, все измененные и новые файлы из соединяемых веток
отбрасываются. &lt;a href=&quot;https://www.kernel.org/pub/software/scm/git/docs/git-merge.html&quot;&gt;Документация по merge&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;git add -u&lt;/code&gt; – добавляет всю ветку в стейджинговую область для коммита.  Удобно, когда удаляешь много файлов и не хочется вручную писать для каждого &lt;code&gt;git rm &amp;lt;filename&amp;gt;&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code&gt;^&lt;/code&gt; и &lt;code&gt;~&lt;/code&gt; нотация – способ обратиться к родительскому коммиту. Например, &lt;code&gt;HEAD~&lt;/code&gt; будет родительским коммитом. Между &lt;code&gt;^&lt;/code&gt; и &lt;code&gt;~&lt;/code&gt; есть разница: &lt;code&gt;~&lt;/code&gt; это линейный уровень по родителям (первый родитель, первый родитель первого родителя, первый родитель первого родителя первого родителя и т.д.), &lt;code&gt;^&lt;/code&gt; – способ обратиться ко второму родителю (у коммита может быть несколько предков). Более подробно описано у &lt;a href=&quot;http://paulboxley.com/blog/2011/06/git-caret-and-tilde&quot;&gt;Paul Boxley&lt;/a&gt; в блоге.&lt;/p&gt;

    &lt;p&gt;Например, если после добавления в стейджинг файлов, хочется посмотреть diff, то просто &lt;code&gt;git diff filename&lt;/code&gt; не поможет, нужно пользоваться &lt;code&gt;git diff HEAD~ filename&lt;/code&gt;.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Ставим cx_Oracle на Amazon Linux (микро-инстанс EC2)</title>
   <link href="/stavim-cx-oracle-na-amazon-linux-mikro-instans-ec2/"/>
   <updated>2013-02-26T00:00:00+04:00</updated>
   <id>/stavim-cx-oracle-na-amazon-linux-mikro-instans-ec2</id>
   <content type="html">&lt;p&gt;Чтобы поставить модуль cx_Oracle на Amazon Linux, надо сделать следующее:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Поставить pip: &lt;code&gt;#easy_install pip&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Прописать оракловые переменные среды &lt;code&gt;ORACLE_HOME&lt;/code&gt;, &lt;code&gt;ORACLE_SID&lt;/code&gt;, &lt;code&gt;NLS_LANG&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Поставить пакет &lt;code&gt;#yum install python-devel&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Поставить cx_Oracle: &lt;code&gt;#pip install cx_Oracle&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Прописать переменную среды export &lt;code&gt;LD_LIBRARY_PATH=$ORACLE_HOME/lib&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
</content>
 </entry>
 
 <entry>
   <title>LookAtMe – избранное</title>
   <link href="/lookatme-favourites/"/>
   <updated>2013-02-22T00:00:00+04:00</updated>
   <id>/lookatme-favourites</id>
   <content type="html">&lt;p&gt;LookAtMe прислал извещение о том, что они выпиливают с сайта раздел Избранное. Отличный повод удалиться оттуда. Оказалось, что они в очередной раз сменили дизайн и теперь я там вообще ничего не понимаю.&lt;/p&gt;

&lt;p&gt;Сохраню то, что у меня было в избранном там сюда, на всякий случай:&lt;/p&gt;

&lt;ul&gt;
   &lt;li&gt;
      &lt;a href=&quot;http://www.lookatme.ru/flow/posts/film-radar/13100-korotkoe-kino-o-zhizni&quot;&gt;Короткое кино о&amp;nbsp;жизни&lt;/a&gt;
   &lt;/li&gt;
   &lt;li&gt;
      &lt;a href=&quot;http://www.lookatme.ru/flow/posts/photo-radar/40367-s-legkoy-ruki-grega-uilyamsa&quot;&gt;С&amp;nbsp;легкой руки Грега Уильямса&lt;/a&gt;
   &lt;/li&gt;
   &lt;li&gt;
      &lt;a href=&quot;http://www.lookatme.ru/flow/posts/photo-radar/41404-ledi-di-printsessa-mira-mira-lomografii&quot;&gt;Леди Ди, принцесса Мира. Мира Ломографии&lt;/a&gt;
   &lt;/li&gt;
   &lt;li&gt;
      &lt;a href=&quot;http://www.lookatme.ru/my/my/video/42184-vilr-hash-3-0&quot;&gt;VILR hash 3. 0&lt;/a&gt;
   &lt;/li&gt;
   &lt;li&gt;
      &lt;a href=&quot;http://www.lookatme.ru/flow/posts/film-radar/61732-charli-chaplin&quot;&gt;Чарли Чаплин&lt;/a&gt;
   &lt;/li&gt;
   &lt;li&gt;
      &lt;a href=&quot;http://www.lookatme.ru/flow/posts/science-techno/67216-vzglyad-cherez-lobovoe-steklo-2009-06-18&quot;&gt;Взгляд через лобовое стекло&lt;/a&gt;
   &lt;/li&gt;
   &lt;li&gt;
      &lt;a href=&quot;http://www.lookatme.ru/flow/obschestvo/obschestvo/75211-nedelya-s-gusevym&quot;&gt;Качественная литература по&amp;nbsp;будням. Коротко&lt;/a&gt;
   &lt;/li&gt;
   &lt;li&gt;
      &lt;a href=&quot;http://www.lookatme.ru/flow/posts/film-radar/81645-klipmeykery-v-bolshom-kino-i-naoborot&quot;&gt;Клипмейкеры в большом кино&lt;/a&gt;
   &lt;/li&gt;
   &lt;li&gt;
      &lt;a href=&quot;http://www.lookatme.ru/flow/posts/design-radar/88778-hobbi-moleskine&quot;&gt;Хобби-Moleskine&lt;/a&gt;
   &lt;/li&gt;
   &lt;li&gt;
      &lt;a href=&quot;http://www.lookatme.ru/flow/posts/photo-radar/103383-kakoy-kupit-fotoapparat-lyuboy&quot;&gt;Какой купить фотоаппарат? Любой&lt;/a&gt;
   &lt;/li&gt;
   &lt;li&gt;
      &lt;a href=&quot;http://www.lookatme.ru/flow/posts/film-radar/107311-avtorskoe-kino-v-rossii-otchet-za-desyatiletie&quot;&gt;Авторское кино в России: отчет за десятилетие&lt;/a&gt;
   &lt;/li&gt;
   &lt;li&gt;
      &lt;a href=&quot;http://www.lookatme.ru/mag/film/other_film/111357-30-filmov-zimy&quot;&gt;25 фильмов зимы&lt;/a&gt;
   &lt;/li&gt;
   &lt;li&gt;
      &lt;a href=&quot;http://www.lookatme.ru/flow/posts/photo-radar/114647-genialnost-prosta-v-izrecheniyah&quot;&gt;Гениальность проста в изречениях&lt;/a&gt;
   &lt;/li&gt;
   &lt;li&gt;
      &lt;a href=&quot;http://www.lookatme.ru/flow/posts/photo-radar/115273-365-dney-aleksa-stoddarda&quot;&gt;365 дней Алекса Стоддарда&lt;/a&gt;
   &lt;/li&gt;
   &lt;li&gt;
      &lt;a href=&quot;http://www.lookatme.ru/flow/posts/photo-radar/115637-po-staromu-novye-kadry-ot-stanko-abadic&quot;&gt;По старому новые кадры от Stanko Abadic&lt;/a&gt;
   &lt;/li&gt;
   &lt;li&gt;
      &lt;a href=&quot;http://www.lookatme.ru/flow/posts/photo-radar/115713-epic&quot;&gt;Epic&lt;/a&gt;
   &lt;/li&gt;
   &lt;li&gt;
      &lt;a href=&quot;http://www.lookatme.ru/flow/posts/photo-radar/115487-fotograf-pentti-sammallahti&quot;&gt;Фотограф: Пентти Саммаллахти&lt;/a&gt;
   &lt;/li&gt;
   &lt;li&gt;
      &lt;a href=&quot;http://www.lookatme.ru/mag/art-design/other_art/124589-chasti-tela-obnazhennye-zhenschiny-na-fotografiyah-90h-2000h-godov&quot;&gt;Части тела: Обнаженные женщины на фотографиях 1990-2000-х годов&lt;/a&gt;
   &lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Селектел – псевдо API</title>
   <link href="/selektel-psevdo-api/"/>
   <updated>2013-01-20T00:00:00+04:00</updated>
   <id>/selektel-psevdo-api</id>
   <content type="html">&lt;p&gt;У &lt;a href=&quot;http://selectel.ru&quot;&gt;Селектела&lt;/a&gt; нет API для управления виртуальными машинами. Однако, добрые люди спросили у саппорта, можно ли это сделать, и поделились с нами ответом: &lt;a href=&quot;http://dragonflybsd.blogspot.ru/2011/10/selectel-api.html&quot;&gt;selectel псевдо-API&lt;/a&gt;. Там в комментариях есть актуальный работающий способ:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# получаем sid сессии
$curl -s -o /dev/null --cookie-jar - 
--data &quot;action_method=GET&amp;amp;user=НОМЕР_ДОГОВОРА&amp;amp;pass=ПАРОЛЬ&quot; 
&quot;https://support.selectel.ru&quot; | grep sid
# включаем или выключаем машину
$curl -v -X POST --data &quot;uuid=ИДЕНТИФИКАТОР_МАШИНЫ&quot; 
&quot;https://support.selectel.ru/support_api/cloud/vm/stop?login=НОМЕР_ДОГОВОРА&amp;amp;sid=SID&quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Кроме &lt;code&gt;/cloud/vm/stop&lt;/code&gt; доступны действия: &lt;code&gt;cloud/vm/start&lt;/code&gt;, &lt;code&gt;cloud/vm/reboot&lt;/code&gt; и &lt;code&gt;cloud/vm/absolute-kill&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;UPD: Выложил &lt;a href=&quot;https://github.com/schmooser/selectel-simple-api&quot;&gt;репозиторий&lt;/a&gt; со скриптами для вышеописанного на ГитХаб.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Жизнь с IPv6</title>
   <link href="/ipv6/"/>
   <updated>2013-01-19T00:00:00+04:00</updated>
   <id>/ipv6</id>
   <content type="html">&lt;p&gt;Недавно &lt;a href=&quot;http://selectel.ru&quot;&gt;Селектел&lt;/a&gt; ввел плату за IPv4, что-то около 72
рублей в месяц. Не много, чтобы отказываться, но у меня есть одна выключенная
машина, жрущая за диски 1 рубль в день (30 рублей в месяц). Поэтому, я решил
отказаться от IPv4 для этой машины. Теперь у нее гордый длинный адрес IPv6.
Начал думать, что можно с ним сделать. Оказалось, что прописывать IP-адрес в DNS
надо через запись типа AAAA вместо записи типа A. Также, меня это удивило больше
всего, в адресе IPv6 не 6 байт, как я думал исходя из названия, а 16. Таким
образом это 32 шестнадцатеричных числа, при записи их объединяют в 8 групп по 4
числа. Подробнее в &lt;a href=&quot;http://ru.wikipedia.org/wiki/IPv6&quot;&gt;Википедии&lt;/a&gt;. Пинговать
сервер с адресом IPv6 надо командой &lt;code&gt;ping6&lt;/code&gt;, обычный &lt;code&gt;ping&lt;/code&gt; ее не понимает.  &lt;/p&gt;

&lt;p&gt;Чтобы посмотреть корректность определения адреса IPv6 в DNS надо использовать
следующий синтаксис nslookup:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$nslookup
&amp;gt;set q=all host
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Прописал IPv6 адрес машины в DNS, попробую поработать с ним, опишу позже здесь,
как все проходит.&lt;/p&gt;

&lt;p&gt;А происходит страшное. После миграции с Е2 на jekyll, машина, на которой
крутился старый блог стала мне не нужна и я постепенно забрал оттуда все
остальное, отключил у нее IPv4 и выключил ее.&lt;/p&gt;

&lt;p&gt;Сегодня я захотел пописать пост про Oracle, для этого мне нужен работающий
инстанс. Он как раз стоит на машине в Селектеле с IPv6. Включил ее, прописал в
DNS ее адрес, пытаюсь зайти – и не получается. Все утилиты говорят &lt;code&gt;no route to
host&lt;/code&gt; а &lt;code&gt;nslookup&lt;/code&gt; говорит, что такой опции &lt;code&gt;set q=all&lt;/code&gt; нет. В общем,
потыкавшись немного я пока решил забить на IPv6.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Прочитал</title>
   <link href="/prochital-2/"/>
   <updated>2013-01-03T00:00:00+04:00</updated>
   <id>/prochital-2</id>
   <content type="html">&lt;ul&gt;
  &lt;li&gt;Про &lt;a href=&quot;http://habrahabr.ru/post/164085/&quot;&gt;странное&lt;/a&gt; поведение MySQL. Примеры, конечно, тоже странные, и нет никакого объяснения почему у MySQL так странно ведет себя NULL — непонятно, это документированное поведение или баг. Особенно доставлет обсуждение, в котором комментаторы никак не могут определиться что есть NULL и начинают философствовать на эту тему. Вывод — использовать PostgreSQL, Хабр читать только по ссылкам из твиттера. &lt;/li&gt;
  &lt;li&gt;Про &lt;a href=&quot;http://tnp.com/posts/6051-5-glavnykh-filosofskikh-problem-sovremennosti-priroda-vospriyatiya-sushchnost-soznaniya-i-demokratiya&quot;&gt;современные проблемы философии&lt;/a&gt;. Странно, мне все эти проблемы кажутся решаемыми в рамках наук, а не философии. А все почему — у философии нет метода и предмета изучения. Поэтому для обычных людей название эпистемология, феноменология и линвистика заменяют на вездесущее “философия”. Пусть, если это так удобно. Но в рамках философии проблем не решается, потому что как только ставится проблема — исчезает философия и начинается наука. За исключением — книги философов, типа Канта и Гегеля, в которых, на мой взгляд, ставится истинно философская проблема и она начинается описываться с разных сторон без формализации однозначных выводов. &lt;/li&gt;
  &lt;li&gt;Об &lt;a href=&quot;http://amasci.com/miscon/energ1.html&quot;&gt;электричестве&lt;/a&gt;. Точнее — основные недопонимания относительно электричества. Очень интересно, ведь на бытовом уровне все думают что мы платим за штуку, которая течет по проводам (электричество). А на самом деле мы платим за электроэнергию (или за свет), который порождается электричеством в проводах. Откровением для меня стало, что переменный ток формируется электронами в проводах, которые колеблются около неподвижной точки. А порождаемая электросагнитная волна — именно волна с фазой, частотой и амплитудой. Я это всегда знал, но не укладывалось в голове как то. А теперь, на примере аналогии со звуком и воздухом, я это себе представляю. Надо еще почитать на эту тему &lt;a href=&quot;http://avva.livejournal.com/2513459.html&quot;&gt;у Аввы&lt;/a&gt; в ЖЖ. &lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Прочитал</title>
   <link href="/prochital-1/"/>
   <updated>2013-01-02T00:00:00+04:00</updated>
   <id>/prochital-1</id>
   <content type="html">&lt;p&gt;Я решил вести перечень прочитанных статей с кратким описанием прочитанного. Возможно, так я стану лучше для себя отбирать интересную информацию. Идея навеяна &lt;a href=&quot;http://addmeto.cc&quot;&gt;блогом Бобука&lt;/a&gt;.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://technet.microsoft.com/ru-ru/magazine/hh475812.aspx&quot;&gt;Майкрософт описывает&lt;/a&gt; эволюцию сортировки файлов в Проводнике Виндоус. Они упоротые, реально. Вместо того, чтобы сделать нормальный фйловый менеджер, они улучшают сортировку файлов. Все, кому файлы надо двигать часто и много работают с двухколоночными файл-менеджерами в стиле Norton Commander, а не с Проводником Виндоус.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://thenextweb.com/apps/2013/01/01/ie10-below-1-market-share-firefox-back-under-20-chrome-recovers-from-three-months-of-losses/&quot;&gt;Статистика&lt;/a&gt; по браузерам за прошлый год. Почему то я думал, что Хром вырвал первое место у ИЕ. Оказывается он аж на 3-м месте, позади Файрфокса.&lt;/li&gt;
  &lt;li&gt;Принцип работы &lt;a href=&quot;http://habrahabr.ru/company/yandex/blog/162955/&quot;&gt;Локатора&lt;/a&gt; от Яндекса. Крутая технология, мне очень нравится, когда недостаток данных компенсируют данными из других источников. &lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Считаем количество строк во всех таблицах в схеме</title>
   <link href="/counting-number-of-rows-in-all-schema-tables/"/>
   <updated>2012-12-29T00:00:00+04:00</updated>
   <id>/counting-number-of-rows-in-all-schema-tables</id>
   <content type="html">&lt;pre&gt;&lt;code&gt;DECLARE
  n NUMBER;
BEGIN
  FOR rec IN (SELECT owner,
                     table_name
                FROM all_tables WHERE owner = &#39;OWNER&#39;) -- replace OWNER with target schema
  LOOP
    EXECUTE IMMEDIATE &#39;begin
     select count(*) into :n from &#39;||
      rec.owner||&#39;.&#39;||rec.table_name||&#39;;
     end;&#39;
    USING OUT n;
    dbms_output.put_line(rec.owner||&#39;.&#39;||rec.table_name||&#39; - &#39;||n);
  END LOOP;
END;
/
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.github.com/schmooser/4409100&quot;&gt;gist&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Про твиттер</title>
   <link href="/twitter/"/>
   <updated>2012-12-22T00:00:00+04:00</updated>
   <id>/twitter</id>
   <content type="html">&lt;p&gt;Сюда я пишу достаточно редко, в &lt;a href=&quot;http://twitter.com/&quot;&gt;твиттер&lt;/a&gt; гораздо чаще. При этом страница твиттеровского профиля не есть место, в которое хочется смотреть – куча ответов другим людям и ретвитов. Опять же не все твиты важны. Хотелось бы иметь отдельную страницу с важными твитами.&lt;/p&gt;

&lt;p&gt;Твиттер обеспечивает возможность вставить твит на веб-страницу, получив embed code из веб-клиента. Выглядит это вот так:&lt;/p&gt;

&lt;blockquote class=&quot;twitter-tweet tw-align-center&quot; style=&quot;clear: none!important&quot;&gt;&lt;p&gt;Мы сходили на Хоббитса, об этом все должны знать.&lt;/p&gt;&amp;mdash; Pavel Popov (@schmooser) &lt;a href=&quot;https://twitter.com/schmooser/status/282439952330006528&quot; data-datetime=&quot;2012-12-22T10:58:26+00:00&quot;&gt;December 22, 2012&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async=&quot;&quot; src=&quot;//platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;

&lt;p&gt;В принципе подойдет. Осталось сделать так, чтобы такая страница формировалась автоматически. Идея – фаворитить свои твиты, которые хочется отправить на эту страницу, джоб его ловит (условие: автор – я), получает код, добавляет на страницу, расфоворичивает твит.&lt;/p&gt;

&lt;p&gt;Попробую сделать через &lt;a href=&quot;http://ifttt.com&quot;&gt;IFFT&lt;/a&gt;, если не получится, придется пописать код.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Холодный бэкап Oracle с помощью RMAN</title>
   <link href="/oracle-cold-backup-using-rman/"/>
   <updated>2012-12-21T00:00:00+04:00</updated>
   <id>/oracle-cold-backup-using-rman</id>
   <content type="html">&lt;p&gt;Чтобы осуществить холодный бэкап Oracle с помощью RMAN надо сделать:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$sqlplus / as sysdba
SQL&amp;gt; SHUTDOWN IMMEDIATE
SQL&amp;gt; STARTUP MOUNT
SQL&amp;gt; exit
$rman target /
RMAN&amp;gt; BACKUP AS COMPRESSED BACKUPSET DATABASE PLUS ARCHIVELOG;
RMAN&amp;gt; BACKUP CURRENT CONTROLFILE;
RMAN&amp;gt; LIST BACKUP;
RMAN&amp;gt; exit
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Некоторые полезные ссылки:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://docs.oracle.com/cd/B19306_01/backup.102/b14192/bkup003.htm&quot;&gt;Раздел документации&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://oracleendeavor.blogspot.ru/2010/03/rman-compressed-backups.html&quot;&gt;Oracle Endeavor&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.adp-gmbh.ch/ora/admin/backup_recovery/coldbackup_sh.html&quot;&gt;Rene Nyffenegger&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://rupamverma.blogspot.ru/2011/04/rman-commands-quick-reference-guide.html&quot;&gt;Rupam Verma&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Больше полезного у меня &lt;a href=&quot;https://pinboard.in/u:schmooser/t:rman/&quot;&gt;в пинборде&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>oraddl</title>
   <link href="/oraddl/"/>
   <updated>2012-12-19T00:00:00+04:00</updated>
   <id>/oraddl</id>
   <content type="html">&lt;p&gt;Выложил на Битбакет маленький проект, &lt;a href=&quot;https://bitbucket.org/schmooser/oraddl&quot;&gt;oraddl&lt;/a&gt;, позволяющий пообъектно выгружать схему из Oracle Database в файлы c DDL объектов. Далее объекты выкладываются в git. Таким образом можно легко обеспечить прогон кода через систему контроля версий.&lt;/p&gt;

&lt;p&gt;Написано все на питоне и pl/sql, поэтому нужен питон и модуль присоединения питона к ораклу.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>iTunes Store</title>
   <link href="/itunes-store/"/>
   <updated>2012-12-14T00:00:00+04:00</updated>
   <id>/itunes-store</id>
   <content type="html">&lt;p&gt;Наконец открылся российский iTunes Store. Теперь можно нормально купить музыку, и не заморачивать с Яндекс.Музыкой, поиском музыки на трекерах, выборе варианта альбома, поиска обложки, простановке правильных тегов, складированию музыки в одном месте по заданному шаблону. Теперь можно купить альбом по цене в 89-149 рублей в один клик и слушать. Причем, можно найти отличные предложения, например 100 лучших джазовых треков за 99 рублей или сет “Frank and Back to Black” от Эми Вайнхауз (4 CD) за 300 рублей. Неудивительно, что в десятку самых продаваемых альбомов в русском iTunes Store за первые недели существования вошел сборник “The Best of Depeche Mode, Vol. 1” – 79 рублей за 25 песен, из которых 18 – лучшие синглы, это Big Deal, как говорят.&lt;/p&gt;

&lt;p&gt;Пару дней назад в обед произошла ошибка и был доступен набор из всех remastered альбомов Pink Floyd за 139 рублей. Когда я, придя вечером домой, зашел срочно покупать его, цену уже исправили на 1990 рублей. Я не большой любитель Pink Floyd, так что покупать не стал, а вот за 139 рублей купил бы незадумываясь.&lt;/p&gt;

&lt;p&gt;Выделю себе бюджет, скажем в 300 рублей в месяц на музыку и буду покупать мои любимые альбомы. Список заведу в отдельном посте, будет музыкальный вишлист.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Демагогия</title>
   <link href="/demagogiya/"/>
   <updated>2012-12-14T00:00:00+04:00</updated>
   <id>/demagogiya</id>
   <content type="html">&lt;p&gt;Сегодня по пути с обеда возник спор с коллегами. Начиналось все как обычно, на этот раз тема была – искусство при тоталитарном режиме. Закончилось все тем, что мы с коллегой, назовем его АК, начали рассматривать субъективные и объективные объекты. Я пытался ему доказать, что есть некие объективные вещи, которые не зависят от человека, их наблюдающего. Например, факт что 2*2=4. АК был не согласен, и сослался, что это недоказываемое утверждение. На предложение сосчитать на пальцах, довод был – все равно это субъективное мнение, и он может думать совершенно по-другому. При вопросе – существует ли что-нибудь объективное вообще, ответ был, что нет. Странно очень, конечно, спорить с таким подходом практически невозможно, ибо все сводится к демагогии, что ничего нет, и что все есть порождение человеческого духа. В общем, любимая АК философия. Меня все это так задело, что люди могут в своей упертости доходить до такого абсурда, ссылаясь на “теории” различных философов, что мы продолжили по приходу на работу, но уже в более предметной манере.&lt;/p&gt;

&lt;p&gt;По результатам наших споров АК, разумеется, не поменял своей точки зрения и ничего не выяснил из того, что я ему говорил. Все его доводы сводились к тому, что он ищет ответа на метафизические вопросы, конкретно, на вопрос о смысле жизни. Я подобные вопросы решил для себя на 4-м курсе университета во время долгих ночных разговоров с коллегами-научными сотрудниками в поезде, когда мы ехали на конференцию по физике нелинейных сред.&lt;/p&gt;

&lt;p&gt;Одно из моих решений – не думать над метафизическими вопросами, наподобие “В чем смысл жизни?”, “Что есть причиной истины?” и подобных, всякий ответ на которые возможен лишь в рамках некой &lt;em&gt;ненаучной&lt;/em&gt; теории.&lt;/p&gt;

&lt;p&gt;Вот тут тоже у нас возник спор, по поводу того, что АК заявлял мне, что есть такие теории, где 2*2!=4. Я ему противопоставлял факт, что подобные теории могут конечно существовать, но они не являются научными. АК не унимался, заявляя что понятие науки не определено. По приходу на работу я доказал ему обратное, банально по ссылке в Википедии на статью “Наука”. Да, Википедия не является достоверным источникам, но в данном случае речь ведется о статьях, обладающих энциклопедическими знаниями, поэтому в данном случае Википедии можно доверять.&lt;/p&gt;

&lt;p&gt;Итак, опуская промежуточные выкладки, привожу результаты:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Философия не является наукой, а является “дисциплиной”. Метафизика является разделом философии. Литература, которую АК тоже хотел записать в науки, тоже не является наукой.&lt;/li&gt;
  &lt;li&gt;Для науки необходимо наличие принципа демаркации, т.е. условия отличить научное знание от ненаучного знания. Точные науки используют в качестве принципа демаркации критерий фальсифицируемости – теория научна, если допускает проведение эксперимента, который докажет, что теория неверна.&lt;/li&gt;
  &lt;li&gt;Есть науки точные, или естественные – математика, физика, химия, биология; и гуманитарные – история, обществознание, политология. Гуманитарные изучают исключительно продукт жизнедеятельности общества и являются субъективными науками. Т.е. для них субъективное важнее объективного. Лично мне они не интересны.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;И главный вывод – спорить с человеком, который использует аргументы из ненаучных теорий бесполезно.&lt;/p&gt;

&lt;p&gt;На последок – отличный рассказ Василия Шушкина на эту тему – &lt;a href=&quot;www.lib.ru/SHUKSHIN/srezal.txt&quot;&gt;Срезал&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Installing cx_Oracle on CentOS 5.8</title>
   <link href="/installing-cx-oracle-on-centos-58/"/>
   <updated>2012-12-01T00:00:00+04:00</updated>
   <id>/installing-cx-oracle-on-centos-58</id>
   <content type="html">&lt;p&gt;In this post I’ll cover an installation of &lt;code&gt;cx_Oracle&lt;/code&gt; module, which is the Python module for accessing Oracle Database, on CentOS 5.8. 
Check for Python version:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    $python -V
    Python 2.4.3
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Go to &lt;a href=&quot;http://cx-oracle.sourceforge.net&quot;&gt;cx_Oracle’s web site&lt;/a&gt; and download rpm-package you have to use. I downloaded package for Oracle 11g, Python 2.4.&lt;/p&gt;

&lt;p&gt;Install package with:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    $sudo rpm -ivh cx_Oracle-5.1.2-10g-py24-1.x86_64.rpm
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Try to run Python and type:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    $python
    Python 2.4.3 (#1, Jun 18 2012, 08:55:23) 
    [GCC 4.1.2 20080704 (Red Hat 4.1.2-52)] on linux2
    Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
    &amp;gt;&amp;gt;&amp;gt;import cx_Oracle
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If there is no errors then you have &lt;code&gt;cx_Oracle&lt;/code&gt; successfully installed. I had an error:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    &amp;gt;&amp;gt;&amp;gt; import cx_Oracle
    Traceback (most recent call last):
      File &quot;&amp;lt;stdin&amp;gt;&quot;, line 1, in ?
    ImportError: libclntsh.so.10.1: cannot open shared object file: No such file or directory
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;May be, that’s because I have Oracle 11g installed, but downloaded cx_Oracle for Oracle 10g. Well, let’s uninstall previously installed rpm package. Firstly, find a package name with:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    $rpm -qa | grep -i oracle
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then uninstall it: &lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    $sudo rpm -e cx_Oracle-5.1.2-1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;After installing proper package, error still exists. Where to find this library? Google it. I found, that all I have to do is add this line to &lt;code&gt;.bashrc&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    LD_LIBRARY_PATH=$ORACLE_HOME/lib:/lib:/usr/lib; export LD_LIBRARY_PATH
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now cx_Oracle works!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Цитата из Пелевина (S.N.U.F.F.)</title>
   <link href="/quote-from-pelevins-snuff/"/>
   <updated>2012-11-25T00:00:00+04:00</updated>
   <id>/quote-from-pelevins-snuff</id>
   <content type="html">&lt;blockquote&gt;
  &lt;p&gt;Но вот что значит быть «русским»?&lt;br /&gt;
Никакой специализации, связанной с этим, нет.&lt;br /&gt;
Похоже, это так же непонятно сегодня, как семьсот лет назад.&lt;br /&gt;
Что это значило тогда, если верить экранным словарям?&lt;br /&gt;
Ездить на немецком автомобиле, смотреть азиатское порно, расплачиваться американскими деньгами, верить в еврейского бога, цитировать французских дискурсмонгеров, гордо дистанцироваться от «воров во власти» – и все время стараться что‑нибудь украсть, хотя бы в цифровом виде. Словом, сердце мира и универсальный синтез всех культур.&lt;br /&gt;
Наша старинная русская традиция как раз и строилась вокруг того, что не имела ничего своего, кроме языка, на котором происходило осмысление этого «ничего». Чем‑то похожим занимались евреи, но они назвали свою пустоту Богом и сумели выгодно продать ее народам поглупее. А мы?&lt;br /&gt;
Мы пытались продать человечеству отсутствие Бога. С метафизической точки зрения такое гораздо круче, и поначалу даже неплохо получилось – поэтому наши народы когда‑то и считались мистическими соперниками. Но если на Боге можно поставить национальный штамп, то как поставить его на том, чего нет? Вот отсюда и древний цивилизационный кризис моих предков, проблемы с самоидентификацией и заниженная самооценка, постоянно приводившая к засилью церковно‑бюрократического мракобесия и анальной тирании.  &lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;em&gt;В. Пелевин, S.N.U.F.F.&lt;/em&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Про вселенную</title>
   <link href="/about-universe/"/>
   <updated>2012-11-06T00:00:00+04:00</updated>
   <id>/about-universe</id>
   <content type="html">&lt;p&gt;Отличная лекция Лоуренца Краусса по физике про вселенную, откуда я набрал много цитат для себя. Например, эти:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The empty space is responsible for 90% of your mass.&lt;/li&gt;
  &lt;li&gt;So forget Jesus! It’s the stars died to you could be here today.&lt;/li&gt;
&lt;/ul&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;http://www.youtube.com/embed/4TUgyX3VXUg&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;Под конец у лектора так забавно съехал воротник рубашки на одну сторону и меня это отвлекало. Также, я уловил знакомые нотки с эппловских конференций. Физика становится частью шоу, где слова эмэйзинг, осом и аутстэндинг произносятся с завидной регулярностью.&lt;/p&gt;

&lt;p&gt;Надо будет почитать книгу Лоуренца “Вселенная из ничего”. Ожидаю, что она будет очень похожа на “Краткую историю времени” Хоукинга и “&lt;a href=&quot;http://www.goodreads.com/book/show/13203182&quot;&gt;Краткую историю всего на свете&lt;/a&gt;” Брайсона, которые я с удовольствием прочитал.&lt;/p&gt;

&lt;p&gt;Первоначально ссылку на эту лекции увидел у &lt;a href=&quot;http://freetonik.com&quot;&gt;Рахима&lt;/a&gt;, он выложил авторскую озвучку на русском языке. Я решил посмотреть в оригинале, с субтитрами. После пары минут я понял, что субтитры мне только мешают, и я или читаю русский текст или слушаю английскую речь. Отключил субтитры, стало гораздо лучше. Я понимаю уже 95% английской речи на вот таких вот лекциях. Это хорошо, осталось научиться говорить, но для этого нужна практика.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Про GitHub и BitBucket</title>
   <link href="/github-and-bitbucket/"/>
   <updated>2012-10-22T00:00:00+04:00</updated>
   <id>/github-and-bitbucket</id>
   <content type="html">&lt;p&gt;Все любят &lt;a href=&quot;http://github.com&quot;&gt;ГитХаб&lt;/a&gt;. А мне больше нравится
&lt;a href=&quot;http://bitbucket.org&quot;&gt;БитБакет&lt;/a&gt;. У них разные модели монетизации — в ГитХабе
надо платить за количество приватных репозиториев, а количество пользователей
при этом не ограничевается; у БитБакета же платить надо за количество
пользователей, а количество репозиториев не ограничено. Таким образом, если вам
нужна социальность и/или вы делаете проект с открытым исходным кодом — идите на
ГитХаб. Если вы хотите положить свои проекты в облако, при этом хотите
приватные репозитории – на БитБакет.&lt;/p&gt;

&lt;p&gt;Нашел еще одну удобную фичу у БитБакета – графическое сравнение разных версий
svg файлов. Можно даже посмотреть в режиме изменения прозрачности, как менялся
svg-файл от ревизии к ревизии.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Добавляем сайт в Apache 2 на Ubuntu</title>
   <link href="/add-website-to-apache-2-on-ubuntu/"/>
   <updated>2012-10-22T00:00:00+04:00</updated>
   <id>/add-website-to-apache-2-on-ubuntu</id>
   <content type="html">&lt;p&gt;Мне потребовалось повесить рядом с этим сайтом на том же сервере еще один проект. Он тоже работает в стеке LAMP, поэтому я повесил его на соседний порт. &lt;/p&gt;

&lt;p&gt;Чтобы это сделать, добавляем виртуальный сайт в apache2 — конфигурационный файл кладем в &lt;code&gt;/etc/apache2/sites-available/&lt;/code&gt;, затем добавляем в &lt;code&gt;/etc/apache2/ports.conf&lt;/code&gt; инструкцию, чтобы apache слушал желаемый порт (Listen 1234), и перегружаем apache — &lt;code&gt;/etc/init.d/apache2 reload&lt;/code&gt;. &lt;/p&gt;

&lt;p&gt;UPD: Полезные команды по работе с apache2 на Ubuntu:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# enable site
sudo a2ensite

# disable site
sudo a2dissite

# enable an apache2 module
sudo a2enmod

# disable an apache2 module
sudo a2dismod

# force reload the server:
sudo  /etc/init.d/apache2 force-reload
&lt;/code&gt;&lt;/pre&gt;

</content>
 </entry>
 
 <entry>
   <title>Карта моих путешествий</title>
   <link href="/travel-map/"/>
   <updated>2012-10-03T00:00:00+04:00</updated>
   <id>/travel-map</id>
   <content type="html">&lt;p&gt;С помощью сервиса &lt;a href=&quot;http://tripster.ru&quot;&gt;Трипстер&lt;/a&gt; можно составить карту путешествий. &lt;/p&gt;

&lt;p&gt;Моя, например, выглядит так:&lt;/p&gt;

&lt;div align=&quot;center&quot; style=&quot;width: 510px&quot;&gt;
&lt;object width=&quot;510&quot; height=&quot;380&quot;&gt;
&lt;param name=&quot;wmode&quot; value=&quot;window&quot; /&gt;
&lt;param name=&quot;allowScriptAccess&quot; value=&quot;always&quot; /&gt;
&lt;param name=&quot;movie&quot; value=&quot;http://tripster.ru/static/widget/tripster.swf?username=schmooser&quot; /&gt;
&lt;embed src=&quot;http://tripster.ru/static/widget/tripster.swf?username=schmooser&quot; type=&quot;application/x-shockwave-flash&quot; allowscriptaccess=&quot;always&quot; name=&quot;tripster&quot; width=&quot;510&quot; height=&quot;380&quot; /&gt;
&lt;/object&gt;&lt;/div&gt;

</content>
 </entry>
 
 <entry>
   <title>Custering factor</title>
   <link href="/custering-factor/"/>
   <updated>2012-09-29T00:00:00+04:00</updated>
   <id>/custering-factor</id>
   <content type="html">&lt;p&gt;Clustering factor — характеристика индекса. Если он мал, тогда два соседних
листовых блока будут ссылаться на два соседних блока к таблице. Чем больше
фактор кластеризации, тем сильнее блоки исходной таблицы раскиданы по диску, а
значит скорость чтения из них будет заметно ниже.&lt;/p&gt;

&lt;p&gt;Это к тому, что для оптимизации производительности важна не только логическая
организация данных (наличие индексов и ключей), но и физическое расположение
данных на диске.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>SQL*NET more data to client</title>
   <link href="/sql-net-more-data-to-client/"/>
   <updated>2012-09-14T00:00:00+04:00</updated>
   <id>/sql-net-more-data-to-client</id>
   <content type="html">&lt;blockquote&gt;
  &lt;p&gt;SQL*NET more data to client means your data doesn’t fit in one sqlnet packet. The default packet size is 2k. You can adjust this by setting the SDU on listener and client tnsnames.ora. The SDU needs to be a multiple of the network card MTU, usually 1500 bytes.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;em&gt;Sybrand Bakker, Senior Oracle DBA&lt;/em&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Полезные ссылки для новичков в OS X</title>
   <link href="/poleznye-ssylki-dlya-novichkov-v-os-x/"/>
   <updated>2012-09-14T00:00:00+04:00</updated>
   <id>/poleznye-ssylki-dlya-novichkov-v-os-x</id>
   <content type="html">&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://gizmodo.com/198888/apple-os-xs-built-in-dictionary?tag=gadgetssoftware&quot;&gt;Apple OS X’s Built in Dictionary&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://rutracker.org/forum/viewtopic.php?t=601894&quot;&gt;Словари для Dictionary.app&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.macupdate.com/app/mac/23370/shades/&quot;&gt;Shade.app – приложение, контролирующее яркость экрана&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Из меню сверху можно выкинуть любую иконку, достаточно потянуть ее вниз с зажатой клавишей ⌘&lt;/li&gt;
  &lt;li&gt;В терминале (mc) эмулировать нажатие клавиши Insert можно с помощью Ctrl+T&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Буду, по мере нахождения новых плюшек, обновлять этот список.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Настройка поиска I'm feeling Lucky через Omnibar в Google Chrome</title>
   <link href="/nastroyka-poiska-im-feeling-lucky-cherez-omnibar-v-google-chrome/"/>
   <updated>2012-09-14T00:00:00+04:00</updated>
   <id>/nastroyka-poiska-im-feeling-lucky-cherez-omnibar-v-google-chrome</id>
   <content type="html">&lt;p&gt;Чтобы это сделать, надо создать новый поисковый сервис (Меню → Параметры → Управление поисковыми системами), добавить новый поисковый сервис с параметрами:&lt;/p&gt;

&lt;p&gt;Имя: Любое, у меня I’m feeling Lucky&lt;br /&gt;
Метка: Любое ключевое слово, у меня lucky&lt;br /&gt;
Строка поиска: &lt;code&gt;http://www.google.com/search?source=ig&amp;amp;hl=en&amp;amp;rlz=1G1GGLQ_ENUS264&amp;amp;q=%s&amp;amp;btnI=I%27m+Feeling+Lucky&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Сохранить. Теперь, набрав в Omnibarе текст lucky и нажав Tab переключаетесь в режим поиска и введя запрос сразу попадаете на первый результат в поиске гугла.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Стивен Кинг – 11/22/63</title>
   <link href="/stephen-king-11-22-63/"/>
   <updated>2012-09-12T00:00:00+04:00</updated>
   <id>/stephen-king-11-22-63</id>
   <content type="html">&lt;p&gt;Дочитал этот огромный роман Стивена Кинга, про путешествие во времени с целью
предотвратить убийство Кеннеди в 63-м.&lt;/p&gt;

&lt;p&gt;Мне роман скорее не понравился.&lt;/p&gt;

&lt;p&gt;Примерно до середины книги я читал внимательно, там как раз описывались первые
шаги путешественника во времени, а мне эта тематика всегда нравилась. Затем,
начиная с главы “Living in the Past” началась откровенная мутотень с историей
любви, постановками школьных спектаклей и прочей неинтересной ерундой. Очень
много разговоров про Марину и Харви Освальдов, которые мне совсем не интересны
(не тема, а то, как они описаны).&lt;/p&gt;

&lt;p&gt;Под конец я уже просто пролистывал неинтересные мне части, остановившись на
моменте откровений главного героя с его возлюбленной о будущем (которых было
очень мало), на покушении и, ради чего все затевалось, на триумфальном
возвращении.&lt;/p&gt;

&lt;p&gt;Поспойлерю.&lt;/p&gt;

&lt;p&gt;Кинг, к сожалению, с его тяготением к параллельным мирам решил связать
вмешательство в историю человечества с вмешательством в состояние всего мира.
В результате, сама природа в буквальном смысле начинает противиться и возникают
различные природные катаклизмы. Понятно, что Кинг оставил лазейку вернуть все
назад, что главный герой и делает под занавес романа.&lt;/p&gt;

&lt;p&gt;3/5 только из любви к Кингу.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Всякая всячина</title>
   <link href="/vsyakaya-vsyachina/"/>
   <updated>2012-08-26T00:00:00+04:00</updated>
   <id>/vsyakaya-vsyachina</id>
   <content type="html">&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Из терминала можно узнать внешний IP командой &lt;/p&gt;

    &lt;p&gt;&lt;code&gt;curl -s http://checkip.dyndns.org | sed &#39;s/[a-zA-Z/&amp;lt;&amp;gt; :]//g&#39;&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;В iTerm2 удобно перемещаться между окнами по Cmd+Alt+стрелка&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Чтобы скопировать вывод в системный клипбоард, можно пайпнуть его в
&lt;code&gt;pbcopy&lt;/code&gt;: &lt;/p&gt;

    &lt;p&gt;&lt;code&gt;echo &#39;asdf&#39; | pbcopy&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

</content>
 </entry>
 
 <entry>
   <title>Мимолетом</title>
   <link href="/mimoletom/"/>
   <updated>2012-08-19T00:00:00+04:00</updated>
   <id>/mimoletom</id>
   <content type="html">&lt;ol&gt;
  &lt;li&gt;Настроил на маке смену раскладки по Caps Lock’у. Как – описано подробно &lt;a href=&quot;http://d43.me/blog/593/select-input-language-by-caps-lock-in-mac-os-x/&quot;&gt;тут&lt;/a&gt;. Не работает лед-индикатор при нажатии, ну и фиг с ним. Я все равно не смотрю на клавиатуру никогда.&lt;/li&gt;
  &lt;li&gt;Сделал меню-бар в макоси полностью монохромным. Теперь единственное цветное пятно на нем – флаг с текущей раскладкой клавиатуры. Думаю, может отрубить его совсем? Ну, или с помощью программы Ukelele сделать свою раскладку с монохрномными флагами? Пока отрублю.&lt;/li&gt;
  &lt;li&gt;Установил на маке файрбёрд. После установки не нашел ни его процессов, ни бинарников, ничего. Решил снести. Это оказалось тоже тем еще квестом, который вывел меня на &lt;a href=&quot;http://paulbeachsblog.blogspot.com/2008/02/firebird-and-macosx-uninstalls.html&quot;&gt;самописный скрипт&lt;/a&gt; одного товарища. Запустил, вроде удалило что-то. Ну и фиг с ним.&lt;/li&gt;
  &lt;li&gt;На маке Delete=fn+Backspace&lt;/li&gt;
&lt;/ol&gt;
</content>
 </entry>
 
 <entry>
   <title>Проблемы у Селектела</title>
   <link href="/problemyi-u-selektela/"/>
   <updated>2012-08-18T00:00:00+04:00</updated>
   <id>/problemyi-u-selektela</id>
   <content type="html">&lt;p&gt;Данный блог крутится на виртуальной машине, хостящейся в облаке у Селектела. Вчера у них случилась какая-то авария и даже после того, как они заявили, что решили проблемы машина отказывалась подниматься. То есть, машина запущена, все хорошо, а пинга до нее нет. При &lt;code&gt;traceroute&lt;/code&gt; доходит до obit.ru, после чего request timeout.&lt;/p&gt;

&lt;p&gt;Пришлось жестко выключить машину (простой старт/стоп сваливался с результатом “неуспешно”). После включения ничего не изменилось – машина работает, но пинга к ней нет (и ssh, соответственно тоже). Залогинился из под рута через веб-консоль с сайта Селектела. &lt;code&gt;ifconfig -a&lt;/code&gt; говорит, что у &lt;code&gt;eth0&lt;/code&gt; нет IP-адреса. Попробовал &lt;code&gt;ifconfig eth0 down&lt;/code&gt;, &lt;code&gt;ifconfig eth0 up&lt;/code&gt; – не помогло. Вспомнил, что техподдержка в тикете писала, что может потребоваться проверка файловой системы (командой &lt;code&gt;fsck&lt;/code&gt;). Выполнил, нашлось несколько ошибок в ФС. Исправил, ребутнул – все поднялось.&lt;/p&gt;

&lt;p&gt;Параллельно нашел очень годный &lt;a href=&quot;http://www.aboutdebian.com/network.htm&quot;&gt;мануал&lt;/a&gt; по устройству TCP/IP стека на сайте про Дебиан.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Краткая хроника прошедших недель</title>
   <link href="/kratkaya-hronika-proshedshih-nedel/"/>
   <updated>2012-08-18T00:00:00+04:00</updated>
   <id>/kratkaya-hronika-proshedshih-nedel</id>
   <content type="html">&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Купили тур в Испанию, с 1 по 11 сентября, в Бланез. Трешка, фортуна, HB. Хотим взять машинку на прокат на три-четыре дня и прокатиться по Испании. Надеюсь, с визой проблем не будет.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Купили авиабилеты Москва-Мюнхен, Вена-Москва на ноябрь. Будет блиц-поездка по Германии-Австрии, пиво попить, на европы посмотреть. Опять же, если визу в Испанию дадут, а если дадут, то на полгода, то эта проблема отпадает.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;В Дьябле дошел до Инферно и бросил, уж очень тяжело.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;На работе переехали из одной зоны в другую. Теперь вместо кабинета сижу в опенспейсе. Все хорошо, новый ремонт, большое рабочее пространство. Одно разражает – сидящие в соседнем “купе” дамочки могут часами трындеть за жизнь. Мешает работать, поэтому я втыкаю наушники в уши и слушаю музыку. Об этом пятый пункт.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Скачал всего Колтрейна. Отлично, балдею.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Сходили на римейк “Вспомнить все”. Фильм одноразовый, но решил прочитать рассказ Филлипа Дика, по мотивам которого сняты оба фильма.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;
</content>
 </entry>
 
 <entry>
   <title>Linux, мать его</title>
   <link href="/linux-mat'-ego/"/>
   <updated>2012-08-04T00:00:00+04:00</updated>
   <id>/linux-mat'-ego</id>
   <content type="html">&lt;p&gt;Все применения модификации пользователя (добавление в группу, исключение из
группы, задание основной группы) произойдет только после перелогина
пользователя.&lt;/p&gt;

&lt;p&gt;WTF???&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Вставляем текст в VIM (в терминал)</title>
   <link href="/inserting-text-into-vim-in-terminal/"/>
   <updated>2012-08-04T00:00:00+04:00</updated>
   <id>/inserting-text-into-vim-in-terminal</id>
   <content type="html">&lt;p&gt;При вставке текста в терминал с вимом, постоянно съезжает форматирование. Чтобы избежать этого, нужно виму явно сказать, что мы начинаем вставлять текст. Делается это с помощью команды &lt;code&gt;:set paste&lt;/code&gt;. После вставки из данного режима можно выйти, сказав &lt;code&gt;:set nopaste&lt;/code&gt;. Удобно всю последовательность действий забиндить на какую-нибудь клавишу. Как это сделать описано в статье, откуда я почерпнул эту идею – &lt;a href=&quot;http://www.userobsessed.net/tips-and-tricks/2011/05/10/copy-and-paste-in-vim/#fnref:1&quot;&gt;Pasting in terminal Vim&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Альтернативный поисковой движок по-умолчанию в Safari 6</title>
   <link href="/alternativnyij-poiskovoj-dvizhok-po-umolchaniyu-v-safari-6/"/>
   <updated>2012-08-03T00:00:00+04:00</updated>
   <id>/alternativnyij-poiskovoj-dvizhok-po-umolchaniyu-v-safari-6</id>
   <content type="html">&lt;p&gt;Всем хорош 6-й Сафари, кроме разве что отсутствия штатной возможности выбрать не предустановленный поисковой движок (Гугл, Бинг, Яху). В связи с тотальным контролем за всем и вся от Гугла, я стараюсь перейти на &lt;a href=&quot;http://duckduckgo.com&quot;&gt;Duckduckgo&lt;/a&gt;. Мне понравился &lt;a href=&quot;http://hints.macworld.com/article.php?story=20030514035516436&quot;&gt;вариант с правкой бинарника&lt;/a&gt;, но он для 6-го Сафари не подходит – нет там в явном виде строк &lt;code&gt;#google#&lt;/code&gt;, &lt;code&gt;#bing#&lt;/code&gt;, &lt;code&gt;#yahoo#&lt;/code&gt;. После поисков в интернете, о том, как же изменить дефолтный поисковик на нужный мне, ответ пришел непосредственно с сайта Duckduckgo – надо установить плагин &lt;a href=&quot;http://safarikeywordsearch.aurlien.net/&quot;&gt;Safari Keyword Search 2.0&lt;/a&gt; , и выбрать Duckduckgo.&lt;/p&gt;

&lt;p&gt;Подробности можно почитать здесь – &lt;a href=&quot;http://therealsteventeskey.com/2012/07/26/duckduckgo-in-safari-6-0-s-omnibar/&quot;&gt;DuckDuckGo in Safari 6.0’s Omnibar&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;P.S.: в очередной раз, после чтения блога по ссылке выше, возникло желание перевести блог на Джекил (статический движок блога на руби).&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Елена</title>
   <link href="/elena/"/>
   <updated>2012-07-10T00:00:00+04:00</updated>
   <id>/elena</id>
   <content type="html">&lt;p&gt;Посмотрели с Надей третий фильм Андрея Звягинцева – “Елена”. От “Изгнания”, так поразившего меня, отличается сильно. Рассказывается достаточно банальная история, происходящая рядом, от того и погружение в ситуацию более полное, чем в “Изгнании”. Одновременно с этим, “Елена” – более понятный фильм. Проблемы, поднимаемые в фильме – отцы и дети, богатые и бедные, элита и чернь – мне они более понятны, чем проблемы “Изгнания”. Что меня поразило – в фильме нет ни одного положительного героя. Все они люди, у каждого есть недостаток. От этого фильм, вроде кончившийся хорошо, оставил горькое ощущение. Последние полчаса фильма я ждал, что что-то страшное должно произойти. Но, не произошло. Как в жизни, надеюсь.&lt;/p&gt;

&lt;p&gt;И да, материнская любовь слепа.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Windows раскладка клавиатуры для Mac OS X</title>
   <link href="/windows-raskladka-klaviatury-dlya-mac-os-x/"/>
   <updated>2012-07-09T00:00:00+04:00</updated>
   <id>/windows-raskladka-klaviatury-dlya-mac-os-x</id>
   <content type="html">&lt;p&gt;Копия &lt;a href=&quot;http://dmitro.name/archives/128&quot;&gt;поста&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Для включения виндовой раскладки клавиатуры в MacOS X (чтобы в русской раскладке точка и запятая были на привычных местах) достаточно взять вот этот файлик – &lt;a href=&quot;http://dmitro.name/wp-content/uploads//2008/12/russianwinrsrc.zip&quot;&gt;russianwin.rsrc&lt;/a&gt; – и положить его в &lt;code&gt;Library/Keyboard Layouts&lt;/code&gt;. После чего в списке доступных раскладок появится “Russian PС”. Выбираем нужную раскладку, назначаем сочетание клавиш и радуемся привычному расположению.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Пароли</title>
   <link href="/passwords/"/>
   <updated>2012-07-09T00:00:00+04:00</updated>
   <id>/passwords</id>
   <content type="html">&lt;p&gt;В связи с тотальным желанием каждого сайта сделать для меня профиль, а на всех сервисах иметь один и тот же пароль небезопасно, уже давненько я пользуюсь замечательным сервисом &lt;a href=&quot;http://supergenpass.com&quot;&gt;SuperGenPass&lt;/a&gt;. Он на основе мастер-пароля и адреса сайта генерирует пароль.&lt;/p&gt;

&lt;p&gt;Раньше у меня для всех сайтов был один мастер-пароль, теперь я решил для каждого сайта сделать свой мастер-пароль.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Мак Мини</title>
   <link href="/mac-mini/"/>
   <updated>2012-07-09T00:00:00+04:00</updated>
   <id>/mac-mini</id>
   <content type="html">&lt;p&gt;Купил у знакомого Мак Мини 2010-го года, 2.4 ГГц Core 2 Duo, 8 Гб оперативки.&lt;/p&gt;

&lt;p&gt;Обновился сразу до 10.6.8. Осваиваю.&lt;/p&gt;

&lt;p&gt;В конце июля выйдет Mountain Lion, думаю прикупить за 20 баксов. &lt;/p&gt;

&lt;p&gt;Проблемы при переезде с Windows:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Раскладка клавиатуры. Командные клавиши по-другому расположены.&lt;/li&gt;
  &lt;li&gt;Мышка. Это ад :-( Она очень неудобная, попадать на кнопки очень тяжело. 
Думаю, именно поэтому у эппла такие офигительные точпады, потому что
мышка у них отвратительная. Уменьшил скорость передвижения, 
вроде получше стало, но не сильно.&lt;/li&gt;
  &lt;li&gt;Не работают Shift+Insert, Ctrl+Insert для копипэйта. &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;UPD: не дождался официального выхода Mountain Lion, скачал GM версию и поставил. 
Полет отличный. Купил синезубую клавиатуру и мэджик трекпад, играюсь. 
Проблема мышки сама собой решилась наличием трекпада. Единственный пока минус
клавиатуры – в русской раскладке точка и запятая находятся в верхнем регистре
на цифровых клавишах 6 и 7, что очень неудобно. Ну да ладно – привыкну.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Informatica Power Center. Часть 1. Описание системы и ее логических составляющих</title>
   <link href="/informatica-power-center-part-1/"/>
   <updated>2012-06-30T00:00:00+04:00</updated>
   <id>/informatica-power-center-part-1</id>
   <content type="html">&lt;p&gt;Informatica Power Center — отличное ETL-средство, предназначенное для быстрого ETL гетерогенных сред. Очень простое (малый порог вхождения) и быстрое, с большим функционалом, поддерживающее все промышленные СУБД. Основное применение находит в банковских системах. В банке, где я работаю, на IPC строится уже 3-я версия корпоративного DWH. Причем, что меня особенно удивило, на IPC-же реализуется бизнес-логика. Оно, наверное и понятно, т.к. всем кажется, что таскать стрелочки из одной таблицы в другую, заменяя часть атрибутов по простым правилам — намного легче, чем написать код и потом его поддерживать. На практике же получаются очень сложные конструкции, в которых (как мне кажется) сложнее отыскать ошибку. Да и вопросы производительности отправлены на второй план — помощнее сервер, и все нормально.&lt;/p&gt;

&lt;p&gt;IPC представляет из себя сервер, в котором разворачивается домен — совокупность для репозиториев. Репозиторий — сущность IPC, находящаяся на одном уровне с бизнес-проектом. На каждый проект заводится свой репозиторий, в результате проекты не мешают друг другу, и могут разрабатываться параллельно. &lt;/p&gt;

&lt;p&gt;В репозитории создаются папки. Папка — хранилище объектов IPC всех типов. Используется для разделения групп объектов внутри бизнес-проекта. Мы, для своей системы, не смогли придумать более простого и понятного разделения, чем разделить проект на 4 части (папки) — EXTRACT, TRANSFORM, LOAD, SHARED (папка с объектами, которые будут использоваться в других папках). Папка может быть shared, т.е. в других папках можно создавать ярлыки на объекты в шаред-папке — так реализован code reuse.&lt;/p&gt;

&lt;p&gt;В папке все объекты разделены на несколько типов: &lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;sources – источники данных. Описание таблиц/файлов в соответствующих системах-источниках&lt;/li&gt;
  &lt;li&gt;targets – приемники данных. Описание таблиц/файлов в соответствующих системах-приемниках&lt;/li&gt;
  &lt;li&gt;transformations — reusable-преобразования, например: последовательности, выражения (суть функции), лукапы (суть просмотр значения по ключу), java-преобразования и т.д.&lt;/li&gt;
  &lt;li&gt;mapings — основные сущности, несущие логику процесса. Описания процесса трансформации данных. В маппинге обязательно есть источник (один из sources) и приемник (один из targets). У источника есть Source Qualifier (SQ), определяющий, как и какие именно данные забирать. Между источником и приемником могут быть различные трансформации данных. Собственно, в маппинге и описывается весь ETL-процесс&lt;/li&gt;
  &lt;li&gt;mapplets — для повторного использования часть маппинга (набор транформаций) можно выделить в отдельную сущность — мапплет, а в маппинге уже использовать его. Опять для code reuse.&lt;/li&gt;
  &lt;li&gt;session — отражение логического маппинга на физическую структуру. На уровне сессии определяются физические параметры — соединения к БД, типы операции (insert/update/delete), интервалы коммита, и т.д.&lt;/li&gt;
  &lt;li&gt;tasks — задания. Аналогично сессиям, только если сессии определяют маппинги, то задания определяют различные действия, которые может выполнить IPC: послать e-mail, записать файл, выполнить команду ОС и др.&lt;/li&gt;
  &lt;li&gt;workflows — потоки. Это набор сессий и заданий, соединенных для запуска последовательно и/или параллельно. Запускаются именно потоки и больше ничего кроме потоков. Нельзя запустить отдельно маппинг или сессию — только в рамках потока. &lt;/li&gt;
  &lt;li&gt;worklets — ворклеты. Часть сессий/заданий можно выделить в ворклет, и затем в потоке уже использовать ворклет. Опять для code reuse.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>1z0-047, разбор вопросов №1</title>
   <link href="/1z0-047-answering-questions-1/"/>
   <updated>2012-06-30T00:00:00+04:00</updated>
   <id>/1z0-047-answering-questions-1</id>
   <content type="html">&lt;p&gt;Буду кратко описывать топики, выделенные после 
&lt;a href=&quot;/1z0-047-test-passing-1/&quot;&gt;первого прохождения теста&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;nextday&quot;&gt;NEXT_DAY&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;http://docs.oracle.com/cd/B19306_01/server.102/b14200/img/next_day.gif&quot; alt=&quot;NEXT_DAY&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Возвращает дату — следующий день недели, указанный в &lt;code&gt;char&lt;/code&gt; (название дня недели) после 
даты, указанной в &lt;code&gt;date&lt;/code&gt;. Часы, минуты, секунды возвращаемого значения равны соответствующим 
значениям из &lt;code&gt;date&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://docs.oracle.com/cd/B19306_01/server.102/b14200/functions093.htm&quot;&gt;Документация&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Хотя в документации не указано, можно в качестве второго аргумента подавать число от 1 до 7, тогда
вернется следующий день недели с переданным порядковым номером. Неделя отсчитывается начиная
или с понедельника или с воскресенья, зависит от настроек NLS.&lt;/p&gt;

&lt;h2 id=&quot;with-check-option--view&quot;&gt;Инструкция WITH CHECK OPTION у VIEW&lt;/h2&gt;

&lt;p&gt;Инструкция &lt;code&gt;WITCH CHECK OPTION&lt;/code&gt; ограничивает DML операции над представлением 
строками, явно подпадающими в представление. Например, если в определении 
представления есть &lt;code&gt;WHERE job=&#39;CLERK&#39;&lt;/code&gt;, то вставить строку с &lt;code&gt;job=&#39;MANAGER&#39;&lt;/code&gt; в 
представление не получится.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://docs.oracle.com/cd/B19306_01/server.102/b14200/statements_8004.htm#i2117836&quot;&gt;Документация&lt;/a&gt;&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Клавиатура</title>
   <link href="/keyboard/"/>
   <updated>2012-06-26T00:00:00+04:00</updated>
   <id>/keyboard</id>
   <content type="html">&lt;p&gt;Вчера, самозабвенно играя в Diablo, опрокинул на клавиатуру стакан с квасом.
В результате, по шифту компьютер стал выключаться, а по левому контролу —
выключать звук. Было решено проделать операцию “промывка”. Сунул клавиатуру в
душ, потряс для просушки и оставил на сутки сушиться. Сегодня пришел с работы и
начал тестировать. Все включилось, я нажал шифт, и все выключилось. Операция
“промывка” не помогла. Я уже мысленно распрощался с 510 рублями и часом времени
в походе за новой клавиатурой Mitsumi Classic. Но я решил не сдаваться и
устроить операцию “капитальная промывка с разбором”. Самым сложным оказалось
отворачивание кучи маленьких винтиков. У меня не нашлось такой маленькой
отвертки, так что пришлось орудовать кухонным ножом. Все развинтил, сложил
мембранки и винтики в пиалку, кнопки выковырял с помощью ножа и сложил их в
тарелку. Отсоединил плату, она оказалась мокрой — вот почему операция “промывка”
была обречена, хорошо хоть ничего не закоротилось. Просушил, собрал — та же
фигня. Видимо, подумал я, дело в пластиковой пленке с дорожками. Решил ее
промыть. Разделил ее, она, оказывается, состроит из трех частей — две с
дорожками и одна (посередине) в качестве диэлектрика. Вымыл ее под душем и
повесил на веревочке на балкон сушиться на пару часов. За это время посмотрел
видео о SC2: Heart of the Swarm. Ничего так новые юниты, хорошее дополнение
получается. Особенно понравились зерговские вайперы, которыми можно вытягивать
вражеские юниты в толпу злых зергов.&lt;/p&gt;

&lt;p&gt;После двух часов решил собрать все воедино, и, о чудо, все заработало! Я
молодец! Все собрал, воткнул клавиши по местам. Оказалось, что я, при
десятипальцевой слепой печати, по-отдельности совсем плохо представляю, где
какая клавиша находится. Пришлось вспоминать раскладку фывапролджэ и qwertyiop.&lt;/p&gt;

&lt;p&gt;Опять матерился заворачивая ножом винтики, зато клава целехонька и чиста.
Единственный минус — похоже под бэкспейс попалась бракованная мембрана, чтобы
клавиша сработала надо нажать сильнее обычного. Учитывая важность и частоту
нажатия бэкспейса — это критично. Надо, наверное, разобрать все опять и
поменять на другую мембрану с менее используемой клавиши.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Темная материя, темная энергия и скрытая вселенная</title>
   <link href="/dark-matter-dark-energy-and-the-shadow-universe/"/>
   <updated>2012-06-24T00:00:00+04:00</updated>
   <id>/dark-matter-dark-energy-and-the-shadow-universe</id>
   <content type="html">&lt;p&gt;Перевод статьи &lt;a href=&quot;http://www.npr.org/blogs/13.7/2012/03/06/148039168/dark-matter-dark-energy-and-the-shadow-universe&quot;&gt;Dark Matter, Dark Energy And The Shadow Universe&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;У меня для вас плохие новости. Вы не важны. Точнее, абсолютно не важны. Совсем важны, если честно. Тьма, вот что важно. &lt;/p&gt;

&lt;p&gt;Многие из вас слышали про Темную материю и Темную энергию. Но многие, однако, не могут толком ничего рассказать о них. Они темны. Они скрыты от нас. Это все, что известно. &lt;/p&gt;

&lt;p&gt;Очень важно основывать определение на подобном описании. Так что давайте посмотрим на вопросы «почему» и «и что из этого следует», применительно к Темной парочке. В сегодняшнем посте я собираюсь начать разъяснение простого факта и его космического (буквально) значения. &lt;/p&gt;

&lt;p&gt;Давайте начнем с очень важного уточнения. Темная материя и Темная энергия не имеют ничего общего друг с другом, по-крайней мере нам так известно. Единственная вещь, которая у них общая — запоминающееся прилагательное  “темная”, которое, для астрофизиков, значит всего лишь &lt;em&gt;мы можем видеть эффекты, но мы не можем видеть причины, их вызывающие&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Когда астрономы смотрят на &lt;a href=&quot;вселенную&quot;&gt;http://map.gsfc.nasa.gov/universe/uni_matter.html&lt;/a&gt;, они видят объекты в движении. Используя законы физики, они питаются определить, что вызывает эти движения. Известно всего четыре силы во вселенной: гравитация, электромагнетизм и два вида ядерных сил. Это все известные способы которыми вещество может толкнуть (или притянуть) другое вещество. &lt;/p&gt;

&lt;p&gt;В астрономических масштабах, гравитация — главный игрок. Еще со времен Ньютона и Эйнштейна мы знаем, как соотносить гравитацию с измерениями материи и энергии, представленной в любой рассматриваемой области.&lt;/p&gt;

&lt;p&gt;Однако в последние несколько десятилетий кое-что очень важное было обнаружено. Материя (а значит и энергия), &lt;em&gt;которые мы можем наблюдать&lt;/em&gt;, движется 
 слишком быстро, чтобы быть движимой собственной силой гравитации. Основываясь исключительно на движении галактик, астрономы были вынуждены заключить факт существования материи, которая не детектируется с помощью светособирающих телескопов.&lt;/p&gt;

&lt;p&gt;Похожим образом, основываясь на движениях вселенной как единого целого (а вселенная — это структура), астрономы были вынуждены сделать вывод о наличии энергии, которую нельзя обнаружить никакими измерениями.&lt;/p&gt;

&lt;p&gt;Темная материя это форма массы (своего рода новая частица) которая просто не испускает свет. Темная энергия — своего рода поле, заполняющее космос, способное делать работы, но которая также невидима. Но темная материя и темная энергия очень различны между собой.&lt;/p&gt;

&lt;p&gt;Они были “открыты” существенно различными способами. Единственное общее свойство у них это их способность двигать вещи &lt;em&gt;которые мы видим&lt;/em&gt; вдоль по видимым путям, решительно оставаясь в тени. &lt;/p&gt;

&lt;p&gt;Они — непостижимы по-определению. &lt;/p&gt;

&lt;p&gt;Перейдем к информационной части (как будто то, что я описал было недостаточно важно). &lt;/p&gt;

&lt;p&gt;«Темная вселенная» — сумма темной материи и темной энергии — это и &lt;strong&gt;есть&lt;/strong&gt; вселенная. Наблюдения отводят на темную вселенную 95% всего содержимого вселенной. Это значит наш тип материи и энергии — все вещи, которые вы видите вокруг себя ежедневно — всего лишь 1/20 вселенной.&lt;/p&gt;

&lt;p&gt;Если бы были выборы при создании всего, мы бы не имели ни единого слова в процессе. Вспомните это в следующий раз, когда увидите изображение красивой спиральной галактики. То что вы видите — совсем не галактика. То что вы видите — жалкие светящиеся остатки, кружащиеся в центре огромного, темного океана. Так что, не тот факт что вселенная большая, а мы — маленькие, лишает нас значимости. &lt;em&gt;Мы едва лишь малая частица вселенной целиком.&lt;/em&gt; Вот почему мы не важны.&lt;/p&gt;

&lt;p&gt;И еще…&lt;/p&gt;

&lt;p&gt;Насколько м ы можем сказать, темная часть вселенной невосприимчива к “воздействию” на наших типов масштаба (звезды, планеты, люди). Похоже, что используя свои инструменты, темная вселенная никогда не сможет создать что-то такое важное, как жизнь. Вот теперь настал момент, когда действительно есть над чем порефлексировать.&lt;/p&gt;

&lt;p&gt;Возможно, темная вселенная делает нас гораздо более важными, чем мы когда либо предполагали.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Различия между historic и historical</title>
   <link href="/differences-between-historic-and-historical/"/>
   <updated>2012-06-23T00:00:00+04:00</updated>
   <id>/differences-between-historic-and-historical</id>
   <content type="html">&lt;p&gt;Слушал сегодня подкаст &lt;a href=&quot;http://www.quickanddirtytips.com/education/grammar/historic-versus-historical&quot;&gt;Grammar Girl&lt;/a&gt; про различия между прилагательными 
historic и historical.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;historical – признак историчности вещи, события, и т.д. При этом важность
предмета или события не важна. Это может быть historical book (историческая книга, книга про историю),
historical pen (старая историческая ручка) и т.д.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;historic – признак исторически-важного события или личности. О котором все знают. Historic battle, historic
person.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Дьябло</title>
   <link href="/diablo-3/"/>
   <updated>2012-06-19T00:00:00+04:00</updated>
   <id>/diablo-3</id>
   <content type="html">&lt;p&gt;Давно сюда ничего не писал, т.к. вышла Дьябло 3 и я пропал из этого мира.&lt;/p&gt;

&lt;p&gt;Вынырнул, когда прошел все на “нормале” и на “найтмэре”. Дорастил монаха до 50-го левела, теперь надо проходить “ад”. Геймплей чудесный, игра на максимальных настройках у меня не тормозит и выдает стабильно 60 кадров в секунду. Поиграл уже за все классы, варваром даже прошел целиком на нормале, вместе с другом, совместно. &lt;/p&gt;

&lt;p&gt;“Найтмэр” намного сложнее “нормала”, а под конец играть практически невозможно — постоянно убивают. Как убить Дьябло, умеющего 1.4M хп, трем героям, с дамагом в 1k dps? Ответ — очень-очень долго его долбить и не умирать. В итоге, мы его убивали в районе часа. Таки убили. На “аду” в 1-м акте у каждого зомби и скелета по 10k хп, сколько у моего героя. В общем, игра становится гораздо более интересной и позиционной. Вместо обычного беги-руби, тут надо включать голову и думать. Но, зря я начал за мили героя играть, он же не танк совершенно.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>1z0-047, прохождение теста №1</title>
   <link href="/1z0-047-test-passing-1/"/>
   <updated>2012-06-18T00:00:00+04:00</updated>
   <id>/1z0-047-test-passing-1</id>
   <content type="html">&lt;p&gt;Год спустя решил снова заняться получением сертификата Oracle. Сначала сдам экзамен 1z0-047 
на Oracle SQL Expert.&lt;/p&gt;

&lt;p&gt;Первое прохождение неутешительно — за 90 минут я должен был ответить на 100 вопросов. 
В итоге, времени мне не хватило, и последние 20 вопросов я пробежал мимо. В итоге, 58/100, тест провален. &lt;/p&gt;

&lt;p&gt;Составил список вопросов, которые надо подтянуть. Ну, и конечно, надо более внимательно читать вопросы.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;non-correlated subquery, correlated subquery, inline view&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;NATURAL JOIN&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;/1z0-047-answering-questions-1/&quot;&gt;Инструкция WITH CHECK OPTION у VIEW&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;SEQUENCES — CURRVAL or CURVAL? Что будет для последовательности, заданной с START WITH и CYCLE, после 
прохождения цикла. Она начнется с 1 или со START WITH? Как работает кеш для последовательностей?&lt;/p&gt;

    &lt;p&gt;Ответы: Последовательность начнется с 1.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;GROUP BY CUBE, GROUP BY ROLLUP&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Multitable INSERT&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;External tables&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;creating index on column, that are in composite primary key&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;JOIN using USING clause&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;insert into (select from where) values (…)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Flashback recovery&lt;/p&gt;

    &lt;p&gt;Ответ: После DROP TABLE и восстановления его с помощью FLASHBACK, восстанавливаются все констрейнты, кроме внешних ключей на другие таблицы&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Flashback version query - what and how data actualy retrieved after delete via flashback&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;модификация колонки в NOT NULL&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;EXTERNAL TABLES&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;DEFERRABLE constraints&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;/1z0-047-answering-questions-1/&quot;&gt;NEXT_DAY&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;GRANT&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;create table t (a, b default sysdate, c) as select a, b, c from t1&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;MERGE&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;наследование GRANTов&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;/alter-table-set-unused-column/&quot;&gt;ALTER TABLE SET UNUSED COLUMN&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ALL INSERT, FIRST INSERT&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ALTER TABLE DISABLE CONSTRAINT CASCADE&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;DICTIONARY view&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Про юникод в питоне</title>
   <link href="/about-unicode-in-python/"/>
   <updated>2012-05-26T00:00:00+04:00</updated>
   <id>/about-unicode-in-python</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.linux.org.ru/forum/development/4004465?cid=4004513&quot;&gt;Источник&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Применительно к питону (второй версии).&lt;/p&gt;

&lt;p&gt;Любая строка попавшая в вашу программу извне — не юникодная, а простой набор байтов. Этот набор байтов необходимо раскодировать в Юникод. Обычно это делают как можно раньше и дальше работают уже с Юникодом. В питоне для этого используется метод &lt;code&gt;decode()&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Юникодную строку нельзя записать на диск, ее необходимо закодировать как набор байтов и записать. Обычно это делается как можно позже (непосредственно перед выводом). В питоне для этого используется метод &lt;code&gt;encode()&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;На примере:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;file = open(&#39;text.txt&#39;, &#39;rw&#39;)
 
# Прочитаем набор байтов из файла на диске
data = file.read()
 
# Раскодируем набор байтов в юникодную строку
data = data.decode(&#39;utf-8&#39;)  # Кодировка может быть и другая
 
# Теперь data - Юникод
# Закодируем юникодную строку обратно в набор байтов
data = data.encode(&#39;utf-8&#39;)
 
# Запишем байты обратно на диск
file.write(data)
 
file.close()
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;a href=&quot;http://pastebin.com/JmVpKfT2&quot;&gt;Сниппет на pastebin&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Фубар</title>
   <link href="/fubar/"/>
   <updated>2012-05-23T00:00:00+04:00</updated>
   <id>/fubar</id>
   <content type="html">&lt;p&gt;Нашел, наконец, &lt;a href=&quot;http://tempxla.deviantart.com/art/Navi2ch-like-v1-0-292193625&quot;&gt;скин для Фубара&lt;/a&gt;, который понравился.&lt;/p&gt;

&lt;p&gt;((foobar.png))
((foobar2.png))&lt;/p&gt;

&lt;p&gt;Для него необходима большая куча доп.компонент, я аж замучился их качать. Также он не умеет показывать обложки альбомов, если они встроены в файлы. Ему надо, чтобы в папке лежал файл &lt;code&gt;folder.jpg&lt;/code&gt; с обложкой.  И, надо немного поправить код, как написано в мануале на ДевиантАрте. Я взял, и просто заменил блок, в котором он ищет обложку на &lt;/p&gt;

&lt;p&gt;&lt;code&gt;$draw_image(9,16,70,70,$replace(%path%,%filename_ext%,)folder.*,255,)&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;И еще отключил эти дурацкие &lt;code&gt;? Db&lt;/code&gt;. Тоже в исходных кодах, надо заменить &lt;/p&gt;

&lt;p&gt;&lt;code&gt;$puts(right.text,&#39;[&#39;$if(%skip%,SKIP,$if2(%length%,0:00))&#39;]&#39; $pad_right($if2(%replaygain_track_gain%,? dB),9))&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;на &lt;/p&gt;

&lt;p&gt;&lt;code&gt;$puts(right.text,&#39;[&#39;$if(%skip%,SKIP,$if2(%length%,0:00))&#39;]&#39;)&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Потом выложу в дропбокс фубар целиком, с этим установленным скином.&lt;/p&gt;

&lt;p&gt;Да, в нем перемотки по песне, и регулятора громкости (это у меня почему-то нет, на скриншотах он есть). Ну и ладно, они мне все равно не нужны.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Rainmeter</title>
   <link href="/rainmeter/"/>
   <updated>2012-05-20T00:00:00+04:00</updated>
   <id>/rainmeter</id>
   <content type="html">&lt;p&gt;Решил я завести себе отдельный твиттер-аккаунт, чтобы туда складывать записи об сыгранных матчах Старктафта и писать туда заметки по Дьябле, когда он дойдет до России. &lt;a href=&quot;http://twitter.com/boohgaloo&quot;&gt;Завел&lt;/a&gt;, но мне тут-же понадобился нормальный твиттер-клиент под Виндоус, поддерживающий несколько аккаунтов. По доброй памяти поставил &lt;a href=&quot;http://destroytwitter.com/&quot;&gt;Destroy Twitter 2&lt;/a&gt;, но он, скотина, не поддерживает несколько аккаунтов. Пришлось искать дальше, что вывело меня на статью в Лайфхакере (английском, конечно, русский Лайфхакер это то еще убожество), на лучший по их мнению твиттер-клиент под Виндоус. Им оказался &lt;a href=&quot;http://lifehacker.com/5809448/the-best-twitter-client-for-windows&quot;&gt;Метро-твит&lt;/a&gt;, который я довольно активно использовал раньше и с которым у меня не сложились отношения — то он вис, то тормозил, то вообще работал не так, как мне хотелось. Тут я вспомнил про ТвитДек, купленный Твиттером, и оказалось, что с того времени, как я на него последний раз смотрел, он настолько похорошел, что целиком меня устраивает. Я тут же добавил туда все что мне надо, и возрадовался. Кстати, у ТвитДека есть веб-версия, приложение под Хром и версии под Виндоус и ОС Тэн. Но версии под операционку это ни что иное, как веб-версии, оформленные в виде экзешника с подключенным движком браузера (вебкит). Так что я остановился на приложении под Хром.&lt;/p&gt;

&lt;p&gt;Но, я решил почитать Лайфхакер дальше, так как обзор Метро-твита был в разделе “&lt;a href=&quot;http://lifehacker.com/windows-app-directory/&quot;&gt;Лучшие программы для Виндоуса&lt;/a&gt;”. Там много разнообразных программ, но среди них меня заинтересовал &lt;a href=&quot;http://rainmeter.net/cms/&quot;&gt;Rainmeter&lt;/a&gt;. Это такая штука для изменения интерфейса рабочего стола Виндоуса. На &lt;a href=&quot;http://rainmeter.deviantart.com/&quot;&gt;ДевиантАрте&lt;/a&gt; есть целая библиотека разнообразных скинов, например такой:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;meme_skin_for_rainmeter_by_fuckyeahlucas-d4raufm.png&quot; alt=&quot;rainmeter_skin&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Здесь в каждом баббле пишутся данные, актуальные для вашей машины. &lt;/p&gt;

&lt;p&gt;Особо понравилось, что большинство настроек скинов делается напрямую в конфигурационных файлов с помощью блокнота. В итоге, поигравшись часа 2, понаставив с десяток тем, я остановился на таком варианте:&lt;/p&gt;

&lt;p&gt;Но на утро я был жестоко наказан за свое неблагоразумие. Часть этих скинов доставила мне в Виндоус своих шрифтов. А какой-то гадский шрифт заменил стандартную Гельветику на какое-то невразумительное говно с плящущими цифрами. В итоге читать сайты стало совершенно невозможно. Пришлось восстанавливать шрифты с диска с Виндоусом 7. Это оказалось легко сделать — достаточно взять оригинальные шрифты с диска, загрузиться в сейф-моде и переписать шрифты оригинальными. Подробную инструкцию нашел на [Суперюзере]((http://superuser.com/questions/328321/how-can-i-restore-the-original-windows-7-fonts-from-its-dvd (mydesktop.png).&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Имя</title>
   <link href="/name/"/>
   <updated>2012-05-14T00:00:00+04:00</updated>
   <id>/name</id>
   <content type="html">&lt;p&gt;Этот блог наконец-то обрел доменное имя. &lt;/p&gt;

&lt;p&gt;Айсизэлайн точка ру.&lt;/p&gt;

&lt;p&gt;99 рублей/год на &lt;a href=&quot;http://2domains.ru/&quot;&gt;2-х доменах&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Для того, чтобы Эгея стала понимать сайт по имени, а не по айпи, пришлось
сделать следующее:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;в &lt;code&gt;/etc/apache2/apache2.conf&lt;/code&gt; прописать &lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;ServerName iseetheline.ru
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;в настройке виртуал-хоста прописать&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;ServerName = iseetheline.ru
ServerAlias www.iseetheline.ru, blog.iseetheline.ru
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;переустановить Эгею (удалить файл &lt;code&gt;/user/instance.psa&lt;/code&gt;), чтобы она
перегенерировала адреса для фэйворитсов.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;UPD: Неактуально в связи с переездом на Jekyll.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Отправка ZIP-архива с iPad по почте</title>
   <link href="/otpravka-zip-arhiva-s-ipad-po-pochte/"/>
   <updated>2012-05-13T00:00:00+04:00</updated>
   <id>/otpravka-zip-arhiva-s-ipad-po-pochte</id>
   <content type="html">&lt;p&gt;Столкнулся с банальной проблемой — в базовом наборе приложений нельзя с айПада отправить зип-архив по почте. Скачав, его можно открыть в одном из установленных приложений. У меня были установлены Dropbox и Evernote, я думал что с помощью них можно сделать все, что мне нужно. Оказалось, что максимум что они могут сделать с зип-архивами — отправить по почте ссылку на них. А мне нужно отправить именно как вложение. Пришлось искать альтернативные программы в AppStore. После довольно долгих поисков — а я привередлив не только к цене и возможностям приложения, но и к его названию и иконке — установил какую-то бесплатную версию программы. О чудо, оно умеет это делать. Но… при попытке отправить письмо, оно кидается в Outbox в MailApp’е и сваливается с ошибкой. Таки фейл.&lt;/p&gt;

&lt;p&gt;Как можно быстро, просто, красиво, бесплатно отправить с iPad письмо с аттачментом в виде зип-архива?&lt;/p&gt;

&lt;p&gt;П.С.: обновился до iOS 5.1.1. Видимых отличий нет.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Морской бой</title>
   <link href="/battlefield/"/>
   <updated>2012-04-30T00:00:00+04:00</updated>
   <id>/battlefield</id>
   <content type="html">&lt;p&gt;Сходили на сие творение американского кинематографа. Если полностью отключить мозг и не обращать внимание на всякий бред о сверхмощном усилителе радиосигнала, который за 5 лет долетел до похожей на Землю планеты, и оттуда прилетели злые инопланетяне, о том, что можно взять и повести в бой корабль-музей (на котором окажется команда в полном составе, да и еще куча боеприпасов), о том, что карьерный рост с бомжа до капитана боевого корабля в Америке происходит за 10 минут, о том, что линкор можно мгновенно остановить выкинув якорь, о том, что на руках можно перенести ракету и прочий бред, которым фильм буквально напичкан, смотреть можно. Спецэффекты так надоели, что мозг уже даже не пытается их анализировать, а лишь ищет ляпы, типа видимого луча, отправляемого на спутник.&lt;/p&gt;

&lt;p&gt;Попкорн-муви на один раз, если нечего делать, можно и сходить.&lt;/p&gt;

&lt;p&gt;Жду Мстителей.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Про ССД, компьютерное</title>
   <link href="/about-ssd/"/>
   <updated>2012-04-28T00:00:00+04:00</updated>
   <id>/about-ssd</id>
   <content type="html">&lt;p&gt;Так как старый винчестер Seagate 320Gb уже давно дышит на ладан (на самом деле
это винчестер, который мне на предпредыдущей работе отдали на погонять как
сломанный) — его СМАРТ постоянно выдает ошибки, то я решил купить себе пару
новых винтов. Один — SSD от Intel на 60 Гб 520-й серии, второй — WD Caviar Green
на 1 Тб.&lt;/p&gt;

&lt;p&gt;Покупал в магазине &lt;a href=&quot;http://yoshop.ru&quot;&gt;Yoshop.ru&lt;/a&gt;, все, включая 250-ти рублевую
доставку, вышло в 7100 рублей. Нормально, наконец цены на винчестеры стали
падать.&lt;/p&gt;

&lt;p&gt;Я довольно долго мучался, устанавливая их в корпус, это оказалось делать очень
неудобно, провода и большая видеокарта мешают вставить винт нормально. Старый
Сигейт так и не захотел вставать рядом с новыми братьями, поэтому я его положил
в отсек для CD-ROM’а.&lt;/p&gt;

&lt;p&gt;Сначала я подключил только SSD, решил на него поставить Виндоус 7 СП1, а потом
уже подумать, что делать. Скачал с Демонойда образ виндовса, с интегрированным
сервис-паком, но он почему-то ставиться в упор не захотел. Установщик
загружается, и замирает минут на 5, ничего не делая. Потом также замирает после
нажатия кнопки “Install”. Мне это не понравилось, и я решил попробовать
поставить только-что вышедшую Ubuntu 12.04. Поставил, довольно быстро.
По загрузке система вообще ставит все рекорды — грузится за 8 секунд, специально
мерил секундомером. Но… не поддерживает 2 монитора. Самое интересное, что при
загрузке с флешки все работает как надо, системная утилита видит 2 монитора (с
правильным названием), и их можно настроить для работы так, как надо. А та же
версия, установленная на винчестер выдает, что монитор один, да и тот под
названием “Laptop”. Если пытаться настроить с помощью утилиты &lt;code&gt;nvidia-settings&lt;/code&gt;,
то второй монитор можно подключить. Наилучший результат будет в случае опции
&lt;code&gt;Twin view&lt;/code&gt;, но и в этом случае системная утилита настройки будет просто видеть
один монитор с суммарным огромным разрешением (у меня было 3200x1200), и при
каждой загрузке выдавать злобное предупреждение на весь экран о том, что экран
настроен неверно. В добавок ко всему в процессе настройки у моего пользователя
сломался логин в юнити. После ввода пароля просто выкидывало обратно в
логин-скрин, без каких=либо сообщений. В терминальную сессию по &lt;code&gt;Ctrl+Alt+F1&lt;/code&gt;
можно спокойно зайти.&lt;/p&gt;

&lt;p&gt;Так что я снес Убунту, откопал под кроватью (в буквальном смысле слова)
старый-старый диск с Виндовсом 7, который у меня успешно работал до этого на
протяжении 3 уже лет, и успешно и довольно быстро его установил.&lt;/p&gt;

&lt;p&gt;Настройку SSD делал как описано в &lt;a href=&quot;http://www.overclock.net/t/1156654/seans-windows-7-install-optimization-guide-for-ssds-hdds&quot;&gt;этой статье&lt;/a&gt;. Но, надо сказать,
что все настройки сделались автоматически с помощью Intel SSD Toolbox, но я еще
раз проверил, что заработали всяческие тримы и отключились индексации,
дефрагментации и иже с ними.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Стивен Кинг – Большой водитель</title>
   <link href="/stephen-king-big-driver/"/>
   <updated>2012-04-08T00:00:00+04:00</updated>
   <id>/stephen-king-big-driver</id>
   <content type="html">&lt;p&gt;Дочитал вторую повесть из сборника Full Dark, No Stars Стивена Кинга — Big
Driver. 120-ти страничный текст рассказывает о том, как писательница женских
романов средних лет попала в ловушку на дороге и была изнасилована бугаем на
грузовике. Прикинувшись мертвой, ей удалось спастись и она, в результате,
учинила возмездие ему и его семье. Очень понравилось, что из героини не делают
этакого Рэмбо, который встал на тропу войны и крошит и рубит всех подряд, а
обычное поведение среднестатистической женщины. Также забавно, как Кинг,
описывающий мысли в голове героини от третьего лица, для создания диалога
вводит в ее голове персонажей, с которыми она разговаривает. Получается хорошо,
главное не начать думать, что у героини не все в порядке с головой.&lt;/p&gt;

&lt;p&gt;На английском становится легче читать, правда новые слова так не выучишь.
В словарь лезть лень (я читаю бумажную версию), чаще всего додумываюсь по
смыслу о значении слова, но все же в сложных моментах ускользают детали
описания происходящего. Понимаешь общую канву, а детальной картины, к сожалению,
нет. Но разбираться не хочется, хочется читать дальше.&lt;/p&gt;

&lt;p&gt;Читаю дальше, в сборнике осталось еще 3 повести.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Вишлист</title>
   <link href="/wishlist/"/>
   <updated>2012-04-07T00:00:00+04:00</updated>
   <id>/wishlist</id>
   <content type="html">&lt;p&gt;Сервис создания вишлиста предлагают многие, но ими не совсем удобно пользоваться. 
Я пользуюсь вишлистами на Amazon для &lt;a href=&quot;http://www.amazon.com/registry/wishlist/1MWP7VNDIUT25&quot;&gt;вещей&lt;/a&gt; и для &lt;a href=&quot;http://www.amazon.com/registry/wishlist/1ZNPTGZ22TU0J&quot;&gt;книжек&lt;/a&gt;
(электронные версии всячески приветствуются), сохраняю интересные ссылки в &lt;a href=&quot;https://pinboard.in/u:schmooser/t:wishlist/&quot;&gt;Pinboard&lt;/a&gt;
и веду список желаний тут:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;s&gt;кеды Конверс&lt;/s&gt;
    &lt;p&gt;– купил :-)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;фотик Фуджи X100&lt;/li&gt;
  &lt;li&gt;4 футболки серии UT из ЮниКло по мотивам фильмов Дэвида Линча&lt;/li&gt;
  &lt;li&gt;какая-нибудь книга Льюиса по Ораклу в бумажном варианте&lt;/li&gt;
  &lt;li&gt;
    &lt;s&gt;про-аккаунт на Фликере&lt;/s&gt;
    &lt;p&gt;– покупаю 3-х месячную про-подписку. А с
недавнего времени у них обычные аккаунты стали про, кроме рекламы. Рекламу
можно отключить за $50/год.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;инвайт на &lt;a href=&quot;http://ffffound.com&quot;&gt;ffffound&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;
    &lt;s&gt;2-х литровый фольксваген гольф турбо&lt;/s&gt;
    &lt;p&gt;– разочаровался в машинах в Москве&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;s&gt;настольный аймак или мак мини&lt;/s&gt;
    &lt;p&gt;– купил мак мини&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;монитор Dell UltraSharp U2711&lt;/li&gt;
  &lt;li&gt;
    &lt;s&gt;колонки, например такие – [Konoos D300][konoos]&lt;/s&gt;
    &lt;p&gt;– купил аудиоцентр YAMAHA CRX-040&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;s&gt;лампочку Филипс Ливин Колорс&lt;/s&gt;
    &lt;p&gt;– разонравилась она мне&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;часы для спорта Garmin, с GPS-трекером&lt;/li&gt;
  &lt;li&gt;Фейнмановские лекции по физике в бумажном виде на английском&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Удаление дубликатов из таблицы</title>
   <link href="/removing-of-duplicates-from-table/"/>
   <updated>2012-04-07T00:00:00+04:00</updated>
   <id>/removing-of-duplicates-from-table</id>
   <content type="html">&lt;p&gt;Быстро удалить дублирующиеся строки из таблицы в Oracle можно так:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DELETE FROM tab
WHERE rowid NOT IN (SELECT MIN(ROWID)
                      FROM tab
                     GROUP BY id);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;После делита все id в таблице tab будут уникальными.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://pastebin.com/ks8zibzv&quot;&gt;Сниппет на pastebin&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>iOS 5.1</title>
   <link href="/ios-5.1/"/>
   <updated>2012-03-18T00:00:00+04:00</updated>
   <id>/ios-5.1</id>
   <content type="html">&lt;p&gt;После обновления iPhone 4S и iPad 2 до iOS 5.1 на обоих устройствах батарея
начала разряжаться быстрее. Особенно было заметно на айфоне, когда за ночь
съедалось до 30% батареи и телефон сам выключался. Там была еще одна проблема,
не совсем связанная с iOS — в айтюнсе, при скачивании подкастов, один подкаст
(Listen to English - Learn English) не хотел скачиваться и мы оставили закачки
в состоянии Downloading. Видимо из-за этого так быстро садилась батарея. И еще
удалили приложение Facebook, которым Надя не пользуется. Теперь разряжается
существенно медленнее, но, все равно, по ощущениям, быстрее чем iOS 5.0.1.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Фотобиеннале'2012</title>
   <link href="/fotobiennale'2012/"/>
   <updated>2012-03-17T00:00:00+04:00</updated>
   <id>/fotobiennale'2012</id>
   <content type="html">&lt;p&gt;Сходили на Фотобиеннале’2012 в московский Мультимедиа Арт Музей. Первый раз в моей жизни я стоял в музей фотографии в очереди на улице. Очереди были, не такие как на Сальвадора Дали, но все же. Для современного искусства я считаю это очень важной победой — люди идут смотреть на фотографию а интересуются не только попкорновыми блокбастерами. Хотя, так понимаю, в Москве это было всегда.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://farm8.staticflickr.com/7181/6843808050_e9b9ba0584_z.jpg&amp;quot;&quot; alt=&quot;Photo by schmooser, on Flickr&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.flickr.com/photos/schmooser/sets/72157629604515559/with/6989772127/&quot;&gt;Фотосет&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>vim в качестве редактора по F4 в mc</title>
   <link href="/vim-as-default-editor-in-mc/"/>
   <updated>2012-03-09T00:00:00+04:00</updated>
   <id>/vim-as-default-editor-in-mc</id>
   <content type="html">&lt;p&gt;Чтобы использовать vim в качестве редактора в Midnight Commander (mc) по F4 надо:&lt;/p&gt;

&lt;p&gt;В настройках mc снять отметку Use internal editor
в файле ~/.bashrc добавить строку
export EDITOR=vim
Перезапустить bash и mc.&lt;/p&gt;

&lt;p&gt;Проверено на Debian 6.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>SQL*NET more data to client</title>
   <link href="/sql*net-more-data-to-client/"/>
   <updated>2012-03-09T00:00:00+04:00</updated>
   <id>/sql*net-more-data-to-client</id>
   <content type="html">&lt;blockquote&gt;
  &lt;p&gt;SQL*NET more data to client means your data doesn’t fit in one sqlnet packet. The default packet size is 2k. You can adjust this by setting the SDU on listener and client tnsnames.ora. The SDU needs to be a multiple of the network card MTU, usually 1500 bytes. &lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;em&gt;Sybrand Bakker, Senior Oracle DBA&lt;/em&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Скорость direct path load</title>
   <link href="/speed-of-direct-path-load/"/>
   <updated>2012-03-09T00:00:00+04:00</updated>
   <id>/speed-of-direct-path-load</id>
   <content type="html">&lt;p&gt;По скорости загрузки 8 млн строк из текстового файла в Оракл.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Из MS SQL через Integration Services — ~2000 строк/мин, не дождался.&lt;/li&gt;
  &lt;li&gt;sqlldr — 45 минут (~180000 строк/мин).&lt;/li&gt;
  &lt;li&gt;sqlldr direct path — 4:55 (~1.6 млн. строк/мин).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Чтобы использовать direct path, надо в параметрах запуска sqlldr указать
опцию &lt;code&gt;direct=true&lt;/code&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Поднятие ssh на гостевом Ubuntu 10.04 Server под Virtual Box</title>
   <link href="/setting-up-ssh-on-guest-ubuntu-10.04-server-in-virtual-box/"/>
   <updated>2012-03-09T00:00:00+04:00</updated>
   <id>/setting-up-ssh-on-guest-ubuntu-10.04-server-in-virtual-box</id>
   <content type="html">&lt;p&gt;По-умолчанию у вновь созданной VM в качестве режима сети выставляется NAT. Этот режим в Virtual Box’e имеет несколько ограничений (раздел 6.3.3 справки), например — гостевая машина недоступна с хостовой по сети, между ними нет никакой связи. Чтобы как-то это обойти используется проброс портов (port forwarding). В этом случае порту гостевой машины ставится в соответствие порт машины-хоста.&lt;/p&gt;

&lt;p&gt;Чтобы пробросить 22-й порт (ssh) с гостевой машины на 2222-й порт машины хоста надо на хосте выполнить команду:
  * &lt;code&gt;VBoxManage modifyvm &quot;Ubuntu 10.04 server&quot; --natpf1 &quot;guestssh,tcp,,2222,,22&quot;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Здесь указывается Ubuntu 10.04 server — имя виртуальной машины на хосте, guestssh — имя создаваемого port forwarding’a, протокол и порты. Приложение VBoxManage лежит в папке Virtual Box’a.&lt;/p&gt;

&lt;p&gt;Далее в виртуальной машине устанавливаем ssh-сервер:
  * &lt;code&gt;$sudo apt-get install ssh&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;и заходим с гостевой машины (у меня - Windows 7, через PuTTY) на &lt;code&gt;localhost:2222&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Все.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Блокировка сессий и откат к savepoint</title>
   <link href="/session-blocking-and-rollback-to-savepoint/"/>
   <updated>2012-03-09T00:00:00+04:00</updated>
   <id>/session-blocking-and-rollback-to-savepoint</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://plsqlchallenge.com/pls/apex/f?p=10000:651:585965286409691::NO:651:P651_COMP_EVENT_ID,P651_QUIZ_ID:10840,11619&amp;amp;cs=1581E3AEBF2AA49892C68A59796A406B0&quot;&gt;Интересный куиз&lt;/a&gt; был вчера в PL/SQL Challenge, в нем обсуждалась взаимная блокировка сессий и откат к savepoint. &lt;/p&gt;

&lt;p&gt;Я думал, что если одна сессия заблокировала строку и в это время другая сессия пытается эту строку изменить, то 2-я сессия будет заблокирована до тех пор, пока первая сессия на совершит commit или rollback. Но про rollback to savepoint я как-то не задумывался. Я полага, если идет rollback to savepoint и 1-я сессия отпускает строку, то 2-я сессия разблокируется и сделает свое дело, оказался неправ – блокированная сессия ждет  освобождения ресурса (обновляемой строки), а завершения блокирующей транзакции (commit/rollback). Но, если после rollback to savepoint в 1-й сессии запустить 3-ю сессию, изменяющую ту же строку, то она уже не будет заблокирована ни 1-й сессий ни 2-й сессией (которая блокирована 1-й) и выполнится без ожиданий. &lt;/p&gt;

&lt;p&gt;Век живи, век учись. &lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Установка и запуск Oracle Instant Client под Windows</title>
   <link href="/running-oracle-instant-client-on-windows/"/>
   <updated>2012-03-09T00:00:00+04:00</updated>
   <id>/running-oracle-instant-client-on-windows</id>
   <content type="html">&lt;ol&gt;
  &lt;li&gt;Скачиваем нужную версию Oracle Instant Client. Нужна версия, совместимая с ПО, 
которое предполагается использовать. Например, для 32-х битного PL/SQL Developer 
нужна 32-х битная же версия Instant Client. Пакеты я брал Basic и SQL*Plus.&lt;/li&gt;
  &lt;li&gt;Распаковываем в произвольную папку. Я распаковал оба пакета в одну и ту же папку 
&lt;code&gt;C:\Program Files (x86)\Oracle\instantclient_11_2&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Создаем две переменных среды:
    &lt;ul&gt;
      &lt;li&gt;&lt;code&gt;ORACLE_HOME = C:\Program Files (x86)\Oracle\instantclient_11_2&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code&gt;TNS_ADMIN = C:\Program Files (x86)\Oracle\instantclient_11_2\network\admin\&lt;/code&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Создаем файл tnsnames.ora в папке, указанной в параметре TNS_ADMIN, 
примерно следующего содержания:&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; ORCL =
 (DESCRIPTION =
  (ADDRESS = 
     (PROTOCOL = TCP)
     (HOST = localhost)
     (PORT = 1521) 
  )
  (CONNECT_DATA =
    (SERVER = DEDICATED)
    (SERVICE_NAME = orcl)
  )
 )
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;Запускаем &lt;code&gt;sqlplus&lt;/code&gt; или PL/SQL Developer. Работаем.&lt;/li&gt;
&lt;/ol&gt;
</content>
 </entry>
 
 <entry>
   <title>Убираем из Гмэйла рекламу</title>
   <link href="/removing-ads-from-gmail/"/>
   <updated>2012-03-09T00:00:00+04:00</updated>
   <id>/removing-ads-from-gmail</id>
   <content type="html">&lt;p&gt;Никто не любит рекламу. Все пользуются AdBlock’ом. Я тоже. Но в Гмэйле после
порезанной рекламы справа, при чтении почты, остается довольно широкая колонка
пустого места.&lt;/p&gt;

&lt;p&gt;Если у вас есть экстеншн, который правит css-ки сайтов (например Stylebot для
Хрома), то пишем для Гмэйла такой стиль:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;td.Bu:nth-child(3) {display: none;}
td.Bu:nth-child(2) {display: none;}
div.if {margin-right: 15px;}
div.ao8 {padding-right: 0;}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;и вуаля, мерзкая полоса исчезает.&lt;/p&gt;

&lt;p&gt;Работает во всех трех режимах — No Split, Horizontal Split, Vertical Split.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>NO_DATA_FOUND exception</title>
   <link href="/no_data_found-exception/"/>
   <updated>2012-03-09T00:00:00+04:00</updated>
   <id>/no_data_found-exception</id>
   <content type="html">&lt;p&gt;Oracle генерирует исключение &lt;code&gt;NO_DATA_FOUND&lt;/code&gt; в нескольких ситуациях:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;при &lt;code&gt;SELECT INTO&lt;/code&gt; если нет строк&lt;/li&gt;
  &lt;li&gt;при чтении последней строки файла с использованием UTL_FILE.GET_LINE&lt;/li&gt;
  &lt;li&gt;при обращении к несуществующему элементу массива&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&quot;http://www.plsqlchallenge.com/pls/apex/f?p=10000:PG_PQ_DRILLDOWN:4164756902153718::NO:651:P651_COMP_EVENT_ID,P651_QUIZ_ID:2429,3567&amp;amp;cs=1E556E42F7193ED0DBC29F3DB66AADDB2&quot;&gt;ссылка на quiz&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Clustering factor</title>
   <link href="/clustering-factor/"/>
   <updated>2012-03-09T00:00:00+04:00</updated>
   <id>/clustering-factor</id>
   <content type="html">&lt;p&gt;The clustering factor is the number of times Oracle, when scanning the whole index in order, would have to swap to a different Table block to look up the table record for each index entry. If it is close to the number of blocks in the table, then the clustering factor is low and the order of records in the table matches the order of entries in the index.&lt;/p&gt;

&lt;p&gt;This would make index range scans that need to visit the table reasonably efficient. If the clustering factor is close to the number of records in the table then it means there is no correlation between index order and table row order and such index ranges scans that have to visit the table would be inefficient.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mwidlake.wordpress.com/2011/07/26/iot-2-first-examples-and-proofs/&quot;&gt;Источник&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Баги и странности Informatica Power Center</title>
   <link href="/bugs-and-stangeness-of-informatica/"/>
   <updated>2012-03-09T00:00:00+04:00</updated>
   <id>/bugs-and-stangeness-of-informatica</id>
   <content type="html">&lt;p&gt;За время работы с Informatica Power Center (8.1, 8.6, 9.5) обнаружены следующие баги и особенности работы:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Не работает выборка последнего элемента (use last) в lookup с override SQL с сортировкой по неким полям. Решение — использовать use first и сортировку в обратном порядке (&lt;code&gt;order by ... desc&lt;/code&gt;). – Не совсем точное утверждение, напишу про это отдельный пост.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Если сравнивать тип данных money, пришедший с MS SQL Server с типом double, то цифры могут не сматчиться. Решение — в IPC явно проставлять формат для таких аттрибутов в numeric(19,4). &lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Есть маппинг, реализующий добавление строки в лог-таблицу (Oracle). Размер экстента таблицы 1 мб. Замечено очень странное: при каждом выполнении маппинга (вставка одной строки), количество экстентов увеличивалось на 1. Естественно, в 1-мегабайтный экстент влезет несколько сотен строк, никак ни одна.  Первая мысль — виновато кеширование сиквенса (10000), оказалась ошибочной. Дело было в типе вставки — при смене с булк-режима на нормальный все стало нормально. &lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;В SQL Override лукапа Информатика &lt;s&gt;любит&lt;/s&gt; требует, чтобы у атрибутов были явно заданы алиасы в виде &lt;code&gt;TAB.COLUMN_NAME AS PORT_NAME&lt;/code&gt;. Вот это &lt;code&gt;AS PORT_NAME&lt;/code&gt; для нее играет ключевую роль, иначе выдается ошибка Invalid lookup query override. Похоже, она переписывает SQL перед отправкой его в базу. Столкнулся с этой проблемой, нашел &lt;a href=&quot;http://myinformatica.blogspot.com/2008/03/invalid-lookup-override.html&quot;&gt;здесь&lt;/a&gt; решение этой проблемы.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Если в маппинге есть несколько лукапов на основе одной таблицы, но при этом Source Filter у них будет разный, а Enable Lookup Cache включен, то Информатика будет реюзать кеш для всех остальных лукапов, кроме первого. В итоге, данные будут неправильно лукапиться. Надо посмотреть насчет того, бага это или фича.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Если лукап находится внутри мапплета, то в Source Filter лукапа нельзя использовать параметры мапплета — они не подхватятся. А если писать в Source Override, то подхватятся.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Если в лукапе в Source filter использовать параметры, то они не будут подхватываться. Приходится писать полный SQL override, там параметры подхватываются. Такое поведение только у лукапа, у Source Qualifier таких проблем нет.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

</content>
 </entry>
 
 <entry>
   <title>ALTER TABLE SET UNUSED COLUMN</title>
   <link href="/alter-table-set-unused-column/"/>
   <updated>2012-03-09T00:00:00+04:00</updated>
   <id>/alter-table-set-unused-column</id>
   <content type="html">&lt;p&gt;Вместо инструкции &lt;code&gt;ALTER TABLE tablename DROP COLUMN columnname&lt;/code&gt; для экономии времени возможно использовать инструкцию &lt;code&gt;ALTER TABLE tablename SET UNUSED COLUMN columnname&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;При этом, данные из столбца таблицы физически не удаляются, место на диске не освобождается.  Столбец, который выставили в UNUSED, пропадает из списков столбцов таблицы при использовании &lt;code&gt;DESCRIBE&lt;/code&gt;, пропадает из представлений &lt;code&gt;[USER|ALL|DBA]_TAB_COLUMNS&lt;/code&gt;, и из списка столбцов при выборке &lt;code&gt;SELECT *&lt;/code&gt;. Однако, лимит в 1000 столбцов на одну таблицу включает этот столбец.  Нельзя добавить еще один столбец типа &lt;code&gt;LONG&lt;/code&gt;, если есть неиспользуемый столбец типа &lt;code&gt;LONG&lt;/code&gt;.  Но можно добавить в таблицу новый столбец с тем же именем.&lt;/p&gt;

&lt;p&gt;Посмотреть количество неиспользуемых столбцов можно с помощью представлений &lt;code&gt;[USER|ALL|DBA]_UNUSED_COL_TABS&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Операция &lt;code&gt;ALTER TABLE tablename SET UNUSED COLUMN columnname&lt;/code&gt; необратима, т.е. нельзя сделать &lt;code&gt;ALTER TABLE tablename SET USED COLUMN columnname&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Удалить неиспользуемые столбцы из таблицы можно с помощью &lt;code&gt;ALTER TABLE tablename DROP UNUSED COLUMNS&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://download.oracle.com/docs/cd/B13789_01/server.101/b10759/statements_3001.htm&quot;&gt;Раздел официальной документации&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>TLO vs WhiteRa</title>
   <link href="/tlo-vs-whitera/"/>
   <updated>2012-03-08T00:00:00+04:00</updated>
   <id>/tlo-vs-whitera</id>
   <content type="html">&lt;p&gt;У HuskyStarcraft появилась товарищеская серия “best of 7” между TLO (Z) и WhiteRa (T). Всегда полезно посмотреть, как между собой играют профессионалы. Особенно интересна третья игра, когда TLO построил у экспанда противника хэтчери.&lt;/p&gt;

&lt;p&gt;Даю &lt;a href=&quot;http://www.youtube.com/watch?feature=player_embedded&amp;amp;v=0miCJ46WAqg&quot;&gt;ссылку на первую игру&lt;/a&gt;, ссылки на остальные будут в рекомендованных видео на YouTube.&lt;/p&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;http://www.youtube.com/embed/0miCJ46WAqg&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;
</content>
 </entry>
 
 <entry>
   <title>Чтение 2012</title>
   <link href="/reading-2012/"/>
   <updated>2012-01-09T00:00:00+04:00</updated>
   <id>/reading-2012</id>
   <content type="html">&lt;p&gt;Итак, за год мне надо прочитать:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Jonathan Lewis. Cost-Based Oracle Fundamentals (Expert’s Voice in Oracle)&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;Стефан Кларк. Боже, спаси Америку! Наблюдая за американцами&lt;/em&gt; — брошена как неинтересная&lt;/li&gt;
  &lt;li&gt;Stephen Hawking. A Brief History of Time&lt;/li&gt;
  &lt;li&gt;Ф. М. Достоевский. Преступление и наказание&lt;/li&gt;
  &lt;li&gt;Steven Feuerstein, Bill Pribyl. Oracle PL/SQL Programming&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;Thomas Kyte. Expert Oracle Database Architecture: Oracle Database 9i,
10g, and 11g Programming Techniques and Solutions&lt;/em&gt; — прочитана&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;Виктор Пелевин. S.N.U.F.F.&lt;/em&gt; — прочитана&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;Stephen King. Full Dark No Stars&lt;/em&gt; — прочитана&lt;/li&gt;
  &lt;li&gt;O. Henry. 100 Selected Stories&lt;/li&gt;
  &lt;li&gt;Henry James. Turn of the Screw &amp;amp; the Aspern Papers&lt;/li&gt;
  &lt;li&gt;Jerome K. Jerome. Three Men in a Boat&lt;/li&gt;
  &lt;li&gt;Фрэнсис Скотт Фицджеральд. Великий Гэтсби&lt;/li&gt;
  &lt;li&gt;Иоганн Вольфганг Гете. Страдания юного Вертера. Фауст&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;Stephen King. 11/22/63&lt;/em&gt; — прочитана&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;На первые полгода (до 30 июня 2012) отнесены пп. 1-8.&lt;/p&gt;

&lt;p&gt;В феврале читаю Пелевина и дочитываю Хокинга.&lt;/p&gt;

&lt;p&gt;Из технической документации — Льюиса и Ферштейна. Читаю с февраля по апрель.&lt;/p&gt;

&lt;p&gt;В марте — Преступление и наказание.&lt;/p&gt;

&lt;p&gt;Кинговское “Full Dark No Stars” — первую повесть за январь-февраль. Вторая —
март, третья — апрель, четвертая — май.&lt;/p&gt;

&lt;p&gt;В июне начинаю читать Кинговское 11/22/63. На него отвожу 3 месяца.&lt;/p&gt;

&lt;p&gt;Начиная с 15 июня читаю за каждые 2 дня 1 рассказ О. Генри&lt;/p&gt;

&lt;p&gt;Гете будет летом, июнь-август.&lt;/p&gt;

&lt;p&gt;Фитцджеральд осенью, сентябрь-октябрь.&lt;/p&gt;

&lt;p&gt;Генри Джеймс тоже осенью, а Джером К. Джером на лето.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.goodreads.com/user/show/5503742-pavel-popov&quot;&gt;Мой профиль&lt;/a&gt; на
goodreads.com&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Итоги 2011-го</title>
   <link href="/2011-results/"/>
   <updated>2011-12-30T00:00:00+04:00</updated>
   <id>/2011-results</id>
   <content type="html">&lt;p&gt;Пора подводить итоги 2011-го года.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Фотография&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;В этом году я практически полностью забил на “фотографию”. В начале года из
Китая приехали вспышки/стойки/синхронизаторы и я начинал делать домашнюю
фотостудию, но как-то зима быстро прошла и наступило лето, все закрутилось и
студия так и осталась недоделанной. В итоге, единственной “фотосессией”
стала сессия с Аллой в начале января 2011-го. Я и не жалею, что забросил
фотографию. Я внимательно слежу за друзьями-фотографами, которые продолжают
этим делом заниматься и даже зарабатывать этим на жизнь, и мое впечатление
от всего этого — отвратительно. Мне не нравится все эти фоточки. Мне
нравятся фотосессии из Эсквайра из раздела “фото”, а лытдыбры с девочками
мне не нравятся. Поэтому я перехожу с зеркалки на айфон :-) &lt;/p&gt;

&lt;p&gt;Зеркалку оставил для поездок, когда надо фотографировать она все-таки
удобнее. Купил объектив Сигма 17-50/2.8 у товарища из твиттера, надел его и
остальные стекла так и не одевал больше. &lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Путешествия&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Удалось целых два раза выбраться за пределы нашей необъятной родины. В мае
решили, что надо поехать в теплые страны и довольно спонтанно поехали в
Египет греть свои тела на пляже. Египет порадовал морем, экскурсиями и
отелем. Море потрясающее, гораздо красивее Черного в Одессе и Сочах и
Средиземного в Турции. Плаваешь среди рыбок и кораллов, ныряешь с яхты,
красота. А вот природа в Египте никакая — пустыня. Перелет из Нижнего
запомнился хорошей работой Оренэйр и Б-737 и орущими дамочками на обратном
пути, когда самолет влетал в облака. Почти сразу по приезду из отпуска я
купил билеты на ноябрь в Берлин. Это путешествие было незабываемым. В первый
раз мы все делали сами, без малейшей помощи турагенств. На удивление все
прошло очень гладко, и мы решили, что дальше также будем путешествовать
дикарями. До последнего дня не верилось, что мы летим в Германию. На вылете
Люфтганза заставила нас ждать 6 часов в Домодедово, но под ночь мы таки
прилетели в Берлин. Поплутав в метро, а там есть где заблудиться с первого
раза, мы заселились в очень уютный отель практически в центре города. И
целую неделю мы топтали Берлин и шатали его трубы. Были на Берлинской
телебашне, ходили на купол Рейхтага, в Натуралистическом музее и в Еврейском
музее. Архитектура купола и Еврейского музея поражала мое воображение. В
выходные поехали в Дрезден, погуляли по исторической части города, купили
Наде айфончик, который теперь практически полностью заменил фотокамеру. &lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Работа&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Будучи в Египте, мы с Надей решили, что хватит засиживаться в Нижнем и пора
двигать в Москву, за развитием и на заработки. За месяц я нашел работу,
теперь я в Альфа-Банке и 1 июля мы переехали из Нижнего Новгорода в Москву. &lt;/p&gt;

&lt;p&gt;С веб-разработкой практически завязал. Новые проекты сам не искал, брался за
проектики по знакомству. Интерес к этой сфере у меня практически иссяк. &lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Машина&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Машина в этом году радовала, я несколько раз катался в Саратов и обратно,
потом в Москву на собеседование и, наконец, при переезде загрузил ее по
полной. В Москве она стояла 2 месяца на стоянке под окном и в сентябре было
сделано решение ее продать. За день перед моим днем рождением папа продал ее
практически за ту цену, за которую мы ее покупали 2.5 года назад. 3 полных
летних сезона откатано, пройдено ~25000 км, ни разу она меня не подвела,
ничего не сломалось, не заглохло. Вот вам и ВАЗ. Катались на ней из Саратова
в Нижний и обратно, много раз, в Москву и обратно, 3 раза, в Казань, по
Саратовской области, по Нижегородской области, в Дивеево. &lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Семья&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;С Надей у нас все замечательно, это меня очень радует. Наконец я нашел себя
и успокоился. Она нашла работу по душе, все хорошо. Я научился готовить
потрясающий стейк. &lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Интернеты&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Купил себе айпад 2, Наде айфон 4с. Доволен обеими покупками. Все большую
часть интернетной жизни занимает твиттер. Фактически, вся социальная
активность свелась до твиттера. Пинборд - открытие декабря. Тамблер остался
для забавных картинок. Фликер - очень нравится концепция, но не нравится
ограничение в 200 фотокарточек. Почти ничего не пощу туда. Скайдрайв —
Дропбокс от МС с 25 Гб места. Залью туда все фотографии, предварительно
отсортировав и выбрав лучшие. Остальные банально удалю. Пытался вести
технический блог, но что-то не получается. Новости и статьи читаю только на
айпаде. Начал активно читать тех.литературу по ораклу, тоже благодаря
айпаду. &lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Кино и сериалы&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Кино в этом году отошло на второй план, на первый вышли полнометражные
драматические сериалы. Лютер и Декстер. Даже не знаю, какой из них лучше и
как их сравнивать. Они оба - сериалы этого года для меня. Еще посмотрел
Гримм, Во все тяжкие, БлэкБукс. Ну, и конечно, продолжаю смотреть TBBT и
HIMYM. &lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Английский&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Очень хорошо продвинулся. Активно слушаю подкасты и могу сказать, что
простые тексты и ситкомы могу понимать. Начал читать книжки на английском.
Читаю Хокинга и Кинга. Надо обязательно дочитать в 2012-м.&lt;/p&gt;

</content>
 </entry>
 

</feed>
