<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

 <title>Pavel Popov's Blog</title>
 <link href="/atom.xml" rel="self"/>
 <link href="/"/>
 <updated>2014-08-21T23:11:31+04:00</updated>
 <id></id>
 <author>
   <name>Pavel Popov</name>
   <email>schmooser@gmail.com</email>
 </author>

 
 <entry>
   <title>Testing Dug.js</title>
   <link href="/testing-dug-js/"/>
   <updated>2014-02-14T00:00:00+04:00</updated>
   <id>/testing-dug-js</id>
   <content type="html">
&lt;p&gt;I found on &lt;a href=&quot;https://news.ycombinator.com/item?id=7230411&quot;&gt;Hacker News&lt;/a&gt; the &lt;a href=&quot;http://rog.ie/blog/dugjs-a-jsonp-to-html-script&quot;&gt;Dug.js&lt;/a&gt; – script for transforming JSONP api endpoints to HTML-code.&lt;/p&gt;

&lt;p&gt;Let’s try to use it to embed Flickr set on this page.&lt;/p&gt;

&lt;p&gt;Dug.js uses &lt;code&gt;{{&lt;/code&gt; and &lt;code&gt;}}&lt;/code&gt; as template delimiters, same as Jekyll’s Liquid template engine. So, in order to use them simultaniosly, Dug.js should be set to use some other delimiters. I tried a few different and submit an &lt;a href=&quot;https://github.com/rogie/Dug.js/issues/6&quot;&gt;issue on Github&lt;/a&gt;. Finally I found a &lt;code&gt;&amp;lt;&amp;lt;&lt;/code&gt; and &lt;code&gt;&amp;gt;&amp;gt;&lt;/code&gt; working as it supposed to. I set them inside dug.js itself and create template in Jekyll:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;script&amp;gt;
  dug({
    endpoint: &#39;https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&amp;amp;api_key={{site.flickr_key}}&amp;amp;format=json&amp;amp;photoset_id={{include.set}}&#39;,
    callbackParam: &#39;jsoncallback&#39;,
    template: &#39;&amp;lt;span class=&quot;photos&quot;&amp;gt;\
                 &amp;lt;&amp;lt;#photoset.photo&amp;gt;&amp;gt;\
                   &amp;lt;img src=&quot;http://farm&amp;lt;&amp;lt;farm&amp;gt;&amp;gt;.static.flickr.com/&amp;lt;&amp;lt;server&amp;gt;&amp;gt;/&amp;lt;&amp;lt;id&amp;gt;&amp;gt;_&amp;lt;&amp;lt;secret&amp;gt;&amp;gt;.jpg&quot; alt=&quot;&amp;lt;&amp;lt;title&amp;gt;&amp;gt;&quot; /&amp;gt;\
                 &amp;lt;&amp;lt;/photoset.photo&amp;gt;&amp;gt;\
               &amp;lt;/span&amp;gt;&#39;
  });
&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now, when I want to include Flickr photoset to my post all I have to do is to include this code:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{% include photoset.html set=&amp;lt;FLICKR_SET_ID&amp;gt; %}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Example of the result is here:&lt;/p&gt;

&lt;div id=&quot;set-72157639673699056&quot; data-width=&quot;100%&quot; data-maxwidth=&quot;1200&quot;&gt;&lt;/div&gt;

&lt;script&gt;
    dug({
      endpoint: &#39;https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&amp;api_key=f162f2bd093e4b60d2167158a4d67513&amp;format=json&amp;photoset_id=72157639673699056&#39;,
      callbackParam: &#39;jsoncallback&#39;,
      target: &#39;set-72157639673699056&#39;,
      success: function() {
                 $(&#39;#set-72157639673699056&#39;).fotorama(fotorama_option(&#39;dots&#39;));
               },
      template: dug_template(&#39;dots&#39;, &#39;b&#39;, &#39;photoset&#39;)
    });
&lt;/script&gt;

&lt;div id=&quot;tags-bmwmuseum&quot;&gt;&lt;/div&gt;

&lt;script&gt;
    dug({
      endpoint: &#39;https://api.flickr.com/services/rest/?method=flickr.photos.search&amp;api_key=f162f2bd093e4b60d2167158a4d67513&amp;format=json&amp;user_id=21960065@N03&amp;tags=bmwmuseum&#39;,
      callbackParam: &#39;jsoncallback&#39;,
      target: &#39;tags-bmwmuseum&#39;,
      success: function() {
                 $(&#39;#tags-bmwmuseum&#39;).fotorama(fotorama_option(&#39;thumbs&#39;));
               },
      template: dug_template(&#39;thumbs&#39;, &#39;b&#39;, &#39;photos&#39;)
    });
&lt;/script&gt;

</content>
 </entry>
 
 <entry>
   <title>SSL Sertificate problem in ruby 2.0 on OS X</title>
   <link href="/ssl-sertificate-proble-in-ruby/"/>
   <updated>2013-12-08T00:00:00+04:00</updated>
   <id>/ssl-sertificate-proble-in-ruby</id>
   <content type="html">&lt;p&gt;I’ve experienced problem in ruby 2.0 with SSL Sertificate on OS X while using
gems which get data from HTTPS.&lt;/p&gt;

&lt;p&gt;The error&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;error: SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;occured.&lt;/p&gt;

&lt;p&gt;To solve the problem with brew use:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;brew tap raggi/ale
brew install openssl-osx-ca
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;After applying this everything is fine again. Solution found in
&lt;a href=&quot;https://coderwall.com/p/mpbmxg&quot;&gt;blog by Tadas Tamosauskas&lt;/a&gt;.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Install PIL with JPEG support on CentOS</title>
   <link href="/pil-with-jpeg-on-centos/"/>
   <updated>2013-11-30T00:00:00+04:00</updated>
   <id>/pil-with-jpeg-on-centos</id>
   <content type="html">&lt;p&gt;In order to install PIL with JPEG support on CentOS 6, you need to install these two packages:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# yum install libjpeg-turbo libjpeg-turbo-devel
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Also, &lt;a href=&quot;http://jj.isgeek.net/2011/09/install-pil-with-jpeg-support-on-ubuntu-oneiric-64bits/&quot;&gt;this post&lt;/a&gt; on installing PIL with JPEG on Ubuntu may be helpful.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Direct-Path Insert in Oracle Database</title>
   <link href="/direct-path-insert-in-oracle/"/>
   <updated>2013-11-21T00:00:00+04:00</updated>
   <id>/direct-path-insert-in-oracle</id>
   <content type="html">&lt;p&gt;I found interesting description in Oracle’s &lt;a href=&quot;http://docs.oracle.com/cd/B19306_01/server.102/b14200/statements_9014.htm&quot;&gt;documentation&lt;/a&gt; regarding Direct-Path insert limitations. Direct-Path insert can be done via &lt;code&gt;insert /*+ append */ into table ...&lt;/code&gt; or via &lt;a href=&quot;http://iseetheline.ru/speed-of-direct-path-load/&quot;&gt;SQL*Loader&lt;/a&gt; or by Informatica PowerCenter by specifying bulk insert type.&lt;/p&gt;

&lt;p&gt;Here they are:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;h3 id=&quot;conventional-and-direct-path-insert&quot;&gt;Conventional and Direct-Path INSERT&lt;/h3&gt;

  &lt;p&gt;You can use the INSERT statement to insert data into a table, partition, or view in two ways: conventional INSERT and direct-path INSERT. When you issue a conventional INSERT statement, Oracle Database reuses free space in the table into which you are inserting and maintains referential integrity constraints. With direct-path INSERT, the database appends the inserted data after existing data in the table. Data is written directly into datafiles, bypassing the buffer cache. Free space in the existing data is not reused. This alternative enhances performance during insert operations and is similar to the functionality of the Oracle direct-path loader utility, SQL*Loader.&lt;/p&gt;

  &lt;p&gt;Direct-path INSERT is subject to a number of restrictions. If any of these restrictions is violated, then Oracle Database executes conventional INSERT serially without returning any message, unless otherwise noted:&lt;/p&gt;

  &lt;ul&gt;
    &lt;li&gt;
      &lt;p&gt;You can have multiple direct-path INSERT statements in a single transaction, with or without other DML statements. However, after one DML statement alters a particular table, partition, or index, no other DML statement in the transaction can access that table, partition, or index.&lt;/p&gt;
    &lt;/li&gt;
    &lt;li&gt;
      &lt;p&gt;Queries that access the same table, partition, or index are allowed before the direct-path INSERT statement, but not after it.&lt;/p&gt;
    &lt;/li&gt;
    &lt;li&gt;
      &lt;p&gt;If any serial or parallel statement attempts to access a table that has already been modified by a direct-path INSERT in the same transaction, then the database returns an error and rejects the statement.&lt;/p&gt;
    &lt;/li&gt;
    &lt;li&gt;
      &lt;p&gt;The target table cannot be index organized or part of a cluster.&lt;/p&gt;
    &lt;/li&gt;
    &lt;li&gt;
      &lt;p&gt;The target table cannot contain object type columns.&lt;/p&gt;
    &lt;/li&gt;
    &lt;li&gt;
      &lt;p&gt;The target table cannot have any triggers or referential integrity constraints defined on it.&lt;/p&gt;
    &lt;/li&gt;
    &lt;li&gt;
      &lt;p&gt;The target table cannot be replicated.&lt;/p&gt;
    &lt;/li&gt;
    &lt;li&gt;
      &lt;p&gt;A transaction containing a direct-path INSERT statement cannot be or become distributed.&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

</content>
 </entry>
 
 <entry>
   <title>Creating non-reusable object from reusable object in Informatica</title>
   <link href="/creating-non-reusable-object-from-reusable-object-in-informatica/"/>
   <updated>2013-11-19T00:00:00+04:00</updated>
   <id>/creating-non-reusable-object-from-reusable-object-in-informatica</id>
   <content type="html">&lt;p&gt;After two years of working with Informatica PowerCenter I finally found the way to create non-reusable object from reusable one. It works for transformations as well as for sessions.&lt;/p&gt;

&lt;p&gt;The solution was found in &lt;a href=&quot;http://www.folkstalk.com/2010/04/creating-non-reusable-object-from.html&quot;&gt;FolksTalk blog&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;All you’ve got to do is to locate an object you want to create as non-reusable in Navigator Window (panel with object tree) and drag your reusable object to your working area with mapping/mapplet/workflow/worklet opened. After drag to working area but before drop press Control (plus sign will appear at the mouse pointer) and release the mouse. The confirmation dialog “Are you want to copy?” will appear. Press Yes and you’ll get non-reusable version of reusable object.&lt;/p&gt;

&lt;p&gt;This tip saves me a lot of time while developing in Informatica PowerCenter.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Pin and unpin objects in Microsoft VSS</title>
   <link href="/pin-and-unpin-objects-in-vss/"/>
   <updated>2013-10-21T00:00:00+04:00</updated>
   <id>/pin-and-unpin-objects-in-vss</id>
   <content type="html">&lt;p&gt;At work we have to use Microsoft’s VCS – VSS (Visual Source Safe).
To make patch we have to &lt;em&gt;pin&lt;/em&gt; all objects patch consists of. Manually,
it can be done this way: go to history of file (one click), choose OK (second click)
in History Options and then click Pin (third click). Then close window with Close
(fourth click).&lt;/p&gt;

&lt;p&gt;Fortunately, the same thing can be done via command-line interface.&lt;/p&gt;

&lt;p&gt;Here are two batch-files, one for pin all files in project, another to
unpin all files. You should pass full path to project to work with.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;pin_all.bat&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;set ssdir=\\PATH\TO\REPOSITORY
if %1==&quot;&quot; GOTO ERR
chcp 1251
&quot;c:\Program Files\Microsoft Visual SourceSafe\ss&quot; label %1 -LTMP_LABEL -C- 
&quot;c:\Program Files\Microsoft Visual SourceSafe\ss&quot; pin %1/*.* -VLTMP_LABEL -G-
&quot;c:\Program Files\Microsoft Visual SourceSafe\ss&quot; label %1 -L -VLTMP_LABEL -I-Y
:ERR
pause
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;unpin_all.bat&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;set ssdir=\\PATH\TO\REPOSITORY
if %1==&quot;&quot; GOTO ERR
chcp 1251
&quot;c:\Program Files\Microsoft Visual SourceSafe\ss&quot; unpin %1/*.* -G-
:ERR
pause
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Of course, you should place correct path to &lt;code&gt;ss&lt;/code&gt; executable.&lt;/p&gt;

&lt;p&gt;Usage:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;C:&amp;gt; pin_all.bat &quot;$/Patches/v1.123&quot;
C:&amp;gt; unpin_all.bat &quot;$/Patches/v1.123&quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;By default VSS doesn’t operate on projects recursively. If your patch consists of multiple
folders consider turning on operation on projects recursively in VSS’s options. Then &lt;code&gt;pin_all&lt;/code&gt;
and &lt;code&gt;unpin_all&lt;/code&gt; will operate on folder you provide and all of it’s ancestors.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>LaTeX on CentOS</title>
   <link href="/tex-on-centos/"/>
   <updated>2013-10-20T00:00:00+04:00</updated>
   <id>/tex-on-centos</id>
   <content type="html">&lt;p&gt;I’ve installed TeX on CentOS 6.3.&lt;/p&gt;

&lt;p&gt;Just do the following:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# yum install texlive, texlive-latex
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;and you got working TeX.&lt;/p&gt;

&lt;p&gt;To compile your tex file into pdf use:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ pdflatex yourfile.tex
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;and you’ll get &lt;code&gt;youfile.pdf&lt;/code&gt; as a result.&lt;/p&gt;

&lt;p&gt;–&lt;/p&gt;

&lt;p&gt;Unfortunately, CentOS 6 comes with TeX Live 2007 system. It’s very outdated
version and it misses some packages, so I installed full version of &lt;a href=&quot;http://www.tug.org/texlive/&quot;&gt;TeX Live
2013&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;One thing to mention is the importance of choosing correct &lt;a href=&quot;http://ctan.org/mirrors&quot;&gt;CTAN
Mirror&lt;/a&gt;. If you set correct mirror you’ll install a
way more faster (up to 10x) then using default mirror.&lt;/p&gt;

&lt;p&gt;Full installation on virtual machine hosted at Digital Ocean in Amsterdam takes
about 14 minutes when using CTAN Mirror located in Netherlands. Using default
mirror estimates at about 2 hours.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Aggregate functions in Oracle on empty data set</title>
   <link href="/oracle-aggregate-functions-on-empty-set/"/>
   <updated>2013-10-01T00:00:00+04:00</updated>
   <id>/oracle-aggregate-functions-on-empty-set</id>
   <content type="html">&lt;p&gt;I found an interesting thing about aggregate functions in Oracle. I knew then
when you invoke &lt;code&gt;count(*)&lt;/code&gt; you’ll always get rows - at least one - even if
result set is empty (no rows are returned). In this case you’ll get 0 rows in
count, it’s expected and easy-to-think-of behaviour.&lt;/p&gt;

&lt;p&gt;But I thought that when you invoke other than &lt;code&gt;count(*)&lt;/code&gt; aggregate function e.g.
&lt;code&gt;max(1)&lt;/code&gt; on empty result set then you’ll get no rows at all. I was wrong and in
this case you’ll get one row with NULL as it’s result. I think it’s the ISO
standard that says that when you apply aggregate function there can’t be empty
set in result.&lt;/p&gt;

&lt;p&gt;Examples:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; SELECT count(*) FROM dual WHERE 1=2;

COUNT(*)
--------
       0

SQL&amp;gt; SELECT max(1) FROM dual WHERE 1=2;

MAX(1)
------
       &amp;lt;- Here is 1 row with NULL value
&lt;/code&gt;&lt;/pre&gt;

</content>
 </entry>
 
 <entry>
   <title>Using Vorax in OS X</title>
   <link href="/vorax/"/>
   <updated>2013-06-16T00:00:00+04:00</updated>
   <id>/vorax</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://vorax-ide.blogspot.com&quot;&gt;Vorax&lt;/a&gt; is a plugin for vim which turns it to full-featured Oracle IDE
on your fingertips. It merges SQL*Plus functionality inside vim in native way.
Now version 4 is under active development.&lt;/p&gt;

&lt;p&gt;But it’s kind of geeky to use it and install. I used to use it on Windows
environment and it was kind of pain. But Windows has dozen of good Oracle
IDE’s, like TOAD or PL/SQL Developer. Now I’m on OS X and the only option is
Oracle’s SQL Developer which is free but has terrible UI and bad performance.
That’s why I decided to try Vorax again.&lt;/p&gt;

&lt;p&gt;After about a month of wars with environment, different ruby versions, and so
on, I finally made all work and will cover what I did here.&lt;/p&gt;

&lt;p&gt;First of all, I tried to use &lt;a href=&quot;https://mxcl.github.io/homebrew/&quot;&gt;homebrew&lt;/a&gt; as OS X package manager.
It’s very simple and useful. Go use it.&lt;/p&gt;

&lt;p&gt;I also switched from bash to zsh. At the first time I used &lt;a href=&quot;https://github.com/robbyrussell/oh-my-zsh&quot;&gt;oh-my-zsh&lt;/a&gt;
as the set of extensions. Then I switched to &lt;a href=&quot;https://github.com/skwp/dotfiles&quot;&gt;yadr&lt;/a&gt; which brings a lot of
other staff, such as dozens of vim plugins, config files for git, hg, svn, tons
of shortcuts and so on. After using it about for about a three weeks I decided
that I want control of myself on whole this mess and deleted almost all
dot-started files and dirs from my HOME. And started a new life. I installed
oh-my-zsh again and tweaked it. I also put all my dotfiles into a separate
directory and put it on &lt;a href=&quot;https://github.com/schmooser/rbddotfiles&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;All this on Vorax is also worked on Windows. See
[here][install-vorax-on-windows] for the installation
process of Vorax on Windows.&lt;/p&gt;

&lt;h2 id=&quot;vorax&quot;&gt;Vorax&lt;/h2&gt;

&lt;p&gt;There is an issue with Vorax and MacVim installed via homebrew. Such MacVim is
compiled with system Ruby, which is 1.8 and is not supported by Vorax. I have
RVM with Ruby 1.9.3 which is ok, but homebrew’s MacVim doesn’t see it. That’s a
known issue and the way to go around it is to compile MacVim manually. I did it
as described in &lt;a href=&quot;https://github.com/b4winckler/macvim/wiki/Building&quot;&gt;manual&lt;/a&gt; and now it works with Vorax.&lt;/p&gt;

&lt;p&gt;I also made shell script &lt;a href=&quot;https://github.com/schmooser/rbddotfiles/blob/master/vorax.sh&quot;&gt;&lt;code&gt;vorax.sh&lt;/code&gt;&lt;/a&gt; (and aliased it with &lt;code&gt;vorax&lt;/code&gt;)
to start MacVim with Vorax plugin loaded because I don’t always need Oracle and
Vorax and there are some problems in OS X with &lt;code&gt;DYLD_LIBRARY_PATH&lt;/code&gt;. See
&lt;a href=&quot;/sqlplus-on-os-x/&quot;&gt;this post&lt;/a&gt; for details.&lt;/p&gt;

&lt;p&gt;Here I will explain tips and tricks to work with Vorax. I use
&lt;a href=&quot;https://github.com/talek/vorax4-beta&quot;&gt;Vorax4-beta&lt;/a&gt; and it doesn’t have all features for now, so I use
only those, which present.&lt;/p&gt;

&lt;h3 id=&quot;basic-usage&quot;&gt;Basic usage&lt;/h3&gt;

&lt;p&gt;In sql-buffer (file with sql extension) Vorax determines command and send them
to SQL*Plus. &lt;code&gt;,e&lt;/code&gt; executes something under cursor. It can be SELECT statement,
DML or DDL statement, PL/SQL block or SQL*Plus command.&lt;/p&gt;

&lt;h3 id=&quot;using-omnicompletion&quot;&gt;Using omnicompletion&lt;/h3&gt;

&lt;p&gt;To use omnicompletion use &lt;code&gt;&amp;lt;C-x&amp;gt;&amp;lt;C-o&amp;gt;&lt;/code&gt;. If it will find something to find, it’ll
show you a dialog to complete. Look at screenshot:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/vorax/omnicompletion.png&quot; alt=&quot;Vorax screenshot&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;explain-plan&quot;&gt;Explain Plan&lt;/h3&gt;

&lt;p&gt;To explain execution plan I do the following:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Append &lt;code&gt;explain plan for&lt;/code&gt; before SQL statement and execute it. The result is &lt;code&gt;Explained&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Do &lt;code&gt;select * from table(dbms_xplan.display);&lt;/code&gt;. The output is the desired plan.&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;vorax-configuration&quot;&gt;Vorax configuration&lt;/h3&gt;

&lt;p&gt;I use this Vorax-specified settings in my &lt;code&gt;.vimrc&lt;/code&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;let g:vorax_output_window_default_funnel = 2 &quot; This sets up Vorax to use PAGEZIP default output window style&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;set omnifunc=syntaxcomplete#Complete &quot; Enables autocompletion&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;To be continued…&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Installing Oracle Instant Client and python's cx_Oracle on OS X Mountain Lion</title>
   <link href="/installing-cx_oracle-on-os-x/"/>
   <updated>2013-06-13T00:00:00+04:00</updated>
   <id>/installing-cx_oracle-on-os-x</id>
   <content type="html">&lt;p&gt;I’ve encountered some problems with installing cx_Oracle python module on OS X Mountain Lion.&lt;/p&gt;

&lt;p&gt;There are many &lt;a href=&quot;http://mechanicalcat.net/richard/log/Python/Compiling_cx_Oracle_on_OS_X&quot;&gt;hints&lt;/a&gt;, &lt;a href=&quot;http://stackoverflow.com/questions/8169946/cant-get-cx-oracle-to-work-with-python-version-2-7-mac-os-10-7-2-lion-mis&quot;&gt;tips&lt;/a&gt; and &lt;a href=&quot;http://www.iceycake.com/2012/02/tutorial-how-to-install-cx_oracle-python-on-mac-os-x-lion/&quot;&gt;tutorials&lt;/a&gt;, which covers installation process, but none of them worked for me.&lt;/p&gt;

&lt;p&gt;But the straightforward way worked:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Download all parts of 64-bit &lt;a href=&quot;http://www.oracle.com/technetwork/topics/intel-macsoft-096467.html&quot;&gt;Oracle Instant Client&lt;/a&gt; version 11.2&lt;/li&gt;
  &lt;li&gt;Unzip all in some folder, I unzipped in &lt;code&gt;/usr/local/oracle/instantclient_11_2_x64/instantclient_11_2&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Create a bash script with environment variables. I named mine &lt;code&gt;.sqlplus.env&lt;/code&gt; and load it when needed (more in &lt;a href=&quot;/sqlplus-on-os-x/&quot;&gt;this post&lt;/a&gt;):&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;# adding sqlplus variables when they needed
export ORACLE_HOME=/usr/local/oracle/instantclient_11_2_x64/instantclient_11_2
export SQLPATH=$ORACLE_HOME
export LD_LIBRARY_PATH=$ORACLE_HOME
export DYLD_LIBRARY_PATH=$ORACLE_HOME
export TNS_ADMIN=/usr/local/oracle/network/admin
export NLS_LANG=AMERICAN_AMERICA.UTF8
export VERSIONER_PYTHON_PREFER_32_BIT=yes
export PATH=$SQLPATH:$PATH
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;Load it with &lt;code&gt;$ . ~/.sqlplus.env&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Go to $ORACLE_HOME and create symlink named &lt;code&gt;libclntsh.dylib&lt;/code&gt; on &lt;code&gt;ibclntsh.dylib.11.1&lt;/code&gt;:&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;ln -s libclntsh.dylib.11.1 libclntsh.dylib
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Install cx_Oracle:&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;~ » pip install cx_Oracle
Downloading/unpacking cx-Oracle
  Downloading cx_Oracle-5.1.2.tar.gz (208kB): 208kB downloaded
  Running setup.py egg_info for package cx-Oracle

Installing collected packages: cx-Oracle
  Running setup.py install for cx-Oracle
    building &#39;cx_Oracle&#39; extension
    cc -fno-strict-aliasing -fno-common -dynamic -I/usr/local/include -I/usr/local/opt/sqlite/include -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -I/usr/local/oracle/instantclient_11_2_x64/instantclient_11_2/sdk/include -I/usr/local/Cellar/python/2.7.5/Frameworks/Python.framework/Versions/2.7/include/python2.7 -c cx_Oracle.c -o build/temp.macosx-10.8-x86_64-2.7-11g/cx_Oracle.o -DBUILD_VERSION=5.1.2
    cc -bundle -undefined dynamic_lookup -L/usr/local/lib -L/usr/local/opt/sqlite/lib build/temp.macosx-10.8-x86_64-2.7-11g/cx_Oracle.o -L/usr/local/oracle/instantclient_11_2_x64/instantclient_11_2 -lclntsh -o build/lib.macosx-10.8-x86_64-2.7-11g/cx_Oracle.so -shared-libgcc

Successfully installed cx-Oracle
Cleaning up...
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Check if all is running:&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;~ » python
Python 2.7.5 (default, Jun  8 2013, 12:45:21)
[GCC 4.2.1 Compatible Apple LLVM 4.2 (clang-425.0.28)] on darwin
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&amp;gt;&amp;gt;&amp;gt; import cx_Oracle
&amp;gt;&amp;gt;&amp;gt; exit()
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;If there are some errors, try methods described in the links above. You may need to recompile &lt;code&gt;cx_Oracle&lt;/code&gt;. To do this uninstall it with &lt;code&gt;pip uninstall cx_Oracle&lt;/code&gt;, remove pip’s cache via&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ rm -rf $TMPDIR/pip-build-{username}/
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;and then try to install &lt;code&gt;cx_Oracle&lt;/code&gt; again.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Increasing memory available for Oracle XE 11g</title>
   <link href="/increasing-memory-of-oracle-xe/"/>
   <updated>2013-06-11T00:00:00+04:00</updated>
   <id>/increasing-memory-of-oracle-xe</id>
   <content type="html">&lt;p&gt;Suppose, you created virtual machine with 1G of RAM and installed Oracle XE on it. In this case Oracle supposedly will use only 512M of RAM. This happened on my CentOS installation.&lt;/p&gt;

&lt;p&gt;Then suppose you upgraded your server to 2G and want to allow Oracle to use it’s maximum of 1G RAM. 
To get this do the following:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Check your parameters &lt;code&gt;MEMORY_TARGET&lt;/code&gt; and &lt;code&gt;MEMORY_MAX_TARGET&lt;/code&gt;. Mine was set to ~400M both. You need to increase them to 1G. Due to unavailability to set &lt;code&gt;MEMORY_MAX_TARGET&lt;/code&gt; in runtime we have to set it in spfile and restart the instance.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Set parameters:&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;SQL&amp;gt; ALTER SYSTEM SET MEMORY_MAX_TARGET=1G SCOPE=SPFILE;
SQL&amp;gt; ALTER SYSTEM SET MEMORY_TARGET=1G SCOPE=SPFILE;
SQL&amp;gt; SHUTDOWN IMMEDIATE;
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Check for available shared memory in order to pass through ORA-00845. Use &lt;code&gt;df -h&lt;/code&gt; and look for size of &lt;code&gt;/dev/shm&lt;/code&gt;. It should be at least as your &lt;code&gt;MEMORY_TARGET&lt;/code&gt; size. If it’s lesser — increase it with&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;# umount /dev/shm
# mount /dev/shm -o size=2048m
&lt;/code&gt;&lt;/pre&gt;

    &lt;p&gt;Also be sure to set size in &lt;code&gt;/etc/fstab&lt;/code&gt;:&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;none             /dev/shm      tmpfs   defaults,size=2048m          0 0
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Startup Oracle. It should now use 1G for &lt;code&gt;MEMORY_TARGET&lt;/code&gt;.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;
</content>
 </entry>
 
 <entry>
   <title>Quick sort in Haskell and Python</title>
   <link href="/quick-sort/"/>
   <updated>2013-06-07T00:00:00+04:00</updated>
   <id>/quick-sort</id>
   <content type="html">&lt;p&gt;While reading &lt;a href=&quot;http://learnyouahaskell.com/chapters&quot;&gt;Learn you a Haskell for great good&lt;/a&gt; I found &lt;a href=&quot;http://learnyouahaskell.com/recursion#quick-sort&quot;&gt;realization&lt;/a&gt; of quick sort algorithm. It’s easy to understand in terms of recursion – for each element sorted array is &lt;code&gt;&quot;sorted array of elements which are less then current&quot; + &quot;current element&quot; + &quot;sorted array of elements which are greater or equal then current&quot;&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Realization in Haskell:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;quicksort :: (Ord a) =&amp;gt; [a] -&amp;gt; [a]  
quicksort [] = []  
quicksort (x:xs) =   
    let smallerSorted = quicksort [a | a &amp;lt;- xs, a &amp;lt;= x]  
        biggerSorted = quicksort [a | a &amp;lt;- xs, a &amp;gt; x]  
    in  smallerSorted ++ [x] ++ biggerSorted
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;I tried to realize this in Python. That’s what I get:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;def qsort(input):
  if input == []: return [] 
  x, xs = input[0], input[1:]
  bigger = qsort(filter(lambda e: e &amp;gt;= x, [ a for a in xs ]))
  smaller = qsort(filter(lambda e: e &amp;lt; x, [ a for a in xs ]))
  return smaller + [x] + bigger
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;It works pretty well:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; qsort([4,2,6,3,6,4,23,76,3,5,2])
[2, 2, 3, 3, 4, 4, 5, 6, 6, 23, 76]    
&amp;gt;&amp;gt;&amp;gt; qsort(&#39;Sample text&#39;)
[&#39; &#39;, &#39;S&#39;, &#39;a&#39;, &#39;e&#39;, &#39;e&#39;, &#39;l&#39;, &#39;m&#39;, &#39;p&#39;, &#39;t&#39;, &#39;t&#39;, &#39;x&#39;]
&lt;/code&gt;&lt;/pre&gt;

</content>
 </entry>
 
 <entry>
   <title>Install Oracle 11g Express (XE) on CentOS</title>
   <link href="/install-oracle-xe-on-centos-6/"/>
   <updated>2013-05-24T00:00:00+04:00</updated>
   <id>/install-oracle-xe-on-centos-6</id>
   <content type="html">&lt;blockquote&gt;
  &lt;p&gt;This is full copy of the &lt;a href=&quot;http://www.davidghedini.com/pg/entry/install_oracle_11g_xe_on&quot;&gt;post&lt;/a&gt; by David Ghedini for backup purposes.&lt;/p&gt;

  &lt;p&gt;Refer to &lt;a href=&quot;/installing-oracle-xe-11gr2-on-centos-6/&quot;&gt;my post&lt;/a&gt; about swap file on server and localhost’s name.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;This post will cover basic installation and configuration of Oracle 11g Express Edition (XE) on CentOS.&lt;/p&gt;

&lt;p&gt;We will also take a quick look at configuring Application Express (APEX) for 11g XE.&lt;/p&gt;

&lt;p&gt;Basic installation is straight forward.&lt;/p&gt;

&lt;p&gt;If you just want to get up and running, you can just do steps 1 to 4 below (and 10 and 11 for Apex). The remaining steps (5 to 9) cover basic backup, recovery, and performance configuration.&lt;/p&gt;

&lt;p&gt;The full system requirements are &lt;a href=&quot;http://download.oracle.com/docs/cd/E17781_01/install.112/e18802/toc.htm&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Your CentOS box should have swap equal to 2xRAM. &lt;em&gt;(look at &lt;a href=&quot;/installing-oracle-xe-11gr2-on-centos-6/&quot;&gt;my post&lt;/a&gt;)&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;On every CentOS installation I have done for XE, I just needed to update/install the packages for libaio, bc, and flex.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[root@ms3 ~]#  yum install libaio bc flex
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;step-1-download-and-install-oracle-11g-xe-rpm&quot;&gt;Step 1: Download and Install Oracle 11g XE rpm&lt;/h2&gt;

&lt;p&gt;You can download the Oracle XE rpm, &lt;code&gt;oracle-xe-11.2.0-1.0.x86_64.rpm.zip&lt;/code&gt;, from the OTN [here][download-xe].&lt;/p&gt;

&lt;p&gt;Unzip &lt;code&gt;oracle-xe-11.2.0-1.0.x86_64.rpm.zip&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[root@ms3 ~]# unzip -q oracle-xe-11.2.0-1.0.x86_64.rpm.zip
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This will create the directory &lt;code&gt;Disk1&lt;/code&gt;. Change to the &lt;code&gt;Disk1&lt;/code&gt; directory:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[root@ms3 ~]# cd Disk1  
[root@ms3 Disk1]# ls  
oracle-xe-11.2.0-1.0.x86_64.rpm  response  upgrade  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Install the rpm using &lt;code&gt;rpm -ivh oracle-xe-11.2.0-1.0.x86_64.rpm&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[root@ms3 Disk1]# rpm -ivh oracle-xe-11.2.0-1.0.x86_64.rpm  
Preparing...                ###################### [100%]  
   1:oracle-xe              ###################### [100%]  
Executing post-install steps...  
You must run &#39;/etc/init.d/oracle-xe configure&#39; as the root user to configure the database.

[root@ms3 Disk1]#  
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;step-2-configure-11g-xe-database-and-options&quot;&gt;Step 2: Configure 11g XE Database and Options&lt;/h2&gt;

&lt;p&gt;When installation completes, run &lt;code&gt;/etc/init.d/oracle-xe configure&lt;/code&gt; to configure and start the database.&lt;/p&gt;

&lt;p&gt;Unless you wish to change the ports, except the defaults and set SYS/SYSTEM password. &lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[root@ms3 Disk1]# /etc/init.d/oracle-xe configure

Oracle Database 11g Express Edition Configuration
-------------------------------------------------
This will configure on-boot properties of Oracle Database 11g Express
Edition.  The following questions will determine whether the database should
be starting upon system boot, the ports it will use, and the passwords that
will be used for database accounts.  Press &amp;lt;enter&amp;gt; to accept the defaults.
Ctrl-C will abort.

Specify the HTTP port that will be used for Oracle Application Express [8080]:

Specify a port that will be used for the database listener [1521]:

Specify a password to be used for database accounts.  Note that the same
password will be used for SYS and SYSTEM.  Oracle recommends the use of
different passwords for each database account.  This can be done after
initial configuration:
Confirm the password:

Do you want Oracle Database 11g Express Edition to be started on boot (y/n) [y]:y

Starting Oracle Net Listener...Done
Configuring database...Done
Starting Oracle Database 11g Express Edition instance...Done
Installation completed successfully.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The installation created the directory &lt;code&gt;/u01&lt;/code&gt; under which Oracle XE is installed.&lt;/p&gt;

&lt;h2 id=&quot;step-3-set-the-environment&quot;&gt;Step 3: Set the Environment&lt;/h2&gt;

&lt;p&gt;To set the required Oracle environment variables, use the &lt;code&gt;oracle_env.sh&lt;/code&gt; script included under &lt;code&gt;/u01/app/oracle/product/11.2.0/xe/bin&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[root@ms3 Disk1]# cd /u01/app/oracle/product/11.2.0/xe/bin  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To set the environment for your current session run:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[root@ms3 bin]# . ./oracle_env.sh  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To set the environment permanently for users, add the following to the &lt;code&gt;.bashrc&lt;/code&gt; or &lt;code&gt;.bash_profile&lt;/code&gt; of the users you want to access the environment:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;. /u01/app/oracle/product/11.2.0/xe/bin/oracle_env.sh  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You should now be able to access SQL*Plus:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[root@ms3 bin]# sqlplus /nolog  
  
SQL*Plus: Release 11.2.0.2.0 Production on Wed Sep 21 08:17:26 2011  
  
Copyright (c) 1982, 2011, Oracle.  All rights reserved.  
  
SQL&amp;gt; connect sys/&amp;lt;password&amp;gt; as sysdba  
Connected.  
SQL&amp;gt;  
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;step-4-allow-remote-access-to-oracle-11g-xe-gui&quot;&gt;Step 4: Allow Remote Access to Oracle 11g XE GUI&lt;/h2&gt;

&lt;p&gt;To allow remote access to Oracle 11g XE GUI (as well as Application Express GUI) issue the following from SQL*Plus:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; EXEC DBMS_XDB.SETLISTENERLOCALACCESS(FALSE);  
  
PL/SQL procedure successfully completed.  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You should now be able to access the Oracle 11g XE Home Page GUI at:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;http://localhost:8080/apex/f?p=4950:1 -- note the port you&#39;ve set during installation
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Replace &lt;code&gt;localhost&lt;/code&gt; above with your IP or domain as required.&lt;/p&gt;

&lt;p&gt;Log in as &lt;code&gt;SYSTEM&lt;/code&gt; using the password you selected in Step 2 above.&lt;/p&gt;

&lt;h2 id=&quot;step-5-move-the-flash-recovery-area-fast-recovery-area&quot;&gt;Step 5: Move the Flash Recovery Area (Fast Recovery Area)&lt;/h2&gt;

&lt;p&gt;To protect against disk failure, you should move the Flash Recovery Area to a separate disk.&lt;/p&gt;

&lt;p&gt;This is actually now called the Fast Recovery Area, but the existing documentation still refers to it as the Flash Recovery Area&lt;/p&gt;

&lt;p&gt;If a separate disk is not in your budget you should, at the very least, move the Flash Recovery Area to a partition other than the Oracle installation directory.&lt;/p&gt;

&lt;p&gt;By default, the Fast Recovery Area will be located under &lt;code&gt;/u01/app/oracle/fast_recovery_area&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; show parameter DB_RECOVERY_FILE_DEST;  
  
NAME                                 TYPE        VALUE  
------------------------------------ ----------- ------------------------------  
db_recovery_file_dest                string      /u01/app/oracle/fast_recovery_area  
db_recovery_file_dest_size           big integer 10G  
SQL&amp;gt;  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;So, to move it elsewhere, first create the new directory&lt;/p&gt;

&lt;p&gt;[root@ms3 ~]# mkdir /opt/fra  &lt;/p&gt;

&lt;p&gt;Change the owner to oracle and the group to dba &lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[root@ms3 ~]# chown oracle:dba /opt/fra  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now, change the &lt;code&gt;DB_RECOVERY_FILE_DEST&lt;/code&gt; to the location you selected above.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; ALTER SYSTEM SET DB_RECOVERY_FILE_DEST = &#39;/opt/fra&#39;;  
  
System altered.  
  
SQL&amp;gt;  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To move the files use the &lt;code&gt;movelog.sql&lt;/code&gt; script:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; @?/sqlplus/admin/movelogs  
SQL&amp;gt; SET FEEDBACK 1  
SQL&amp;gt; SET NUMWIDTH 10  
SQL&amp;gt; SET LINESIZE 80  
SQL&amp;gt; SET TRIMSPOOL ON  
SQL&amp;gt; SET TAB OFF  
SQL&amp;gt; SET PAGESIZE 100  
SQL&amp;gt; declare  
  2     cursor rlc is  
  3        select group# grp, thread# thr, bytes/1024 bytes_k  
  4          from v$log  
  5        order by 1;  
  6     stmt     varchar2(2048);  
  7     swtstmt  varchar2(1024) := &#39;alter system switch logfile&#39;;  
  8     ckpstmt  varchar2(1024) := &#39;alter system checkpoint global&#39;;  
  9  begin  
 10     for rlcRec in rlc loop  
 11    stmt := &#39;alter database add logfile thread &#39; ||  
 12                 rlcRec.thr || &#39; size &#39; ||  
 13                 rlcRec.bytes_k || &#39;K&#39;;  
 14        execute immediate stmt;  
 15        begin  
 16           stmt := &#39;alter database drop logfile group &#39; || rlcRec.grp;  
 17           execute immediate stmt;  
 18        exception  
 19           when others then  
 20              execute immediate swtstmt;  
 21              execute immediate ckpstmt;  
 22              execute immediate stmt;  
 23        end;  
 24        execute immediate swtstmt;  
 25     end loop;  
 26  end;  
 27  /  
  
PL/SQL procedure successfully completed.  
  
SQL&amp;gt;  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now, set an appropriate size for the Fast Recovery Area. Use &lt;code&gt;df -h&lt;/code&gt; to insure that there is ample space.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; ALTER SYSTEM SET DB_RECOVERY_FILE_DEST_SIZE = 20G;  
  
System altered.  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Verify the new location and size. &lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; show parameter DB_RECOVERY_FILE_DEST;  
  
NAME                                 TYPE        VALUE  
------------------------------------ ----------- ------------------------------  
db_recovery_file_dest                string      /opt/fra  
db_recovery_file_dest_size           big integer 20G  
SQL&amp;gt;  
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;step-6-add-redo-log-members-to-groups&quot;&gt;Step 6: Add Redo Log Members to Groups&lt;/h2&gt;

&lt;p&gt;You should have at least two Redo Log Groups and each group should have at least two members.&lt;/p&gt;

&lt;p&gt;Additionally, the members should be spread across disks (or at least directories)&lt;/p&gt;

&lt;p&gt;For whatever reason, only one member is created per group on install.&lt;/p&gt;

&lt;p&gt;You can view the redo log files using &lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; SELECT * FROM V$LOGFILE;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Since the default location for the two members is the Flash Recovery Area, the two existing members have been moved to our new FRA.&lt;/p&gt;

&lt;p&gt;You should now add an additional member for each group under &lt;code&gt;/u01/app/oracle/oradata/XE&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; ALTER DATABASE ADD LOGFILE MEMBER &#39;/u01/app/oracle/oradata/XE/log1b.LOG&#39; TO GROUP 1;  
  
Database altered.  
  
SQL&amp;gt; ALTER DATABASE ADD LOGFILE MEMBER &#39;/u01/app/oracle/oradata/XE/log2b.LOG&#39; TO GROUP 2;  
  
Database altered.  
  
SQL&amp;gt;  
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;step-7-set-sessions-and-processes-parameters&quot;&gt;Step 7: Set Sessions and Processes Parameters&lt;/h2&gt;

&lt;p&gt;The default values for parameters and sessions is quite low on the default installation.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; show parameters sessions;  
  
NAME                                 TYPE        VALUE  
------------------------------------ ----------- ------------------------------  
java_max_sessionspace_size           integer     0  
java_soft_sessionspace_limit         integer     0  
license_max_sessions                 integer     0  
license_sessions_warning             integer     0  
sessions                             integer     172  
shared_server_sessions               integer  
  
SQL&amp;gt; show parameters processes;  
  
NAME                                 TYPE        VALUE  
------------------------------------ ----------- ------------------------------  
aq_tm_processes                      integer     0  
db_writer_processes                  integer     1  
gcs_server_processes                 integer     0  
global_txn_processes                 integer     1  
job_queue_processes                  integer     4  
log_archive_max_processes            integer     4  
processes                            integer     100  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can increase these parameters.&lt;/p&gt;

&lt;p&gt;After each change, you will need to restart the database.&lt;/p&gt;

&lt;p&gt;Increase sessions and then bounce database.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; alter system set sessions=250 scope=spfile;  
  
System altered.  
  
SQL&amp;gt; shutdown immediate  
Database closed.  
Database dismounted.  
ORACLE instance shut down.  
SQL&amp;gt; startup  
ORACLE instance started.  
  
Total System Global Area 1068937216 bytes  
Fixed Size                  2233344 bytes  
Variable Size             780143616 bytes  
Database Buffers          281018368 bytes  
Redo Buffers                5541888 bytes  
Database mounted.  
Database opened.  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Verify change to sessions parameter:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; show parameters sessions;  
  
NAME                                 TYPE        VALUE  
------------------------------------ ----------- ------------------------------  
java_max_sessionspace_size           integer     0  
java_soft_sessionspace_limit         integer     0  
license_max_sessions                 integer     0  
license_sessions_warning             integer     0  
sessions                             integer     252  
shared_server_sessions               integer  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Increase processes and restart database&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; alter system set processes=200 scope=spfile;  
  
System altered.  
  
SQL&amp;gt; shutdown immediate;
  
Database dismounted.  
ORACLE instance shut down.  
SQL&amp;gt; startup  
ORACLE instance started.  
  
Total System Global Area 1068937216 bytes  
Fixed Size                  2233344 bytes  
Variable Size             763366400 bytes  
Database Buffers          297795584 bytes  
Redo Buffers                5541888 bytes  
Database mounted.  
Database opened.  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Verify change to processes parameter:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt;  show parameters processes;  
  
NAME                                 TYPE        VALUE  
------------------------------------ ----------- ------------------------------  
aq_tm_processes                      integer     0  
db_writer_processes                  integer     1  
gcs_server_processes                 integer     0  
global_txn_processes                 integer     1  
job_queue_processes                  integer     4  
log_archive_max_processes            integer     4  
processes                            integer     200  
SQL&amp;gt;  
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;step-8-enable-archivelog-mode&quot;&gt;Step 8: Enable Archivelog Mode&lt;/h2&gt;

&lt;p&gt;To enable online or “hot” backups, Archivelog Mode must be enabled.&lt;/p&gt;

&lt;p&gt;Additionally, if you do not enable Archivelog Mode and take only offline or “cold” backups, should you need to restore the database you will only be able to restore to the last backup&lt;/p&gt;

&lt;p&gt;To enable Archivelog Mode, shutdown the database and then startup mount:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; shutdown immediate  
Database closed.  
Database dismounted.  
ORACLE instance shut down.  
SQL&amp;gt; startup mount  
ORACLE instance started.  
  
Total System Global Area 1068937216 bytes  
Fixed Size                  2233344 bytes  
Variable Size             763366400 bytes  
Database Buffers          297795584 bytes  
Redo Buffers                5541888 bytes  
Database mounted.  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Enable Archivelog Mode&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; alter database archivelog;  
  
Database altered.  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Open the database and verify that Archivelog Mode is enabled&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; alter database open;  
  
Database altered.  
  
SQL&amp;gt; SELECT LOG_MODE FROM SYS.V$DATABASE;  
  
LOG_MODE  
------------  
ARCHIVELOG  
  
SQL&amp;gt;  
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;step-9-create-online-backup-script&quot;&gt;Step 9: Create Online Backup Script&lt;/h2&gt;

&lt;p&gt;To create automated backups, you can modify the &lt;code&gt;backup.sh&lt;/code&gt; included under &lt;code&gt;/u01/app/oracle/product/11.2.0/xe/config/scripts&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Create a directory for your backup script&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[root@ms3 ~]# mkdir /opt/ora_backup  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Change the owner to oracle and the group to dba &lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[root@ms3 ~]# chown oracle:dba /opt/ora_backup  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Copy the &lt;code&gt;backup.sh&lt;/code&gt; script from &lt;code&gt;/u01/app/oracle/product/11.2.0/xe/config/scripts&lt;/code&gt; to the directory you created above.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[root@ms3 ~]# cp  /u01/app/oracle/product/11.2.0/xe/config/scripts/backup.sh /opt/ora_backup/backup.sh  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Open the &lt;code&gt;backup.sh&lt;/code&gt; script in a text editor or vi. The last section will look like this:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;else  
   echo Backup of the database succeeded.  
   echo Log file is at $rman_backup_current.  
fi  
 
#Wait for user to press any key  
echo -n &quot;Press ENTER key to exit&quot;  
read userinp   
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Change it to: &lt;/p&gt;

&lt;pre&gt;&lt;code&gt;else  
   echo Backup of the database succeeded.  
   echo Log file is at $rman_backup_current.  
   mail -s &#39;Oracle Backup Completed&#39; &#39;david@davidghedini.com&#39; &amp;lt; /u01/app/oracle/oxe_backup_current.log  
fi  
 
#Wait for user to press any key  
#echo -n &quot;Press ENTER key to exit&quot;  
#read userinp   
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The line we added above, &lt;code&gt;mail -s &#39;Oracle Backup Completed&#39; &#39;david@davidghedini.com&#39; &amp;lt; /u01/app/oracle/oxe_backup_current.log&lt;/code&gt;, will send us an email notification that the backup has completed as well as cat the backup log to the body of the email.&lt;/p&gt;

&lt;p&gt;Note that we have also commented out the last two lines of the script (the prompt). &lt;/p&gt;

&lt;p&gt;Create a cron job to run the script as user oracle.&lt;/p&gt;

&lt;p&gt;You should run it at least once a day. With Archivelog Mode enabled, it is important that backups be taken regularly to prevent the Flash Recovery Area from filling. &lt;/p&gt;

&lt;h2 id=&quot;step-10-oracle-11g-xe-and-application-express-apex&quot;&gt;Step 10: Oracle 11g XE and Application Express (APEX)&lt;/h2&gt;

&lt;p&gt;Oracle 11g Express Edition comes with Application Express 4.0.2 already installed. &lt;/p&gt;

&lt;p&gt;If you elect to upgrade to the latest version (4.1 as of this writing), you can do so but will loose access to the XE GUI. Not a huge loss, but something to keep in mind.&lt;/p&gt;

&lt;p&gt;Although Apex is already installed, you will need to set the Internal Admin password.&lt;/p&gt;

&lt;p&gt;To do so, run the apxchpwd.sql located under &lt;code&gt;/u01/app/oracle/product/11.2.0/xe/apex&lt;/code&gt;:&lt;/p&gt;

&lt;p&gt;Note: pick something simple like &lt;code&gt;Password123!&lt;/code&gt; as you will be prompted to change it on first log in anyways.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; @/u01/app/oracle/product/11.2.0/xe/apex/apxchpwd.sql  
Enter a value below for the password for the Application Express ADMIN user.  
  
  
Enter a password for the ADMIN user              []  
  
Session altered.  
  
...changing password for ADMIN  
  
PL/SQL procedure successfully completed.  
  
  
Commit complete.  
  
SQL&amp;gt;  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can access the Application Express GUI at:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;http://localhost:8080/apex/f?p=4550:1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Replace localhost above with your IP or domain as required.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Workspace: Internal
User Name: admin
Password: (whatever you selected above).
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Alternatively, you can access via &lt;code&gt;http://localhost:8080/apex/f?p=4550:10&lt;/code&gt; or &lt;code&gt;http://localhost:8080/apex/apex_admin&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Again, replace localhost above with your IP or domain as required.&lt;/p&gt;

&lt;h2 id=&quot;step-11-oracle-11g-xe-configure-epg-or-apex-listener&quot;&gt;Step 11: Oracle 11g XE: Configure EPG or Apex Listener&lt;/h2&gt;

&lt;p&gt;Unless you have a license for Oracle HTTP Server (OHS), your options are the embedded PLSQL Gateway (EPG) or Apex Listener. &lt;/p&gt;

&lt;p&gt;The Application Express that comes installed with Oracle 11g XE is configured using the EPG.&lt;/p&gt;

&lt;p&gt;While the EPG is simpler than Apex Listener, it can be painfully slow as of Apex 3.2. &lt;/p&gt;

&lt;p&gt;Apex Listener, while quite fast, adds an extra layer of complexity. &lt;/p&gt;

&lt;p&gt;You will need to install an application server to run Apex Listener.&lt;/p&gt;

&lt;p&gt;I have run Apex Listener on both Tomcat (unsupported) as well as Oracle GlassFish 3.x (supported) and was not impressed with either.&lt;/p&gt;

&lt;p&gt;A lot of people who know far more than I do about APEX (read: 99.9999% of the population) like the Apex Listener.&lt;/p&gt;

&lt;p&gt;Apex Listener and it’s installation guide can be found &lt;a href=&quot;http://www.oracle.com/technetwork/developer-tools/apex-listener/overview/index.html&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The Apex Listener installation guide is well done and simple to follow.&lt;/p&gt;

&lt;p&gt;If you need to install Oracle GlassFish or GlassFish CE (basic installation is the same), you can use my GlassFish 3.1 instructions &lt;a href=&quot;http://www.davidghedini.com/pg/entry/install_glassfish_3_1_on&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If you want to be an outlaw and use Tomcat, you can use my Tomcat 6 installation guide &lt;a href=&quot;http://www.davidghedini.com/pg/entry/install_tomcat_6_on_centos&quot;&gt;here&lt;/a&gt;, or my Tomcat 7 installation guide &lt;a href=&quot;http://www.davidghedini.com/pg/entry/install_tomcat_7_on_centos&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Sorting IPC transformations usage from log with VIM</title>
   <link href="/sorting-ipc-transformations-usage-with-vim/"/>
   <updated>2013-05-21T00:00:00+04:00</updated>
   <id>/sorting-ipc-transformations-usage-with-vim</id>
   <content type="html">&lt;p&gt;IPC provides information about performance of transformations in session. It’s located in session’s log close to end of log. Format of the record is simple – “name of transformation: percentage of usage”. Unfortunately, transformations aren’t sorted in any fashion. To sort this in vim, I use such script:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;:sort! n r /[0-9]\+\.[0-9]\+/
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Here &lt;code&gt;!&lt;/code&gt; means reverse sorting, &lt;code&gt;n&lt;/code&gt; stands for sorting using decimal number, &lt;code&gt;r&lt;/code&gt; tells vim to use pattern to search, pattern &lt;code&gt;/{regex}/&lt;/code&gt; searches through percentage of usage.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>VIM cheatsheet</title>
   <link href="/vim-cheatsheet/"/>
   <updated>2013-05-20T00:00:00+04:00</updated>
   <id>/vim-cheatsheet</id>
   <content type="html">&lt;p&gt;I found useful to put tips on vim into this page as I &lt;a href=&quot;http://iseetheline.ru/git-cheatsheet/&quot;&gt;do&lt;/a&gt; with git. All
posts about vim I’ll put into category “vim”, so it’s easy to find them. &lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;My &lt;a href=&quot;https://pinboard.in/u:schmooser/t:vim/&quot;&gt;saved links&lt;/a&gt; on vim are on Pinboard.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;My &lt;code&gt;.vimrc&lt;/code&gt; and list of used plugins is on the &lt;a href=&quot;https://github.com/schmooser/rbddotfiles&quot;&gt;GitHub&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Very useful &lt;a href=&quot;http://rayninfo.co.uk/vimtips.html&quot;&gt;list of VIM’s tricks and tips&lt;/a&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;To remove DOS &lt;code&gt;^M&lt;/code&gt;’s use &lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;:%s/{Ctrl+V}{Ctrl+M}//g
&lt;/code&gt;&lt;/pre&gt;

    &lt;p&gt;On Windows use Ctrl+Q instead of Ctrl+V.
Or, as mentioned in tips above, use&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;:%s/\r//g
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;To copy into buffer &lt;code&gt;*&lt;/code&gt; output of command use &lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;:redir @* | set guifont | redir END
&lt;/code&gt;&lt;/pre&gt;

    &lt;p&gt;Founded &lt;a href=&quot;http://superuser.com/questions/167352/how-do-i-copy-command-output-in-vim&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;To copy to system clipboard copy to &lt;code&gt;+&lt;/code&gt; buffer with &lt;code&gt;&quot;+y&lt;/code&gt;. To paste from
system clipboard paste from &lt;code&gt;+&lt;/code&gt; buffer with &lt;code&gt;&quot;+p&lt;/code&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;To open window with command history (and copy from it, if you want), type
&lt;code&gt;q:&lt;/code&gt;. To open window with search history, type &lt;code&gt;q/&lt;/code&gt;. Read more on &lt;a href=&quot;http://vim.wikia.com/wiki/Using_command-line_history&quot;&gt;Vim
wikia&lt;/a&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;To format long lines as limited, say for 80 chars, use &lt;code&gt;:set tw=80&lt;/code&gt; and then
do &lt;code&gt;gq&lt;/code&gt; on the line.&lt;/p&gt;

    &lt;p&gt;Article on &lt;a href=&quot;http://vim.wikia.com/wiki/Automatic_word_wrapping&quot;&gt;Vim wikia&lt;/a&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;To convert file line-endings from dos format (\r\n) to unix format (\n) or vice versa use&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;:set fileformat=unix|dos|mac
&lt;/code&gt;&lt;/pre&gt;

    &lt;p&gt;More in &lt;code&gt;:help fileformat&lt;/code&gt;.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Working with sqlplus on OS X</title>
   <link href="/sqlplus-on-os-x/"/>
   <updated>2013-05-19T00:00:00+04:00</updated>
   <id>/sqlplus-on-os-x</id>
   <content type="html">&lt;p&gt;I’ve installed Oracle’s &lt;code&gt;sqlplus&lt;/code&gt; on my OS X 10.8 in a similar fashion that I
described in this &lt;a href=&quot;http://iseetheline.ru/running-oracle-instant-client-on-windows/&quot;&gt;post&lt;/a&gt;. I also added to my &lt;code&gt;.profile&lt;/code&gt; this lines:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# added sqlplus variables when they needed
export DYLD_LIBRARY_PATH=&quot;/usr/local/oracle/instantclient10_2&quot;
export SQLPATH=&quot;/usr/local/oracle/instantclient10_2&quot;
export TNS_ADMIN=&quot;/etc/oracle&quot;
export NLS_LANG=&quot;AMERICAN_AMERICA.UTF8&quot;
export PATH=$SQLPATH:$PATH
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Obviously, &lt;code&gt;$SQLPATH&lt;/code&gt; above corresponded to the location of instantclient’s
files.&lt;/p&gt;

&lt;p&gt;After doing this sqlplus works fine, but all sudo operations starts to produce
this error message:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;dyld: DYLD_ environment variables being ignored because main executable (/usr/bin/sudo) is setuid or setgid
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;By googling on this error I found that it’s a bug in OS X. So, as workaround I
putted above environment variables into separate file &lt;code&gt;.sqlplus.env&lt;/code&gt; and when I
need to use &lt;code&gt;sqlplus&lt;/code&gt; I load it with &lt;code&gt;. ~/.sqlplus.env&lt;/code&gt;.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Highlighting test</title>
   <link href="/highlighting-test/"/>
   <updated>2013-01-11T00:00:00+04:00</updated>
   <id>/highlighting-test</id>
   <content type="html">&lt;p&gt;I experienced problem with building pages on GitHub pages service. &lt;a href=&quot;https://help.github.com/articles/using-jekyll-with-pages&quot;&gt;It’s said&lt;/a&gt; to try to run jekyll locally and I did it successfully. After few experiments I found that an error is caused by existance of highlighting of code in post. After I dropped all highlighting error vanished. In this test post I will try to highlight some code to test code hightlighting.&lt;/p&gt;

&lt;h3 id=&quot;ruby&quot;&gt;Ruby&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;def foo
  puts &amp;#39;foo&amp;#39;
end&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

</content>
 </entry>
 
 <entry>
   <title>CentOS 6 minimal from zero to useful environment</title>
   <link href="/centos-63-minimal-from-zero-to-useful-environment/"/>
   <updated>2013-01-11T00:00:00+04:00</updated>
   <id>/centos-63-minimal-from-zero-to-useful-environment</id>
   <content type="html">&lt;blockquote&gt;
  &lt;p&gt;There is a great post “&lt;a href=&quot;http://plusbryan.com/my-first-5-minutes-on-a-server-or-essential-security-for-linux-servers&quot;&gt;My First 5 Minutes On A Server&lt;/a&gt;”
by Bryan Kennedy which covers security aspects.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;After installing CentOS 6 in minimal configuration you’ll get a simple
login shell with some useful options missed. Let’s install them.&lt;/p&gt;

&lt;h2 id=&quot;network&quot;&gt;Network&lt;/h2&gt;

&lt;p&gt;Check it with command &lt;code&gt;ifconfig&lt;/code&gt;. If there is only &lt;code&gt;lo&lt;/code&gt; interface then network
is shut down. Start it up with &lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ifconfig eth0 up
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Check &lt;code&gt;ifconfig&lt;/code&gt; again. If there is no IPv4 address attached to &lt;code&gt;eth0&lt;/code&gt;
interface, get one with &lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ dhclient eth0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then check again, usually everything is ok and you can ping something with &lt;code&gt;ping
ya.ru&lt;/code&gt;. If you want to keep this change permanent, so that &lt;code&gt;eth0&lt;/code&gt; would start at
boot, you’ve got to change &lt;code&gt;ONBOOT=&quot;no&quot;&lt;/code&gt; to &lt;code&gt;ONBOOT=&quot;yes&quot;&lt;/code&gt; in
&lt;code&gt;/etc/sysconfig/network-scripts/ifcfg-eth0&lt;/code&gt; config file.&lt;/p&gt;

&lt;h2 id=&quot;system-settings&quot;&gt;System settings&lt;/h2&gt;

&lt;p&gt;To turn off 3 seconds delay during startup edit file &lt;code&gt;/etc/grub.conf&lt;/code&gt; and set
&lt;code&gt;timeout=0&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;If you want to edit hostname, set it in &lt;code&gt;/etc/sysconfig/network&lt;/code&gt; under
&lt;code&gt;HOSTNAME&lt;/code&gt; option.&lt;/p&gt;

&lt;h2 id=&quot;users-and-security&quot;&gt;Users and security&lt;/h2&gt;

&lt;p&gt;Add your primary user use &lt;code&gt;useradd username&lt;/code&gt; and then &lt;code&gt;passwd username&lt;/code&gt; to
change his password.&lt;/p&gt;

&lt;h2 id=&quot;vm-tools&quot;&gt;VM tools&lt;/h2&gt;

&lt;p&gt;For comfort use you need VM tools to be installed. Usually tools are installed
via CD image attached to VM’s CD-ROM. I
&lt;a href=&quot;/mounting-cdrom-on-ubuntu-server/&quot;&gt;wrote&lt;/a&gt; about mounting CD-ROM on Ubuntu
Sever, but I will repeat. Create directory &lt;code&gt;mkdir /media/cdrom&lt;/code&gt;, add to
&lt;code&gt;/etc/fstab&lt;/code&gt; line &lt;code&gt;/dev/cdrom /media/cdrom auto noauto,sync 0 0&lt;/code&gt;, mount CDROM
with &lt;code&gt;mount /media/cdrom&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;To install Parallels Tools use &lt;code&gt;/media/cdrom/install&lt;/code&gt; to install.&lt;/p&gt;

&lt;p&gt;To install VirtualBox additions do:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# yum install make -y
# yum install gcc -y
# yum install kernel sources -y
# yum install kernel-devel -y
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then restart system. After restart, do &lt;code&gt;/media/cdrom/VBoxLinuxAdditions.run&lt;/code&gt;.
To uninstall additions, do &lt;code&gt;/media/cdrom/VBoxLinuxAdditions.run uninstall&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;For additional info look at &lt;a href=&quot;https://forums.virtualbox.org/viewtopic.php?t=4960&quot;&gt;VirtualBox forums&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;packages&quot;&gt;Packages&lt;/h2&gt;

&lt;p&gt;I usually also install this packages:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# yum install mc sudo unzip man git hg vim nmap -y
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Install zsh if you prefer it to bash with &lt;code&gt;# yum install zsh&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&quot;firewall&quot;&gt;Firewall&lt;/h2&gt;

&lt;p&gt;By default CentOS opens only ssh port. To open other ports you have to modify
iptables rules. Manual for using iptables in CentOS is in the &lt;a href=&quot;http://wiki.centos.org/HowTos/Network/IPTables&quot;&gt;official
documentation&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;My usual settings are:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#!/bin/bash
#
# iptables configuration script
#
# Flush all current rules from iptables
iptables -F
#
# Allow SSH connections on tcp port 22
iptables -A INPUT -p tcp --dport 22 -j ACCEPT
#
# Open needful ports
iptables -A INPUT -p tcp --dport 80 -j ACCEPT
iptables -A INPUT -p tcp --dport 8080 -j ACCEPT
iptables -A INPUT -p tcp --dport 1521 -j ACCEPT
#
# Set default policies for INPUT, FORWARD and OUTPUT chains
iptables -P INPUT DROP
iptables -P FORWARD DROP
iptables -P OUTPUT ACCEPT
#
# Set access for localhost
iptables -A INPUT -i lo -j ACCEPT
#
# Accept packets belonging to established and related connections
iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT
#
# Save settings
/sbin/service iptables save
#
# List rules
iptables -L -v
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;em&gt;The following sections are optional if you need them on this very machine.&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&quot;java&quot;&gt;Java&lt;/h2&gt;

&lt;p&gt;To install JRE download appropriate .tar.gz for your distribution, then unpack
it into &lt;code&gt;/usr/java/&lt;/code&gt; and make symlinks &lt;code&gt;current&lt;/code&gt; and &lt;code&gt;latest&lt;/code&gt; pointed to it. In
my case it was:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ln -s jre1.7.0_10 current
ln -s jre1.7.0_10 latest
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then add &lt;code&gt;/usr/java/current/bin&lt;/code&gt; into your &lt;code&gt;~/.profile&lt;/code&gt; file:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;export PATH=$PATH:/usr/java/current/bin
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Check if java is installed correctly:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;java -version
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If there is an error&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;bash: /usr/java/current/bin/java: /lib/ld-linux.so.2: bad ELF interpreter
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;try to install package &lt;/p&gt;

&lt;pre&gt;&lt;code&gt;yum install glibc.i686
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;oracle-instant-client&quot;&gt;Oracle instant client&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Download files &lt;code&gt;instantclient-basic-linux-11.2.0.3.0.zip&lt;/code&gt; and
&lt;code&gt;instantclient-sqlplus-linux-11.2.0.3.0.zip&lt;/code&gt; from &lt;a href=&quot;http://www.oracle.com/technetwork/database/features/instant-client/index-097480.html&quot;&gt;Oracle Instant Client
download area&lt;/a&gt;. Be sure to download
appropriate version for your OS. If you use 64-bit OS then download x86_64
version of instant client. Unzip them somewhere, eg.
&lt;code&gt;/opt/oracle/instantclient_11_2&lt;/code&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Install &lt;code&gt;libaio&lt;/code&gt; package.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Add this environment variables to &lt;code&gt;.profile&lt;/code&gt; or &lt;code&gt;.bashrc&lt;/code&gt;:&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;export ORACLE_HOME=/opt/oracle/instantclient_11_2
export LD_LIBRARY_PATH=/opt/oracle/instantclient_11_2
export TNS_ADMIN=$ORACLE_HOME/network/admin/
export NLS_LANG=AMERICAN_AMERICA.UTF8
export PATH=$PATH:$ORACLE_HOME
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Add file &lt;code&gt;$TNS\_ADMIN/tnsnames.ora&lt;/code&gt; with content like this:&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;ORCL =
(DESCRIPTION =
  (ADDRESS = 
    (PROTOCOL = TCP)
    (HOST = hostname)
    (PORT = 1521) 
  )
  (CONNECT_DATA =
    (SERVER = DEDICATED)
    (SERVICE_NAME = sid)
  )
)
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Of course, you can use another path instead of &lt;code&gt;/opt/oracle&lt;/code&gt; to put instant
client files.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Installing Oracle XE 11gR2 on CentOS 6</title>
   <link href="/installing-oracle-xe-11gr2-on-centos-6/"/>
   <updated>2012-10-06T00:00:00+04:00</updated>
   <id>/installing-oracle-xe-11gr2-on-centos-6</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.davidghedini.com/pg/entry/install_oracle_11g_xe_on&quot;&gt;This&lt;/a&gt; great tutorial covers all aspects of installation Oracle XE 11gR2 on CentOS 6. &lt;/p&gt;

&lt;p&gt;I also did &lt;a href=&quot;/install-oracle-xe-on-centos-6/&quot;&gt;backup post&lt;/a&gt; of it.&lt;/p&gt;

&lt;p&gt;Except some things. &lt;/p&gt;

&lt;h2 id=&quot;swap-file&quot;&gt;Swap file&lt;/h2&gt;

&lt;p&gt;Oracle XE &lt;a href=&quot;http://docs.oracle.com/cd/E17781_01/install.112/e18802/toc.htm&quot;&gt;requires&lt;/a&gt; minimum 2 Gb of swap file. To verify your swap space use &lt;code&gt;# cat /proc/swaps&lt;/code&gt;. If there is no enough swap size – add it. Manual is &lt;a href=&quot;http://www.centos.org/docs/5/html/Deployment_Guide-en-US/s1-swap-adding.html&quot;&gt;here&lt;/a&gt;. I add it by using this:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;h4 id=&quot;creating-a-swap-file&quot;&gt;5.2.3. Creating a Swap File&lt;/h4&gt;

  &lt;p&gt;To add a swap file:&lt;/p&gt;

  &lt;ol&gt;
    &lt;li&gt;
      &lt;p&gt;Determine the size of the new swap file in megabytes and multiply by 1024 to determine the number of blocks. For example, the block size of a 64 MB swap file is 65536.&lt;/p&gt;
    &lt;/li&gt;
    &lt;li&gt;
      &lt;p&gt;At a shell prompt as root, type the following command with count being equal to the desired block size:&lt;/p&gt;

      &lt;pre&gt;&lt;code&gt;dd if=/dev/zero of=/swapfile bs=1024 count=65536
&lt;/code&gt;&lt;/pre&gt;
    &lt;/li&gt;
    &lt;li&gt;
      &lt;p&gt;Setup the swap file with the command:&lt;/p&gt;

      &lt;pre&gt;&lt;code&gt;mkswap /swapfile
&lt;/code&gt;&lt;/pre&gt;
    &lt;/li&gt;
    &lt;li&gt;
      &lt;p&gt;To enable the swap file immediately but not automatically at boot time:&lt;/p&gt;

      &lt;pre&gt;&lt;code&gt;swapon /swapfile
&lt;/code&gt;&lt;/pre&gt;
    &lt;/li&gt;
    &lt;li&gt;
      &lt;p&gt;To enable it at boot time, edit /etc/fstab to include the following entry:&lt;/p&gt;

      &lt;pre&gt;&lt;code&gt;/swapfile          swap            swap    defaults        0 0
&lt;/code&gt;&lt;/pre&gt;

      &lt;p&gt;The next time the system boots, it enables the new swap file.&lt;/p&gt;
    &lt;/li&gt;
    &lt;li&gt;
      &lt;p&gt;After adding the new swap file and enabling it, verify it is enabled by viewing the output of the command cat &lt;code&gt;/proc/swaps&lt;/code&gt; or &lt;code&gt;free&lt;/code&gt;.&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;hostname-resolving&quot;&gt;Hostname resolving&lt;/h2&gt;

&lt;p&gt;There is an error during configuration of database’s setup (Step 2, running &lt;code&gt;oracle-xe configure&lt;/code&gt; command). It fails with the following statement:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Database Configuration failed. Look into /u01/app/oracle/product/11.2.0/xe/config/log for details&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;I found a solution in &lt;a href=&quot;http://arnekroeger.blogspot.com/2011/09/oracle-11g-xe-installation-error.html&quot;&gt;Arne Kroger’s blog&lt;/a&gt; — if you’ll check errors in log files, mentioned inerror message, with &lt;code&gt;cat *.log | grep ORA-&lt;/code&gt; you’ll see that it can’t find a host with your system name. All you have to do is edit &lt;code&gt;/etc/hosts&lt;/code&gt; file adding the line&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ini&quot;&gt;127.0.0.1	centos63&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;After restarting of &lt;code&gt;oracle-xe configure&lt;/code&gt; everything should be fine.&lt;/p&gt;

&lt;h2 id=&quot;changing-http-port-of-apex&quot;&gt;Changing HTTP port of APEX&lt;/h2&gt;

&lt;p&gt;During install I put APEX on port 80. It’s privileged port and can be runned only by root, not oracle. So, after setup APEX wasn’t working. I changed port to 8080 with this commands:&lt;/p&gt;

&lt;p&gt;Getting info about current port:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; select dbms_xdb.gethttpport as &quot;HTTP-Port&quot;
            , dbms_xdb.getftpport as &quot;FTP-Port&quot; from dual;

HTTP-Port   FTP-Port
---------- ----------
        80          0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Changing to desired value:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SQL&amp;gt; begin
 2    dbms_xdb.sethttpport(&#39;8080&#39;);
 3    dbms_xdb.setftpport(&#39;2100&#39;);
 4  end;
 5  /
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;0 means that port is disabled.&lt;/p&gt;

&lt;p&gt;Additional info in &lt;a href=&quot;http://daust.blogspot.ru/2006/01/xe-changing-default-http-port.html&quot;&gt;this&lt;/a&gt; post by daust.&lt;/p&gt;

&lt;h2 id=&quot;upgrading-apex&quot;&gt;Upgrading APEX&lt;/h2&gt;

&lt;p&gt;Default APEX in Oracle XE is outdated. Download new version and install. Upgrade process is &lt;a href=&quot;http://www.oracle.com/technetwork/developer-tools/apex/upgrade-apex-for-xe-154969.html&quot;&gt;covered here&lt;/a&gt;. Complete manual is &lt;a href=&quot;http://docs.oracle.com/cd/E37097_01/doc/install.42/e35123/toc.htm&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://docs.oracle.com/cd/E17781_01/index.htm&quot;&gt;Official documentation of Oracle XE.&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tested on CentOS 6.3 and 6.4.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Downloading archive of Listen to English podcast</title>
   <link href="/downloading-archive-of-listen-to-english-podcast/"/>
   <updated>2012-10-04T00:00:00+04:00</updated>
   <id>/downloading-archive-of-listen-to-english-podcast</id>
   <content type="html">&lt;p&gt;I like to listen Listen to English podcast. It’s host Peter Carter choose interesting topics and have a nice english pronunciation. I started to listen the podcast about one and a half year ago. Since then there were a dozen of a new episodes. I also listened all old episodes available on iTunes. Unfortunately, the RSS feed of the podcast consists only about 30 episodes and now the oldest one is about 2 year old. The total number of episodes is about 300, so I decided to download them from archive section on &lt;a href=&quot;http://www.listen-to-english.com&quot;&gt;podcast’s site&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;There is no ‘Download all’ button, in order to download an episode you have to go on episode’s page and check on download link. The link looks like this – &lt;code&gt;http://www.listen-to-english.com/get.php?web=j55.mp3&lt;/code&gt; where &lt;code&gt;55&lt;/code&gt; before &lt;code&gt;mp3&lt;/code&gt; is the id of an episode.&lt;/p&gt;

&lt;p&gt;I decided to I wrote simple python script which loops from 1 till 500 and downloads all of mp3’s.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;python&quot;&gt;# -*- coding: utf-8 -*-
import urllib2

url = &amp;#39;http://www.listen-to-english.com/get.php?web=j%d.mp3&amp;#39;
target_dir = &amp;#39;/path/to/target/dir&amp;#39;

for i in range(1,600):
  print i
  mp3 = urllib2.urlopen(url % i)
  try:
    header = mp3.read(6)
    if &amp;#39;Fatal&amp;#39; in header:
      continue
    localmp3 = open(&amp;#39;%s/%d.mp3&amp;#39; % (target_dir, i), &amp;#39;wb&amp;#39;)
    localmp3.write(header)
    localmp3.write(mp3.read())
    localmp3.close()
    print &amp;#39;%d - done!&amp;#39; % i
  except IOError, e:
    print &amp;#39;Download error&amp;#39;
          
print &amp;#39;Done&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This script also checks whether the response of server is not like &lt;code&gt;Fatal error ...&lt;/code&gt;, because the episode’s ids are sparsed.&lt;/p&gt;

&lt;p&gt;After the script done its work I checked whether downloaded files are a valid mp3’s. To do this I used on OS X 10.8 console tool &lt;code&gt;afinfo&lt;/code&gt;, which shows information about audio file:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;for item in `ls -rS *.mp3`
do
  a=`afinfo $item 2&amp;gt; /dev/null | grep &amp;quot;bit rate&amp;quot; | wc -l`
  if [ $a -ne 1 ]
  then
    echo $item; 
    rm $item;
  fi
done&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now we have normal mp3s. How to import them into iTunes into Podcast section in correct podcast? After googling I found &lt;a href=&quot;http://markbowers.org/home/itunes-podcast-fix#comment-5056&quot;&gt;a post&lt;/a&gt; a solution: &lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;This method seems to work very well! After doing this, the file gets added to the “Podcasts” section AND shows up under the correct podcast heading. (And all without messing around with XML and hosts files.) In addition to: ITUNESPODCAST ITUNESPODCASTDESC ITUNESPODCASTID ITUNESPODCASTURL One must also add: RELEASETIME With an example value: 2008-03-07T17:30:00Z To get the podcast to show in the chronologically correct spot.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;All I have to do is to add ID3v2 tags into mp3s. How to do this? I found a couple of tools for OS X to dealing with ID3 tags, but only one – &lt;a href=&quot;www.pa-software.com/id3editor/&quot;&gt;ID3 Editor&lt;/a&gt; – has a command line tool (i.e. to batch processing which i need) and ability to edit podcast tags. The script of batch operation on files looks like this:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;pcfd=&amp;quot;http://feeds.feedburner.com/ListenToEnglish-LearnEnglish&amp;quot;
for item in `ls *.mp3`
do
  pcid=&amp;quot;http://www.listen-to-english.com/index.php?id=${item%.mp3}&amp;quot;;
  echo $pcid:
  id3edcmd -pcon -pcid $pcid -pcfd $pcfd $item;
done&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;But the tool costs $15, which is not acceptable to use such kind of single work. Trial version have a limit to 20 program runs. One run is the one change of mp3 file.&lt;/p&gt;

&lt;p&gt;After a long 2-day search the only worked solution I found is to add media to iTunes library as an ordinary music, then edit all of the files to have the same Artist and Album and set Media type to Podcast. After that all of them are appear in the Podcast section in iTunes.&lt;/p&gt;

&lt;p&gt;Happy listening!&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Syncing Instagram with Flickr</title>
   <link href="/syncing-instagram-with-flickr/"/>
   <updated>2012-09-29T00:00:00+04:00</updated>
   <id>/syncing-instagram-with-flickr</id>
   <content type="html">&lt;h2 id=&quot;problem&quot;&gt;Problem&lt;/h2&gt;

&lt;p&gt;In my opinion, &lt;a href=&quot;http://flickr.com&quot;&gt;Flickr&lt;/a&gt; is the best photo service online. It’s abilities to
organize photos and beautiful design makes me happy using It. From other hand,
&lt;a href=&quot;http://instagr.am&quot;&gt;Instagram&lt;/a&gt; is the best portable camera app with huge user community, nice
pre-defined filters and social features.&lt;/p&gt;

&lt;p&gt;I know 2 options to copy photos from Intagram to Flickr. You can upload (share)
your photo to Flickr right from Instagram via sharing options. Unfortunately,
you have to share each photo directly, and it’s so annoying. And you can use a
service &lt;a href=&quot;http://ifttt.com&quot;&gt;IFTTT&lt;/a&gt;, which can copy each new photo from Instagram photostream to
Flickr. I had used this approach in my previous vacations in
&lt;a href=&quot;http://localhost&quot;&gt;Germany and Holland&lt;/a&gt; and &lt;a href=&quot;http://localhost&quot;&gt;Spain&lt;/a&gt; in 2012.&lt;/p&gt;

&lt;p&gt;The common problem with both this options is that Instagram saves in it’s
servers only the small-sized photo. Currently, it’s a 612x612 px. So, the same
small photo goes to Flickr. The original photo is saved to your phone and has
in case of my girlfriend’s iPhone 4S the size of 2048x2048 px. I’d like to have
a mechanizm to putting the full-sized photos from iPhone to Flickr with
replacing small Instagram photos.&lt;/p&gt;

&lt;p&gt;I’ve decided to write synchronization script. It should be works like this: you
put photos from iPhone into a local folder in your computer. Then run a script
and it does everything.&lt;/p&gt;

&lt;h2 id=&quot;limits&quot;&gt;Limits&lt;/h2&gt;

&lt;p&gt;The first limit to do this – you have to have a pro Flickr account, which allows you to replace photo without deleting and uploading a new one. I have one. &lt;/p&gt;

&lt;p&gt;The second issue – how to bind original photo from iPhone to an existing Flickr photo? They have different names, an iPhone’s photo has EXIF information while Flickr’s (which comes from Instagram) doesn’t have one. I put an Instagram URL into a photo caption on Flickr, so I can bind Flickr’s photo with the one on Instagram and from Instagram via API I can get some information about photo. Geo tags, for example. Unfortanutely, they are differ. I think it happened because into original photo on iPhone saved a geo coordinates of the place where you were while shooting. In Instagram goes information where you were when you’re &lt;em&gt;uploading&lt;/em&gt; photo. The same is about original dates when photo was taken. They have everything different.&lt;/p&gt;

&lt;p&gt;The only idea I have about binding photos is to calculate some statistical properties of a photos and comparing them. There are many methods to do this, for example &lt;a href=&quot;http://stackoverflow.com/questions/1819124/image-comparison-algorithm&quot;&gt;this one&lt;/a&gt;. To use it you’ve to have some python packages to be installed – &lt;code&gt;scipy&lt;/code&gt; and &lt;code&gt;numpy&lt;/code&gt;. I wrote &lt;a href=&quot;/2012/09/30/installing-scipy-and-numpy-in-macosx.html&quot;&gt;a post&lt;/a&gt; about installing them on Mac OS X.&lt;/p&gt;

&lt;!--You have to copy photos from your phone to a folder in your computer and then run the script `Instagram2Flickr.py`.--&gt;

&lt;h2 id=&quot;approach&quot;&gt;Approach&lt;/h2&gt;

&lt;p&gt;To be continued…&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Brilliant Russian language</title>
   <link href="/brilliant-russian-language/"/>
   <updated>2012-09-18T00:00:00+04:00</updated>
   <id>/brilliant-russian-language</id>
   <content type="html">&lt;p&gt;Text on this picture:&lt;/p&gt;

&lt;p&gt;tumblr_mak373ZmTT1qznfpho1_400.jpg&lt;/p&gt;

&lt;h2 id=&quot;the-complex-russian-language&quot;&gt;The complex Russian language&lt;/h2&gt;

&lt;p&gt;There is a table behind us. There are glass and a fork on it. What are they doing? The glass is standing, but the fork is laying. If we stick the fork in the tabletop then the fork will be standing. So, vertical stuff stands and horizontal lie. &lt;/p&gt;

&lt;p&gt;Now let’s add a plate and a pan on the table. They are seemed to be a horizontal, but they are standing on the table. Now we put the plate into the pan. Voila, the plate is laying in the pan nevertheless it was standing on the table.&lt;/p&gt;

&lt;p&gt;May be the stuff that is ready to using is standing? No, the fork was ready to use whet it was laying on the table. &lt;/p&gt;

&lt;p&gt;Now a cat is climbing on the table. It can sit on the table as well as lay and stand on it. We can explain “lay” and “stand” with “vertical-horizontal” logic, but sitting is the new one property. It’s sitting on the butt. Now a bird sits on a table. It sits on a table, but it sits on its legs not on butt. But it should be staying! If we remove the bird and make a staffed bird from it, it  will magically stands on the table!&lt;/p&gt;

&lt;p&gt;It seems that sitting is the being’s property, but a boot is sitting on the leg as it’s not a being and it have no butt. So, let’s understand what is sitting, what is laying and what is standing.&lt;/p&gt;

&lt;p&gt;And we russians are wondering why foreigners think that Russian is complicated and compare it to Chinese.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.reddit.com/r/russian/comments/103a4z/complex_russian/&quot;&gt;This post on reddit&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Strange WiFi issues</title>
   <link href="/strange-wifi-issues/"/>
   <updated>2012-09-16T00:00:00+04:00</updated>
   <id>/strange-wifi-issues</id>
   <content type="html">&lt;p&gt;Yesterday, there were my girlfriend’s guests in our home. They stayed for a night. 
I am not a friend of them, so I decided to go to bedroom and lay on with reading web with iPad. 
But when I tried to browse the web, I had found than Internet is not working. 
WiFi connection is alive, iPad has an IP and router’s address but I can’t browse the web. 
If I switch WiFi off and on Internet appears but for a dozen of seconds. Then it vanishes again. 
I tried to find some kind of ping utility for iPad. With a number of retries I downloaded a 
&lt;a href=&quot;http://itunes.apple.com/us/app/free-ping/id430758871&quot;&gt;FreePing&lt;/a&gt; and tried to ping my router on 192.168.1.1. All packets was lost. But, of cource, 
the WiFi was on and the signal has 2 of 3 bars. &lt;/p&gt;

&lt;p&gt;That was so strange, because my girlfriend’s iPhone worked well.&lt;/p&gt;

&lt;p&gt;I tried to find out on the Internet if another people experienced such problems. There are 
a dozens of such problems, discussed on apple.com and there is a 
&lt;a href=&quot;http://support.apple.com/kb/TS1398&quot;&gt;guide of troubleshooting this&lt;/a&gt;. I did all of that but 
nothing does work. I was gone to sleep. &lt;/p&gt;

&lt;p&gt;Today my problems continued. Then guests gone. And everything became fine. 
iPad works as before. Fantastic.&lt;/p&gt;

&lt;p&gt;But, after iPad gone to sleep and I woke it up the Internet was missed again. 
After turning WiFi off and on it became working.&lt;/p&gt;

&lt;p&gt;Finally, I hopely fixed the problems by turning off DHCP on router and by writing static 
IP’s on all of my network devices. The article on iPad WiFi problems is &lt;a href=&quot;http://appletoolbox.com/2010/04/ipad-wi-fi-problems-comprehensive-list-of-fixes/&quot;&gt;this&lt;/a&gt;. 
The first comment is very helpful.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Mounting CDROM on Ubuntu Server</title>
   <link href="/mounting-cdrom-on-ubuntu-server/"/>
   <updated>2012-09-14T00:00:00+04:00</updated>
   <id>/mounting-cdrom-on-ubuntu-server</id>
   <content type="html">&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Create directory&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; sudo mkdir /mnt/cdrom
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Add to &lt;code&gt;/etc/fstab&lt;/code&gt; (via &lt;code&gt;sudo&lt;/code&gt;)&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; /dev/cdrom /mnt/cdrom auto noauto,sync 0 0
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Mount it with&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; sudo mount cdrom
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
&lt;/ol&gt;
</content>
 </entry>
 
 <entry>
   <title>Some bash tweaks</title>
   <link href="/some-bash-tweaks/"/>
   <updated>2012-08-26T00:00:00+04:00</updated>
   <id>/some-bash-tweaks</id>
   <content type="html">&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;You can get an external IP you’re using in terminal with&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;curl -s http://checkip.dyndns.org | sed &#39;s/[a-zA-Z/&amp;lt;&amp;gt; :]//g&#39;
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;It’s convenient to move around panes in iTerm2 with ⌥⌘+arrow&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;You can copy terminal’s command output to system clipboard by piping it to &lt;code&gt;pbcopy&lt;/code&gt; program:&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;$echo &#39;i see the line&#39; | pbcopy
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
&lt;/ol&gt;
</content>
 </entry>
 
 <entry>
   <title>How it works</title>
   <link href="/how-it-works/"/>
   <updated>2012-08-25T00:00:00+04:00</updated>
   <id>/how-it-works</id>
   <content type="html">&lt;p&gt;I wrote some notes in russian to my main blog – &lt;a href=&quot;iseetheline.ru&quot;&gt;iseetheline.ru&lt;/a&gt;. It’s powered by blog engine named &lt;a href=&quot;http://blogengine.ru&quot;&gt;Aegea&lt;/a&gt;. It has beautiful minimalistic design which I like, it installs simply, it has many features like drag-and-drop image uploading, saving to drafts, tagging, built-in comments, search, rss, support of plugins and so on. But it lacks in three things. &lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Posts should be written using wiki-formatting via web-interface. I HATE wiki-formatting. I love markdown. I love vim. I can’t even remember the rules of wiki-formatting to write links, images and so on.&lt;/li&gt;
  &lt;li&gt;It’s written on php and is not open-source. That’s why I can’t modify it to my needs.&lt;/li&gt;
  &lt;li&gt;It doesn’t have syntax highlighting by default.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;So, it’s great to write about the stuff that happened in daily life, but it’s not suitable for tech notes with many syntax-highlited code.&lt;/p&gt;

&lt;p&gt;Finally I decided to switch to &lt;a href=&quot;http://jekyllrb.com&quot;&gt;Jekyll&lt;/a&gt;. Jekyll is not the engine – it’s a static site generator. You write posts, Jekyll generate a static content from them, you put it on hosting. That’s all. That’s the way I like the things should happen. &lt;/p&gt;

&lt;p&gt;I’ve started to look at Jekyll about a month ago. The things that stop me from starting new Jekyll-based blog was the lack of easy-to-use themes (I don’t understand how &lt;a href=&quot;http://jekyllbootstrap.com&quot;&gt;Jekyll bootstrap&lt;/a&gt; works so I don’t tried it). Today I’ve decided to try again. For that I’ve used some thins which are new for me: git, github, jekyll, sass.&lt;/p&gt;

&lt;p&gt;The process is a kind of straightforward:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Search suitable open-source theme on the &lt;a href=&quot;http://wiki.github.com/mojombo/jekyll/sites&quot;&gt;page with existing sites&lt;/a&gt; using Jekyll&lt;/li&gt;
  &lt;li&gt;Fork it on &lt;a href=&quot;http://github.com&quot;&gt;Github&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Rename repo to &lt;code&gt;&amp;lt;yourname&amp;gt;.github.com&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Clone a repo to a local machine using &lt;code&gt;git clone https://github.com/&amp;lt;yourname&amp;gt;/&amp;lt;yourname&amp;gt;.github.com.git&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Delete all posts from &lt;code&gt;_posts&lt;/code&gt; directory, edit theme to your needs, edit CNAME file to point the correct domain, edit Jekyll’s &lt;code&gt;_config.yml&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Write new post with &lt;code&gt;rake post title=&quot;&amp;lt;new title&amp;gt;&quot;&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Commit it with &lt;code&gt;git commit -a&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Push it to the github with &lt;code&gt;git push origin master&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Point the domain name of the blog (CNAME in step 5) to &lt;code&gt;&amp;lt;yourname&amp;gt;.github.com&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;To simplify my life and to transform my OS X 10.8.1 (the update was released today) to ultimate blogging machine, I made some tweaks:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Added an alias in &lt;code&gt;.bash_profile&lt;/code&gt; to search in &lt;a href=&quot;http://duckduckgo.com&quot;&gt;DuckDuckGo&lt;/a&gt; with links:&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;ddg()
{
 links duckduckgo.com/?q=&quot;$1&quot;
}
alias ddg=ddg
&lt;/code&gt;&lt;/pre&gt;

    &lt;p&gt;If I need a link while writing a post I made &lt;code&gt;ddg &quot;my query&quot;&lt;/code&gt; and grab link from there&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Installed a gem &lt;code&gt;cheat&lt;/code&gt; to display information about various comands right in the terminal:&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;sudo gem install cheat
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
&lt;/ol&gt;

</content>
 </entry>
 
 <entry>
   <title>Starting Jekyll blog</title>
   <link href="/starting-jekyll-blog/"/>
   <updated>2012-08-04T00:00:00+04:00</updated>
   <id>/starting-jekyll-blog</id>
   <content type="html">&lt;p&gt;Hi, there! I’ve decided to start english blog powered by Jekyll. This blog is to improving my english. I will write about my life, about my work, about devices I use daily. Also I will post some links on interesting articles I read on web. &lt;/p&gt;

&lt;p&gt;Welcome!&lt;/p&gt;
</content>
 </entry>
 

</feed>
