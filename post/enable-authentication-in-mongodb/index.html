<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Ora600 &mdash; Some random thoughts &middot; Enable authentication in mongodb  </title>
  <link rel="stylesheet" href="http://localhost:1314/css/bmf.css" />
</head>
<body>

<header>
  <h1>Enable authentication in mongodb</h1>
  <aside>
    Posted by schmooser on <a href="http://localhost:1314/post/enable-authentication-in-mongodb/">4 June 2015</a>
  </aside>
</header>
  <article>
    <p>If you intended to use your mongodb server from outer world you need to enable
authentication. I think that authentication scheme in mongo is far from good and
always struggling with set up. That&rsquo;s why I keep notes on this topic here.</p>

<ol>
<li><p>Start <code>mongod</code> on the db without users using <code>--noauth</code> option and login
there without password</p></li>

<li><p>Create <code>admin</code> user with <code>userAdminAnyDatabase</code> role:</p>

<blockquote>
<p>use admin
db.createUser({user: &ldquo;admin&rdquo;, pwd: &ldquo;somestrongpassword&rdquo;, roles: [{role: &ldquo;userAdminAnyDatabase&rdquo;, db: &ldquo;admin&rdquo;}]})
exit</p>
</blockquote></li>

<li><p>Login with created admin user and add other users:</p>

<p>$ mongo localhost:27017 &ndash;username admin &ndash;password &ldquo;somestrongpassword&rdquo; &ndash;authenticationDatabase admin
&gt; use reports
&gt; db.createUser({user: reports, pwd: &ldquo;12345&rdquo;, roles: [{role: &ldquo;readWrite&rdquo;, db: &ldquo;reports&rdquo;}]})
&gt; exit</p></li>

<li><p>Check that created user is able to login</p>

<p>$ mongo localhost:27017/reports &ndash;username reports &ndash;password &ldquo;12345&rdquo; &ndash;authenticationDatabase reports
&gt;</p></li>
</ol>

<p>That&rsquo;s it. <a href="http://docs.mongodb.org/v2.6/core/security-introduction/">Documentation</a>.</p>

  </article>

<nav>
  
  
   <a href="http://localhost:1314/">Home</a>
  

  
    <a href="http://localhost:1314/page">Pages</a>
  
    <a href="http://localhost:1314/post">Posts</a>
  

</nav>


<footer>
  <p>
  &copy; schmooser.
  
  
    Follow me <a href="http://twitter.com/schmooser">@schmooser</a>.
  
  </p>
</footer>
<script data-no-instant>document.write('<script src="http://'
        + (location.host || 'localhost').split(':')[0]
		+ ':1314/livereload.js?mindelay=10"></'
        + 'script>')</script></body>
</html>

